<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>rtld.c source code [glibc_src_2.31/elf/rtld.c] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="audit_list,audit_list_iter,dlmopen_args,lookup_args,map_args,mode,relocate_args,version_check_args "/>
<link rel="stylesheet" href="../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'glibc_src_2.31/elf/rtld.c'; var root_path = '../..'; var data_path = '../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='..'>glibc_src_2.31</a>/<a href='./'>elf</a>/<a href='rtld.c.html'>rtld.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* Run time dynamic linker.</i></td></tr>
<tr><th id="2">2</th><td><i>   Copyright (C) 1995-2020 Free Software Foundation, Inc.</i></td></tr>
<tr><th id="3">3</th><td><i>   This file is part of the GNU C Library.</i></td></tr>
<tr><th id="4">4</th><td><i></i></td></tr>
<tr><th id="5">5</th><td><i>   The GNU C Library is free software; you can redistribute it and/or</i></td></tr>
<tr><th id="6">6</th><td><i>   modify it under the terms of the GNU Lesser General Public</i></td></tr>
<tr><th id="7">7</th><td><i>   License as published by the Free Software Foundation; either</i></td></tr>
<tr><th id="8">8</th><td><i>   version 2.1 of the License, or (at your option) any later version.</i></td></tr>
<tr><th id="9">9</th><td><i></i></td></tr>
<tr><th id="10">10</th><td><i>   The GNU C Library is distributed in the hope that it will be useful,</i></td></tr>
<tr><th id="11">11</th><td><i>   but WITHOUT ANY WARRANTY; without even the implied warranty of</i></td></tr>
<tr><th id="12">12</th><td><i>   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</i></td></tr>
<tr><th id="13">13</th><td><i>   Lesser General Public License for more details.</i></td></tr>
<tr><th id="14">14</th><td><i></i></td></tr>
<tr><th id="15">15</th><td><i>   You should have received a copy of the GNU Lesser General Public</i></td></tr>
<tr><th id="16">16</th><td><i>   License along with the GNU C Library; if not, see</i></td></tr>
<tr><th id="17">17</th><td><i>   &lt;<a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>&gt;.  */</i></td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../include/errno.h.html">&lt;errno.h&gt;</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="../include/dlfcn.h.html">&lt;dlfcn.h&gt;</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../include/fcntl.h.html">&lt;fcntl.h&gt;</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include &lt;stdbool.h&gt;</u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../include/stdlib.h.html">&lt;stdlib.h&gt;</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="../include/string.h.html">&lt;string.h&gt;</a></u></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="../include/unistd.h.html">&lt;unistd.h&gt;</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="../include/sys/mman.h.html">&lt;sys/mman.h&gt;</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="../include/sys/param.h.html">&lt;sys/param.h&gt;</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="../include/sys/stat.h.html">&lt;sys/stat.h&gt;</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="../sysdeps/unix/sysv/linux/ldsodefs.h.html">&lt;ldsodefs.h&gt;</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="../sysdeps/generic/_itoa.h.html">&lt;_itoa.h&gt;</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="../sysdeps/generic/entry.h.html">&lt;entry.h&gt;</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="../include/fpu_control.h.html">&lt;fpu_control.h&gt;</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="../sysdeps/x86/hp-timing.h.html">&lt;hp-timing.h&gt;</a></u></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="../sysdeps/nptl/libc-lock.h.html">&lt;libc-lock.h&gt;</a></u></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="dynamic-link.h.html">"dynamic-link.h"</a></u></td></tr>
<tr><th id="36">36</th><td><u>#include <a href="../sysdeps/unix/sysv/linux/x86_64/64/dl-librecon.h.html">&lt;dl-librecon.h&gt;</a></u></td></tr>
<tr><th id="37">37</th><td><u>#include <a href="../sysdeps/generic/unsecvars.h.html">&lt;unsecvars.h&gt;</a></u></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="../sysdeps/unix/sysv/linux/x86_64/dl-cache.h.html">&lt;dl-cache.h&gt;</a></u></td></tr>
<tr><th id="39">39</th><td><u>#include <a href="../sysdeps/unix/sysv/linux/dl-osinfo.h.html">&lt;dl-osinfo.h&gt;</a></u></td></tr>
<tr><th id="40">40</th><td><u>#include <a href="../sysdeps/unix/sysv/linux/x86_64/dl-procinfo.h.html">&lt;dl-procinfo.h&gt;</a></u></td></tr>
<tr><th id="41">41</th><td><u>#include <a href="../sysdeps/x86/dl-prop.h.html">&lt;dl-prop.h&gt;</a></u></td></tr>
<tr><th id="42">42</th><td><u>#include <a href="../sysdeps/unix/sysv/linux/dl-vdso.h.html">&lt;dl-vdso.h&gt;</a></u></td></tr>
<tr><th id="43">43</th><td><u>#include <a href="../sysdeps/unix/sysv/linux/dl-vdso-setup.h.html">&lt;dl-vdso-setup.h&gt;</a></u></td></tr>
<tr><th id="44">44</th><td><u>#include <a href="../sysdeps/x86_64/nptl/tls.h.html">&lt;tls.h&gt;</a></u></td></tr>
<tr><th id="45">45</th><td><u>#include <a href="../include/stap-probe.h.html">&lt;stap-probe.h&gt;</a></u></td></tr>
<tr><th id="46">46</th><td><u>#include <a href="../include/stackinfo.h.html">&lt;stackinfo.h&gt;</a></u></td></tr>
<tr><th id="47">47</th><td><u>#include <a href="../sysdeps/unix/sysv/linux/not-cancel.h.html">&lt;not-cancel.h&gt;</a></u></td></tr>
<tr><th id="48">48</th><td></td></tr>
<tr><th id="49">49</th><td><u>#include <a href="../include/assert.h.html">&lt;assert.h&gt;</a></u></td></tr>
<tr><th id="50">50</th><td></td></tr>
<tr><th id="51">51</th><td><i>/* Only enables rtld profiling for architectures which provides non generic</i></td></tr>
<tr><th id="52">52</th><td><i>   hp-timing support.  The generic support requires either syscall</i></td></tr>
<tr><th id="53">53</th><td><i>   (clock_gettime), which will incur in extra overhead on loading time.</i></td></tr>
<tr><th id="54">54</th><td><i>   Using vDSO is also an option, but it will require extra support on loader</i></td></tr>
<tr><th id="55">55</th><td><i>   to setup the vDSO pointer before its usage.  */</i></td></tr>
<tr><th id="56">56</th><td><u>#<span data-ppcond="56">if</span> <a class="macro" href="../sysdeps/x86/hp-timing.h.html#26" title="(1)" data-ref="_M/HP_TIMING_INLINE">HP_TIMING_INLINE</a></u></td></tr>
<tr><th id="57">57</th><td><u># define <dfn class="macro" id="_M/RLTD_TIMING_DECLARE" data-ref="_M/RLTD_TIMING_DECLARE">RLTD_TIMING_DECLARE</dfn>(var, classifier,...) \</u></td></tr>
<tr><th id="58">58</th><td><u>  classifier <a class="typedef" href="../sysdeps/x86/hp-timing.h.html#hp_timing_t" title='hp_timing_t' data-type='unsigned long long' data-ref="hp_timing_t" data-ref-filename="hp_timing_t">hp_timing_t</a> var __VA_ARGS__</u></td></tr>
<tr><th id="59">59</th><td><u># define <dfn class="macro" id="_M/RTLD_TIMING_VAR" data-ref="_M/RTLD_TIMING_VAR">RTLD_TIMING_VAR</dfn>(var)        RLTD_TIMING_DECLARE (var, )</u></td></tr>
<tr><th id="60">60</th><td><u># define <dfn class="macro" id="_M/RTLD_TIMING_SET" data-ref="_M/RTLD_TIMING_SET">RTLD_TIMING_SET</dfn>(var, value) (var) = (value)</u></td></tr>
<tr><th id="61">61</th><td><u># define <dfn class="macro" id="_M/RTLD_TIMING_REF" data-ref="_M/RTLD_TIMING_REF">RTLD_TIMING_REF</dfn>(var)        &amp;(var)</u></td></tr>
<tr><th id="62">62</th><td></td></tr>
<tr><th id="63">63</th><td><em>static</em> <b>inline</b> <em>void</em></td></tr>
<tr><th id="64">64</th><td><dfn class="tu decl def fn" id="rtld_timer_start" title='rtld_timer_start' data-type='void rtld_timer_start(hp_timing_t * var)' data-ref="rtld_timer_start" data-ref-filename="rtld_timer_start">rtld_timer_start</dfn> (<a class="typedef" href="../sysdeps/x86/hp-timing.h.html#hp_timing_t" title='hp_timing_t' data-type='unsigned long long' data-ref="hp_timing_t" data-ref-filename="hp_timing_t">hp_timing_t</a> *<dfn class="local col8 decl" id="8var" title='var' data-type='hp_timing_t *' data-ref="8var" data-ref-filename="8var">var</dfn>)</td></tr>
<tr><th id="65">65</th><td>{</td></tr>
<tr><th id="66">66</th><td>  <a class="macro" href="../sysdeps/x86/hp-timing.h.html#50" title="((*var) = __builtin_ia32_rdtsc ())" data-ref="_M/HP_TIMING_NOW">HP_TIMING_NOW</a> (*<a class="local col8 ref" href="#8var" title='var' data-ref="8var" data-ref-filename="8var">var</a>);</td></tr>
<tr><th id="67">67</th><td>}</td></tr>
<tr><th id="68">68</th><td></td></tr>
<tr><th id="69">69</th><td><em>static</em> <b>inline</b> <em>void</em></td></tr>
<tr><th id="70">70</th><td><dfn class="tu decl def fn" id="rtld_timer_stop" title='rtld_timer_stop' data-type='void rtld_timer_stop(hp_timing_t * var, hp_timing_t start)' data-ref="rtld_timer_stop" data-ref-filename="rtld_timer_stop">rtld_timer_stop</dfn> (<a class="typedef" href="../sysdeps/x86/hp-timing.h.html#hp_timing_t" title='hp_timing_t' data-type='unsigned long long' data-ref="hp_timing_t" data-ref-filename="hp_timing_t">hp_timing_t</a> *<dfn class="local col9 decl" id="9var" title='var' data-type='hp_timing_t *' data-ref="9var" data-ref-filename="9var">var</dfn>, <a class="typedef" href="../sysdeps/x86/hp-timing.h.html#hp_timing_t" title='hp_timing_t' data-type='unsigned long long' data-ref="hp_timing_t" data-ref-filename="hp_timing_t">hp_timing_t</a> <dfn class="local col0 decl" id="10start" title='start' data-type='hp_timing_t' data-ref="10start" data-ref-filename="10start">start</dfn>)</td></tr>
<tr><th id="71">71</th><td>{</td></tr>
<tr><th id="72">72</th><td>  <a class="typedef" href="../sysdeps/x86/hp-timing.h.html#hp_timing_t" title='hp_timing_t' data-type='unsigned long long' data-ref="hp_timing_t" data-ref-filename="hp_timing_t">hp_timing_t</a> <dfn class="local col1 decl" id="11stop" title='stop' data-type='hp_timing_t' data-ref="11stop" data-ref-filename="11stop">stop</dfn>;</td></tr>
<tr><th id="73">73</th><td>  <a class="macro" href="../sysdeps/x86/hp-timing.h.html#50" title="((stop) = __builtin_ia32_rdtsc ())" data-ref="_M/HP_TIMING_NOW">HP_TIMING_NOW</a> (<a class="local col1 ref" href="#11stop" title='stop' data-ref="11stop" data-ref-filename="11stop">stop</a>);</td></tr>
<tr><th id="74">74</th><td>  <a class="macro" href="../sysdeps/generic/hp-timing-common.h.html#43" title="((*var) = (stop) - (start))" data-ref="_M/HP_TIMING_DIFF">HP_TIMING_DIFF</a> (*<a class="local col9 ref" href="#9var" title='var' data-ref="9var" data-ref-filename="9var">var</a>, <a class="local col0 ref" href="#10start" title='start' data-ref="10start" data-ref-filename="10start">start</a>, <a class="local col1 ref" href="#11stop" title='stop' data-ref="11stop" data-ref-filename="11stop">stop</a>);</td></tr>
<tr><th id="75">75</th><td>}</td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td><em>static</em> <b>inline</b> <em>void</em></td></tr>
<tr><th id="78">78</th><td><dfn class="tu decl def fn" id="rtld_timer_accum" title='rtld_timer_accum' data-type='void rtld_timer_accum(hp_timing_t * sum, hp_timing_t start)' data-ref="rtld_timer_accum" data-ref-filename="rtld_timer_accum">rtld_timer_accum</dfn> (<a class="typedef" href="../sysdeps/x86/hp-timing.h.html#hp_timing_t" title='hp_timing_t' data-type='unsigned long long' data-ref="hp_timing_t" data-ref-filename="hp_timing_t">hp_timing_t</a> *<dfn class="local col2 decl" id="12sum" title='sum' data-type='hp_timing_t *' data-ref="12sum" data-ref-filename="12sum">sum</dfn>, <a class="typedef" href="../sysdeps/x86/hp-timing.h.html#hp_timing_t" title='hp_timing_t' data-type='unsigned long long' data-ref="hp_timing_t" data-ref-filename="hp_timing_t">hp_timing_t</a> <dfn class="local col3 decl" id="13start" title='start' data-type='hp_timing_t' data-ref="13start" data-ref-filename="13start">start</dfn>)</td></tr>
<tr><th id="79">79</th><td>{</td></tr>
<tr><th id="80">80</th><td>  <a class="typedef" href="../sysdeps/x86/hp-timing.h.html#hp_timing_t" title='hp_timing_t' data-type='unsigned long long' data-ref="hp_timing_t" data-ref-filename="hp_timing_t">hp_timing_t</a> <dfn class="local col4 decl" id="14stop" title='stop' data-type='hp_timing_t' data-ref="14stop" data-ref-filename="14stop">stop</dfn>;</td></tr>
<tr><th id="81">81</th><td>  <a class="tu ref fn" href="#rtld_timer_stop" title='rtld_timer_stop' data-use='c' data-ref="rtld_timer_stop" data-ref-filename="rtld_timer_stop">rtld_timer_stop</a> (&amp;<a class="local col4 ref" href="#14stop" title='stop' data-ref="14stop" data-ref-filename="14stop">stop</a>, <a class="local col3 ref" href="#13start" title='start' data-ref="13start" data-ref-filename="13start">start</a>);</td></tr>
<tr><th id="82">82</th><td>  <a class="macro" href="../sysdeps/generic/hp-timing-common.h.html#46" title="((*sum) += (stop))" data-ref="_M/HP_TIMING_ACCUM_NT">HP_TIMING_ACCUM_NT</a>(*<a class="local col2 ref" href="#12sum" title='sum' data-ref="12sum" data-ref-filename="12sum">sum</a>, <a class="local col4 ref" href="#14stop" title='stop' data-ref="14stop" data-ref-filename="14stop">stop</a>);</td></tr>
<tr><th id="83">83</th><td>}</td></tr>
<tr><th id="84">84</th><td><u>#<span data-ppcond="56">else</span></u></td></tr>
<tr><th id="85">85</th><td><u># define RLTD_TIMING_DECLARE(var, classifier...)</u></td></tr>
<tr><th id="86">86</th><td><u># define RTLD_TIMING_SET(var, value)</u></td></tr>
<tr><th id="87">87</th><td><u># define RTLD_TIMING_VAR(var)</u></td></tr>
<tr><th id="88">88</th><td><u># define RTLD_TIMING_REF(var)			 0</u></td></tr>
<tr><th id="89">89</th><td><u># define rtld_timer_start(var)</u></td></tr>
<tr><th id="90">90</th><td><u># define rtld_timer_stop(var, start)</u></td></tr>
<tr><th id="91">91</th><td><u># define rtld_timer_accum(sum, start)</u></td></tr>
<tr><th id="92">92</th><td><u>#<span data-ppcond="56">endif</span></u></td></tr>
<tr><th id="93">93</th><td></td></tr>
<tr><th id="94">94</th><td><i>/* Avoid PLT use for our local calls at startup.  */</i></td></tr>
<tr><th id="95">95</th><td><b>extern</b> <b>__typeof</b> (<a class="ref fn" href="../string/string.h.html#__mempcpy" title='__mempcpy' data-ref="__mempcpy" data-ref-filename="__mempcpy">__mempcpy</a>) <a class="decl fn" href="../string/string.h.html#__mempcpy" title='__mempcpy' data-ref="__mempcpy" data-ref-filename="__mempcpy" id="__mempcpy">__mempcpy</a> <a class="macro" href="../include/libc-symbols.h.html#432" title="__attribute__ ((visibility (&quot;hidden&quot;)))" data-ref="_M/attribute_hidden">attribute_hidden</a>;</td></tr>
<tr><th id="96">96</th><td></td></tr>
<tr><th id="97">97</th><td><i>/* GCC has mental blocks about _exit.  */</i></td></tr>
<tr><th id="98">98</th><td><b>extern</b> <b>__typeof</b> (<a class="ref fn" href="../posix/unistd.h.html#__GI__exit" title='_exit' data-ref="__GI__exit" data-ref-filename="__GI__exit">_exit</a>) <dfn class="decl fn" id="_exit" title='exit_internal' data-ref="_exit" data-ref-filename="_exit">exit_internal</dfn> <b>asm</b> (<q>"_exit"</q>) <a class="macro" href="../include/libc-symbols.h.html#432" title="__attribute__ ((visibility (&quot;hidden&quot;)))" data-ref="_M/attribute_hidden">attribute_hidden</a>;</td></tr>
<tr><th id="99">99</th><td><u>#define <dfn class="macro" id="_M/_exit" data-ref="_M/_exit">_exit</dfn> <a class="ref fn" href="#_exit" title='exit_internal' data-ref="_exit" data-ref-filename="_exit">exit_internal</a></u></td></tr>
<tr><th id="100">100</th><td></td></tr>
<tr><th id="101">101</th><td><i  data-doc="print_unresolved">/* Helper function to handle errors while resolving symbols.  */</i></td></tr>
<tr><th id="102">102</th><td><em>static</em> <em>void</em> <a class="tu decl fn" href="#print_unresolved" title='print_unresolved' data-type='void print_unresolved(int errcode, const char * objname, const char * errsting)' data-ref="print_unresolved" data-ref-filename="print_unresolved">print_unresolved</a> (<em>int</em> <dfn class="local col5 decl" id="15errcode" title='errcode' data-type='int' data-ref="15errcode" data-ref-filename="15errcode">errcode</dfn>, <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="16objname" title='objname' data-type='const char *' data-ref="16objname" data-ref-filename="16objname">objname</dfn>,</td></tr>
<tr><th id="103">103</th><td>			      <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="17errsting" title='errsting' data-type='const char *' data-ref="17errsting" data-ref-filename="17errsting">errsting</dfn>);</td></tr>
<tr><th id="104">104</th><td></td></tr>
<tr><th id="105">105</th><td><i  data-doc="print_missing_version">/* Helper function to handle errors when a version is missing.  */</i></td></tr>
<tr><th id="106">106</th><td><em>static</em> <em>void</em> <a class="tu decl fn" href="#print_missing_version" title='print_missing_version' data-type='void print_missing_version(int errcode, const char * objname, const char * errsting)' data-ref="print_missing_version" data-ref-filename="print_missing_version">print_missing_version</a> (<em>int</em> <dfn class="local col8 decl" id="18errcode" title='errcode' data-type='int' data-ref="18errcode" data-ref-filename="18errcode">errcode</dfn>, <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="19objname" title='objname' data-type='const char *' data-ref="19objname" data-ref-filename="19objname">objname</dfn>,</td></tr>
<tr><th id="107">107</th><td>				   <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="20errsting" title='errsting' data-type='const char *' data-ref="20errsting" data-ref-filename="20errsting">errsting</dfn>);</td></tr>
<tr><th id="108">108</th><td></td></tr>
<tr><th id="109">109</th><td><i  data-doc="print_statistics">/* Print the various times we collected.  */</i></td></tr>
<tr><th id="110">110</th><td><em>static</em> <em>void</em> <a class="tu decl fn" href="#print_statistics" title='print_statistics' data-type='void print_statistics(const hp_timing_t * total_timep)' data-ref="print_statistics" data-ref-filename="print_statistics">print_statistics</a> (<em>const</em> <a class="typedef" href="../sysdeps/x86/hp-timing.h.html#hp_timing_t" title='hp_timing_t' data-type='unsigned long long' data-ref="hp_timing_t" data-ref-filename="hp_timing_t">hp_timing_t</a> *<dfn class="local col1 decl" id="21total_timep" title='total_timep' data-type='const hp_timing_t *' data-ref="21total_timep" data-ref-filename="21total_timep">total_timep</dfn>);</td></tr>
<tr><th id="111">111</th><td></td></tr>
<tr><th id="112">112</th><td><i  data-doc="process_dl_audit">/* Add audit objects.  */</i></td></tr>
<tr><th id="113">113</th><td><em>static</em> <em>void</em> <a class="tu decl fn" href="#process_dl_audit" title='process_dl_audit' data-type='void process_dl_audit(char * str)' data-ref="process_dl_audit" data-ref-filename="process_dl_audit">process_dl_audit</a> (<em>char</em> *<dfn class="local col2 decl" id="22str" title='str' data-type='char *' data-ref="22str" data-ref-filename="22str">str</dfn>);</td></tr>
<tr><th id="114">114</th><td></td></tr>
<tr><th id="115">115</th><td><i>/* This is a list of all the modes the dynamic loader can be in.  */</i></td></tr>
<tr><th id="116">116</th><td><b>enum</b> <dfn class="type def" id="mode" title='mode' data-ref="mode" data-ref-filename="mode">mode</dfn> { <dfn class="enum" id="normal" title='normal' data-ref="normal" data-ref-filename="normal">normal</dfn>, <dfn class="enum" id="list" title='list' data-ref="list" data-ref-filename="list">list</dfn>, <dfn class="enum" id="verify" title='verify' data-ref="verify" data-ref-filename="verify">verify</dfn>, <dfn class="enum" id="trace" title='trace' data-ref="trace" data-ref-filename="trace">trace</dfn> };</td></tr>
<tr><th id="117">117</th><td></td></tr>
<tr><th id="118">118</th><td><i  data-doc="process_envvars">/* Process all environments variables the dynamic linker must recognize.</i></td></tr>
<tr><th id="119">119</th><td><i  data-doc="process_envvars">   Since all of them start with `LD_' we are a bit smarter while finding</i></td></tr>
<tr><th id="120">120</th><td><i  data-doc="process_envvars">   all the entries.  */</i></td></tr>
<tr><th id="121">121</th><td><em>static</em> <em>void</em> <a class="tu decl fn" href="#process_envvars" title='process_envvars' data-type='void process_envvars(enum mode * modep)' data-ref="process_envvars" data-ref-filename="process_envvars">process_envvars</a> (<b>enum</b> <a class="type" href="#mode" title='mode' data-ref="mode" data-ref-filename="mode">mode</a> *<dfn class="local col3 decl" id="23modep" title='modep' data-type='enum mode *' data-ref="23modep" data-ref-filename="23modep">modep</dfn>);</td></tr>
<tr><th id="122">122</th><td></td></tr>
<tr><th id="123">123</th><td><u>#<span data-ppcond="123">ifdef</span> <span class="macro" data-ref="_M/DL_ARGV_NOT_RELRO">DL_ARGV_NOT_RELRO</span></u></td></tr>
<tr><th id="124">124</th><td><em>int</em> _dl_argc attribute_hidden;</td></tr>
<tr><th id="125">125</th><td><em>char</em> **_dl_argv = NULL;</td></tr>
<tr><th id="126">126</th><td><i>/* Nonzero if we were run directly.  */</i></td></tr>
<tr><th id="127">127</th><td><em>unsigned</em> <em>int</em> _dl_skip_args attribute_hidden;</td></tr>
<tr><th id="128">128</th><td><u>#<span data-ppcond="123">else</span></u></td></tr>
<tr><th id="129">129</th><td><em>int</em> <dfn class="decl def" id="_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</dfn> <a class="macro" href="../include/libc-symbols.h.html#439" title="__attribute__ ((section (&quot;.data.rel.ro&quot;)))" data-ref="_M/attribute_relro">attribute_relro</a> <a class="macro" href="../include/libc-symbols.h.html#432" title="__attribute__ ((visibility (&quot;hidden&quot;)))" data-ref="_M/attribute_hidden">attribute_hidden</a>;</td></tr>
<tr><th id="130">130</th><td><em>char</em> **<dfn class="decl def" id="_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</dfn> <a class="macro" href="../include/libc-symbols.h.html#439" title="__attribute__ ((section (&quot;.data.rel.ro&quot;)))" data-ref="_M/attribute_relro">attribute_relro</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="131">131</th><td><em>unsigned</em> <em>int</em> <dfn class="decl def" id="_dl_skip_args" title='_dl_skip_args' data-ref="_dl_skip_args" data-ref-filename="_dl_skip_args">_dl_skip_args</dfn> <a class="macro" href="../include/libc-symbols.h.html#439" title="__attribute__ ((section (&quot;.data.rel.ro&quot;)))" data-ref="_M/attribute_relro">attribute_relro</a> <a class="macro" href="../include/libc-symbols.h.html#432" title="__attribute__ ((visibility (&quot;hidden&quot;)))" data-ref="_M/attribute_hidden">attribute_hidden</a>;</td></tr>
<tr><th id="132">132</th><td><u>#<span data-ppcond="123">endif</span></u></td></tr>
<tr><th id="133">133</th><td><a class="macro" href="../include/libc-symbols.h.html#650" title="extern __typeof (_dl_argv) __EI__dl_argv __asm__(&quot;&quot; &quot;_dl_argv&quot;); extern __typeof (_dl_argv) __EI__dl_argv __attribute__((alias (&quot;&quot; &quot;__GI__dl_argv&quot;))) ;" data-ref="_M/rtld_hidden_data_def">rtld_hidden_data_def</a> (<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>)</td></tr>
<tr><th id="134">134</th><td></td></tr>
<tr><th id="135">135</th><td><u>#<span data-ppcond="135">ifndef</span> <a class="macro" href="../sysdeps/x86_64/nptl/tls.h.html#310" data-ref="_M/THREAD_SET_STACK_GUARD">THREAD_SET_STACK_GUARD</a></u></td></tr>
<tr><th id="136">136</th><td><i>/* Only exported for architectures that don't store the stack guard canary</i></td></tr>
<tr><th id="137">137</th><td><i>   in thread local area.  */</i></td></tr>
<tr><th id="138">138</th><td>uintptr_t __stack_chk_guard attribute_relro;</td></tr>
<tr><th id="139">139</th><td><u>#<span data-ppcond="135">endif</span></u></td></tr>
<tr><th id="140">140</th><td></td></tr>
<tr><th id="141">141</th><td><i>/* Only exported for architectures that don't store the pointer guard</i></td></tr>
<tr><th id="142">142</th><td><i>   value in thread local area.  */</i></td></tr>
<tr><th id="143">143</th><td><a class="typedef" href="../stdlib/stdint.h.html#uintptr_t" title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</a> <dfn class="decl def" id="__pointer_chk_guard_local" title='__pointer_chk_guard_local' data-ref="__pointer_chk_guard_local" data-ref-filename="__pointer_chk_guard_local">__pointer_chk_guard_local</dfn></td></tr>
<tr><th id="144">144</th><td>     <a class="macro" href="../include/libc-symbols.h.html#439" title="__attribute__ ((section (&quot;.data.rel.ro&quot;)))" data-ref="_M/attribute_relro">attribute_relro</a> <a class="macro" href="../include/libc-symbols.h.html#432" title="__attribute__ ((visibility (&quot;hidden&quot;)))" data-ref="_M/attribute_hidden">attribute_hidden</a> <b>__attribute__</b> ((nocommon));</td></tr>
<tr><th id="145">145</th><td><u>#<span data-ppcond="145">ifndef</span> <a class="macro" href="../sysdeps/x86_64/nptl/tls.h.html#318" data-ref="_M/THREAD_SET_POINTER_GUARD">THREAD_SET_POINTER_GUARD</a></u></td></tr>
<tr><th id="146">146</th><td>strong_alias (__pointer_chk_guard_local, __pointer_chk_guard)</td></tr>
<tr><th id="147">147</th><td><u>#<span data-ppcond="145">endif</span></u></td></tr>
<tr><th id="148">148</th><td></td></tr>
<tr><th id="149">149</th><td><i>/* Length limits for names and paths, to protect the dynamic linker,</i></td></tr>
<tr><th id="150">150</th><td><i>   particularly when __libc_enable_secure is active.  */</i></td></tr>
<tr><th id="151">151</th><td><u>#<span data-ppcond="151">ifdef</span> <a class="macro" href="../../include/linux/limits.h.html#12" data-ref="_M/NAME_MAX">NAME_MAX</a></u></td></tr>
<tr><th id="152">152</th><td><u># define <dfn class="macro" id="_M/SECURE_NAME_LIMIT" data-ref="_M/SECURE_NAME_LIMIT">SECURE_NAME_LIMIT</dfn> NAME_MAX</u></td></tr>
<tr><th id="153">153</th><td><u>#<span data-ppcond="151">else</span></u></td></tr>
<tr><th id="154">154</th><td><u># define SECURE_NAME_LIMIT 255</u></td></tr>
<tr><th id="155">155</th><td><u>#<span data-ppcond="151">endif</span></u></td></tr>
<tr><th id="156">156</th><td><u>#<span data-ppcond="156">ifdef</span> <a class="macro" href="../../include/linux/limits.h.html#13" data-ref="_M/PATH_MAX">PATH_MAX</a></u></td></tr>
<tr><th id="157">157</th><td><u># define <dfn class="macro" id="_M/SECURE_PATH_LIMIT" data-ref="_M/SECURE_PATH_LIMIT">SECURE_PATH_LIMIT</dfn> PATH_MAX</u></td></tr>
<tr><th id="158">158</th><td><u>#<span data-ppcond="156">else</span></u></td></tr>
<tr><th id="159">159</th><td><u># define SECURE_PATH_LIMIT 1024</u></td></tr>
<tr><th id="160">160</th><td><u>#<span data-ppcond="156">endif</span></u></td></tr>
<tr><th id="161">161</th><td></td></tr>
<tr><th id="162">162</th><td><i  data-doc="dso_name_valid_for_suid">/* Check that AT_SECURE=0, or that the passed name does not contain</i></td></tr>
<tr><th id="163">163</th><td><i  data-doc="dso_name_valid_for_suid">   directories and is not overly long.  Reject empty names</i></td></tr>
<tr><th id="164">164</th><td><i  data-doc="dso_name_valid_for_suid">   unconditionally.  */</i></td></tr>
<tr><th id="165">165</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="166">166</th><td><dfn class="tu decl def fn" id="dso_name_valid_for_suid" title='dso_name_valid_for_suid' data-type='_Bool dso_name_valid_for_suid(const char * p)' data-ref="dso_name_valid_for_suid" data-ref-filename="dso_name_valid_for_suid">dso_name_valid_for_suid</dfn> (<em>const</em> <em>char</em> *<dfn class="local col4 decl" id="24p" title='p' data-type='const char *' data-ref="24p" data-ref-filename="24p">p</dfn>)</td></tr>
<tr><th id="167">167</th><td>{</td></tr>
<tr><th id="168">168</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((__libc_enable_secure), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="ref" href="../include/unistd.h.html#__libc_enable_secure" title='__libc_enable_secure' data-ref="__libc_enable_secure" data-ref-filename="__libc_enable_secure">__libc_enable_secure</a>))</td></tr>
<tr><th id="169">169</th><td>    {</td></tr>
<tr><th id="170">170</th><td>      <i>/* Ignore pathnames with directories for AT_SECURE=1</i></td></tr>
<tr><th id="171">171</th><td><i>	 programs, and also skip overlong names.  */</i></td></tr>
<tr><th id="172">172</th><td>      <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col5 decl" id="25len" title='len' data-type='size_t' data-ref="25len" data-ref-filename="25len">len</dfn> = <a class="ref fn" href="../string/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<a class="local col4 ref" href="#24p" title='p' data-ref="24p" data-ref-filename="24p">p</a>);</td></tr>
<tr><th id="173">173</th><td>      <b>if</b> (<a class="local col5 ref" href="#25len" title='len' data-ref="25len" data-ref-filename="25len">len</a> &gt;= <a class="macro" href="#152" title="255" data-ref="_M/SECURE_NAME_LIMIT">SECURE_NAME_LIMIT</a> || <a class="ref fn" href="../string/string.h.html#memchr" title='memchr' data-ref="memchr" data-ref-filename="memchr">memchr</a> (<a class="local col4 ref" href="#24p" title='p' data-ref="24p" data-ref-filename="24p">p</a>, <kbd>'/'</kbd>, <a class="local col5 ref" href="#25len" title='len' data-ref="25len" data-ref-filename="25len">len</a>) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="174">174</th><td>	<b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="175">175</th><td>    }</td></tr>
<tr><th id="176">176</th><td>  <b>return</b> *<a class="local col4 ref" href="#24p" title='p' data-ref="24p" data-ref-filename="24p">p</a> != <kbd>'\0'</kbd>;</td></tr>
<tr><th id="177">177</th><td>}</td></tr>
<tr><th id="178">178</th><td></td></tr>
<tr><th id="179">179</th><td><i>/* LD_AUDIT variable contents.  Must be processed before the</i></td></tr>
<tr><th id="180">180</th><td><i>   audit_list below.  */</i></td></tr>
<tr><th id="181">181</th><td><em>const</em> <em>char</em> *<dfn class="decl def" id="audit_list_string" title='audit_list_string' data-ref="audit_list_string" data-ref-filename="audit_list_string">audit_list_string</dfn>;</td></tr>
<tr><th id="182">182</th><td></td></tr>
<tr><th id="183">183</th><td><i>/* Cyclic list of auditing DSOs.  audit_list-&gt;next is the first</i></td></tr>
<tr><th id="184">184</th><td><i>   element.  */</i></td></tr>
<tr><th id="185">185</th><td><em>static</em> <b>struct</b> <dfn class="type def" id="audit_list" title='audit_list' data-ref="audit_list" data-ref-filename="audit_list"><a class="type" href="#audit_list" title='audit_list' data-ref="audit_list" data-ref-filename="audit_list">audit_list</a></dfn></td></tr>
<tr><th id="186">186</th><td>{</td></tr>
<tr><th id="187">187</th><td>  <em>const</em> <em>char</em> *<dfn class="tu decl field" id="audit_list::name" title='audit_list::name' data-type='const char *' data-ref="audit_list::name" data-ref-filename="audit_list..name">name</dfn>;</td></tr>
<tr><th id="188">188</th><td>  <b>struct</b> <a class="type" href="#audit_list" title='audit_list' data-ref="audit_list" data-ref-filename="audit_list">audit_list</a> *<dfn class="tu decl field" id="audit_list::next" title='audit_list::next' data-type='struct audit_list *' data-ref="audit_list::next" data-ref-filename="audit_list..next">next</dfn>;</td></tr>
<tr><th id="189">189</th><td>} *<dfn class="tu decl def" id="audit_list" title='audit_list' data-type='struct audit_list *' data-ref="audit_list" data-ref-filename="audit_list">audit_list</dfn>;</td></tr>
<tr><th id="190">190</th><td></td></tr>
<tr><th id="191">191</th><td><i>/* Iterator for audit_list_string followed by audit_list.  */</i></td></tr>
<tr><th id="192">192</th><td><b>struct</b> <dfn class="type def" id="audit_list_iter" title='audit_list_iter' data-ref="audit_list_iter" data-ref-filename="audit_list_iter">audit_list_iter</dfn></td></tr>
<tr><th id="193">193</th><td>{</td></tr>
<tr><th id="194">194</th><td>  <i  data-doc="audit_list_iter::audit_list_tail">/* Tail of audit_list_string still needing processing, or NULL.  */</i></td></tr>
<tr><th id="195">195</th><td>  <em>const</em> <em>char</em> *<dfn class="tu decl field" id="audit_list_iter::audit_list_tail" title='audit_list_iter::audit_list_tail' data-type='const char *' data-ref="audit_list_iter::audit_list_tail" data-ref-filename="audit_list_iter..audit_list_tail">audit_list_tail</dfn>;</td></tr>
<tr><th id="196">196</th><td></td></tr>
<tr><th id="197">197</th><td>  <i  data-doc="audit_list_iter::previous">/* The list element returned in the previous iteration.  NULL before</i></td></tr>
<tr><th id="198">198</th><td><i  data-doc="audit_list_iter::previous">     the first element.  */</i></td></tr>
<tr><th id="199">199</th><td>  <b>struct</b> <a class="type" href="#audit_list" title='audit_list' data-ref="audit_list" data-ref-filename="audit_list">audit_list</a> *<dfn class="tu decl field" id="audit_list_iter::previous" title='audit_list_iter::previous' data-type='struct audit_list *' data-ref="audit_list_iter::previous" data-ref-filename="audit_list_iter..previous">previous</dfn>;</td></tr>
<tr><th id="200">200</th><td></td></tr>
<tr><th id="201">201</th><td>  <i  data-doc="audit_list_iter::fname">/* Scratch buffer for returning a name which is part of</i></td></tr>
<tr><th id="202">202</th><td><i  data-doc="audit_list_iter::fname">     audit_list_string.  */</i></td></tr>
<tr><th id="203">203</th><td>  <em>char</em> <dfn class="tu decl field" id="audit_list_iter::fname" title='audit_list_iter::fname' data-type='char [255]' data-ref="audit_list_iter::fname" data-ref-filename="audit_list_iter..fname">fname</dfn>[<a class="macro" href="#152" title="255" data-ref="_M/SECURE_NAME_LIMIT">SECURE_NAME_LIMIT</a>];</td></tr>
<tr><th id="204">204</th><td>};</td></tr>
<tr><th id="205">205</th><td></td></tr>
<tr><th id="206">206</th><td><i  data-doc="audit_list_iter_init">/* Initialize an audit list iterator.  */</i></td></tr>
<tr><th id="207">207</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="208">208</th><td><dfn class="tu decl def fn" id="audit_list_iter_init" title='audit_list_iter_init' data-type='void audit_list_iter_init(struct audit_list_iter * iter)' data-ref="audit_list_iter_init" data-ref-filename="audit_list_iter_init">audit_list_iter_init</dfn> (<b>struct</b> <a class="type" href="#audit_list_iter" title='audit_list_iter' data-ref="audit_list_iter" data-ref-filename="audit_list_iter">audit_list_iter</a> *<dfn class="local col6 decl" id="26iter" title='iter' data-type='struct audit_list_iter *' data-ref="26iter" data-ref-filename="26iter">iter</dfn>)</td></tr>
<tr><th id="209">209</th><td>{</td></tr>
<tr><th id="210">210</th><td>  <a class="local col6 ref" href="#26iter" title='iter' data-ref="26iter" data-ref-filename="26iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::audit_list_tail" title='audit_list_iter::audit_list_tail' data-use='w' data-ref="audit_list_iter::audit_list_tail" data-ref-filename="audit_list_iter..audit_list_tail">audit_list_tail</a> = <a class="ref" href="#audit_list_string" title='audit_list_string' data-ref="audit_list_string" data-ref-filename="audit_list_string">audit_list_string</a>;</td></tr>
<tr><th id="211">211</th><td>  <a class="local col6 ref" href="#26iter" title='iter' data-ref="26iter" data-ref-filename="26iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::previous" title='audit_list_iter::previous' data-use='w' data-ref="audit_list_iter::previous" data-ref-filename="audit_list_iter..previous">previous</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="212">212</th><td>}</td></tr>
<tr><th id="213">213</th><td></td></tr>
<tr><th id="214">214</th><td><i  data-doc="audit_list_iter_next">/* Iterate through both audit_list_string and audit_list.  */</i></td></tr>
<tr><th id="215">215</th><td><em>static</em> <em>const</em> <em>char</em> *</td></tr>
<tr><th id="216">216</th><td><dfn class="tu decl def fn" id="audit_list_iter_next" title='audit_list_iter_next' data-type='const char * audit_list_iter_next(struct audit_list_iter * iter)' data-ref="audit_list_iter_next" data-ref-filename="audit_list_iter_next">audit_list_iter_next</dfn> (<b>struct</b> <a class="type" href="#audit_list_iter" title='audit_list_iter' data-ref="audit_list_iter" data-ref-filename="audit_list_iter">audit_list_iter</a> *<dfn class="local col7 decl" id="27iter" title='iter' data-type='struct audit_list_iter *' data-ref="27iter" data-ref-filename="27iter">iter</dfn>)</td></tr>
<tr><th id="217">217</th><td>{</td></tr>
<tr><th id="218">218</th><td>  <b>if</b> (<a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::audit_list_tail" title='audit_list_iter::audit_list_tail' data-use='r' data-ref="audit_list_iter::audit_list_tail" data-ref-filename="audit_list_iter..audit_list_tail">audit_list_tail</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="219">219</th><td>    {</td></tr>
<tr><th id="220">220</th><td>      <i>/* First iterate over audit_list_string.  */</i></td></tr>
<tr><th id="221">221</th><td>      <b>while</b> (*<a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::audit_list_tail" title='audit_list_iter::audit_list_tail' data-use='r' data-ref="audit_list_iter::audit_list_tail" data-ref-filename="audit_list_iter..audit_list_tail">audit_list_tail</a> != <kbd>'\0'</kbd>)</td></tr>
<tr><th id="222">222</th><td>	{</td></tr>
<tr><th id="223">223</th><td>	  <i>/* Split audit list at colon.  */</i></td></tr>
<tr><th id="224">224</th><td>	  <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col8 decl" id="28len" title='len' data-type='size_t' data-ref="28len" data-ref-filename="28len">len</dfn> = <a class="ref fn" href="../string/string.h.html#strcspn" title='strcspn' data-ref="strcspn" data-ref-filename="strcspn">strcspn</a> (<a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::audit_list_tail" title='audit_list_iter::audit_list_tail' data-use='r' data-ref="audit_list_iter::audit_list_tail" data-ref-filename="audit_list_iter..audit_list_tail">audit_list_tail</a>, <q>":"</q>);</td></tr>
<tr><th id="225">225</th><td>	  <b>if</b> (<a class="local col8 ref" href="#28len" title='len' data-ref="28len" data-ref-filename="28len">len</a> &gt; <var>0</var> &amp;&amp; <a class="local col8 ref" href="#28len" title='len' data-ref="28len" data-ref-filename="28len">len</a> &lt; <b>sizeof</b> (<a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::fname" title='audit_list_iter::fname' data-use='r' data-ref="audit_list_iter::fname" data-ref-filename="audit_list_iter..fname">fname</a>))</td></tr>
<tr><th id="226">226</th><td>	    {</td></tr>
<tr><th id="227">227</th><td>	      <a class="ref fn" href="../string/string.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a> (<a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::fname" title='audit_list_iter::fname' data-use='r' data-ref="audit_list_iter::fname" data-ref-filename="audit_list_iter..fname">fname</a>, <a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::audit_list_tail" title='audit_list_iter::audit_list_tail' data-use='r' data-ref="audit_list_iter::audit_list_tail" data-ref-filename="audit_list_iter..audit_list_tail">audit_list_tail</a>, <a class="local col8 ref" href="#28len" title='len' data-ref="28len" data-ref-filename="28len">len</a>);</td></tr>
<tr><th id="228">228</th><td>	      <a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::fname" title='audit_list_iter::fname' data-use='w' data-ref="audit_list_iter::fname" data-ref-filename="audit_list_iter..fname">fname</a>[<a class="local col8 ref" href="#28len" title='len' data-ref="28len" data-ref-filename="28len">len</a>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="229">229</th><td>	    }</td></tr>
<tr><th id="230">230</th><td>	  <b>else</b></td></tr>
<tr><th id="231">231</th><td>	    <i>/* Do not return this name to the caller.  */</i></td></tr>
<tr><th id="232">232</th><td>	    <a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::fname" title='audit_list_iter::fname' data-use='w' data-ref="audit_list_iter::fname" data-ref-filename="audit_list_iter..fname">fname</a>[<var>0</var>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="233">233</th><td></td></tr>
<tr><th id="234">234</th><td>	  <i>/* Skip over the substring and the following delimiter.  */</i></td></tr>
<tr><th id="235">235</th><td>	  <a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::audit_list_tail" title='audit_list_iter::audit_list_tail' data-use='w' data-ref="audit_list_iter::audit_list_tail" data-ref-filename="audit_list_iter..audit_list_tail">audit_list_tail</a> += <a class="local col8 ref" href="#28len" title='len' data-ref="28len" data-ref-filename="28len">len</a>;</td></tr>
<tr><th id="236">236</th><td>	  <b>if</b> (*<a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::audit_list_tail" title='audit_list_iter::audit_list_tail' data-use='r' data-ref="audit_list_iter::audit_list_tail" data-ref-filename="audit_list_iter..audit_list_tail">audit_list_tail</a> == <kbd>':'</kbd>)</td></tr>
<tr><th id="237">237</th><td>	    ++<a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::audit_list_tail" title='audit_list_iter::audit_list_tail' data-use='w' data-ref="audit_list_iter::audit_list_tail" data-ref-filename="audit_list_iter..audit_list_tail">audit_list_tail</a>;</td></tr>
<tr><th id="238">238</th><td></td></tr>
<tr><th id="239">239</th><td>	  <i>/* If the name is valid, return it.  */</i></td></tr>
<tr><th id="240">240</th><td>	  <b>if</b> (<a class="tu ref fn" href="#dso_name_valid_for_suid" title='dso_name_valid_for_suid' data-use='c' data-ref="dso_name_valid_for_suid" data-ref-filename="dso_name_valid_for_suid">dso_name_valid_for_suid</a> (<a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::fname" title='audit_list_iter::fname' data-use='r' data-ref="audit_list_iter::fname" data-ref-filename="audit_list_iter..fname">fname</a>))</td></tr>
<tr><th id="241">241</th><td>	    <b>return</b> <a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::fname" title='audit_list_iter::fname' data-use='r' data-ref="audit_list_iter::fname" data-ref-filename="audit_list_iter..fname">fname</a>;</td></tr>
<tr><th id="242">242</th><td>	  <i>/* Otherwise, wrap around and try the next name.  */</i></td></tr>
<tr><th id="243">243</th><td>	}</td></tr>
<tr><th id="244">244</th><td>      <i>/* Fall through to the procesing of audit_list.  */</i></td></tr>
<tr><th id="245">245</th><td>    }</td></tr>
<tr><th id="246">246</th><td></td></tr>
<tr><th id="247">247</th><td>  <b>if</b> (<a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::previous" title='audit_list_iter::previous' data-use='r' data-ref="audit_list_iter::previous" data-ref-filename="audit_list_iter..previous">previous</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="248">248</th><td>    {</td></tr>
<tr><th id="249">249</th><td>      <b>if</b> (<a class="tu ref" href="#audit_list" title='audit_list' data-use='r' data-ref="audit_list" data-ref-filename="audit_list">audit_list</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="250">250</th><td>	<i>/* No pre-parsed audit list.  */</i></td></tr>
<tr><th id="251">251</th><td>	<b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="252">252</th><td>      <i>/* Start of audit list.  The first list element is at</i></td></tr>
<tr><th id="253">253</th><td><i>	 audit_list-&gt;next (cyclic list).  */</i></td></tr>
<tr><th id="254">254</th><td>      <a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::previous" title='audit_list_iter::previous' data-use='w' data-ref="audit_list_iter::previous" data-ref-filename="audit_list_iter..previous">previous</a> = <a class="tu ref" href="#audit_list" title='audit_list' data-use='r' data-ref="audit_list" data-ref-filename="audit_list">audit_list</a>-&gt;<a class="tu ref field" href="#audit_list::next" title='audit_list::next' data-use='r' data-ref="audit_list::next" data-ref-filename="audit_list..next">next</a>;</td></tr>
<tr><th id="255">255</th><td>      <b>return</b> <a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::previous" title='audit_list_iter::previous' data-use='r' data-ref="audit_list_iter::previous" data-ref-filename="audit_list_iter..previous">previous</a>-&gt;<a class="tu ref field" href="#audit_list::name" title='audit_list::name' data-use='r' data-ref="audit_list::name" data-ref-filename="audit_list..name">name</a>;</td></tr>
<tr><th id="256">256</th><td>    }</td></tr>
<tr><th id="257">257</th><td>  <b>if</b> (<a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::previous" title='audit_list_iter::previous' data-use='r' data-ref="audit_list_iter::previous" data-ref-filename="audit_list_iter..previous">previous</a> == <a class="tu ref" href="#audit_list" title='audit_list' data-use='r' data-ref="audit_list" data-ref-filename="audit_list">audit_list</a>)</td></tr>
<tr><th id="258">258</th><td>    <i>/* Cyclic list wrap-around.  */</i></td></tr>
<tr><th id="259">259</th><td>    <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="260">260</th><td>  <a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::previous" title='audit_list_iter::previous' data-use='w' data-ref="audit_list_iter::previous" data-ref-filename="audit_list_iter..previous">previous</a> = <a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::previous" title='audit_list_iter::previous' data-use='r' data-ref="audit_list_iter::previous" data-ref-filename="audit_list_iter..previous">previous</a>-&gt;<a class="tu ref field" href="#audit_list::next" title='audit_list::next' data-use='r' data-ref="audit_list::next" data-ref-filename="audit_list..next">next</a>;</td></tr>
<tr><th id="261">261</th><td>  <b>return</b> <a class="local col7 ref" href="#27iter" title='iter' data-ref="27iter" data-ref-filename="27iter">iter</a>-&gt;<a class="tu ref field" href="#audit_list_iter::previous" title='audit_list_iter::previous' data-use='r' data-ref="audit_list_iter::previous" data-ref-filename="audit_list_iter..previous">previous</a>-&gt;<a class="tu ref field" href="#audit_list::name" title='audit_list::name' data-use='r' data-ref="audit_list::name" data-ref-filename="audit_list..name">name</a>;</td></tr>
<tr><th id="262">262</th><td>}</td></tr>
<tr><th id="263">263</th><td></td></tr>
<tr><th id="264">264</th><td><u>#<span data-ppcond="264">ifndef</span> <span class="macro" data-ref="_M/HAVE_INLINED_SYSCALLS">HAVE_INLINED_SYSCALLS</span></u></td></tr>
<tr><th id="265">265</th><td><i>/* Set nonzero during loading and initialization of executable and</i></td></tr>
<tr><th id="266">266</th><td><i>   libraries, cleared before the executable's entry point runs.  This</i></td></tr>
<tr><th id="267">267</th><td><i>   must not be initialized to nonzero, because the unused dynamic</i></td></tr>
<tr><th id="268">268</th><td><i>   linker loaded in for libc.so's "ld.so.1" dep will provide the</i></td></tr>
<tr><th id="269">269</th><td><i>   definition seen by libc.so's initializer; that value must be zero,</i></td></tr>
<tr><th id="270">270</th><td><i>   and will be since that dynamic linker's _dl_start and dl_main will</i></td></tr>
<tr><th id="271">271</th><td><i>   never be called.  */</i></td></tr>
<tr><th id="272">272</th><td><em>int</em> _dl_starting_up = <var>0</var>;</td></tr>
<tr><th id="273">273</th><td>rtld_hidden_def (_dl_starting_up)</td></tr>
<tr><th id="274">274</th><td><u>#<span data-ppcond="264">endif</span></u></td></tr>
<tr><th id="275">275</th><td></td></tr>
<tr><th id="276">276</th><td><i>/* This is the structure which defines all variables global to ld.so</i></td></tr>
<tr><th id="277">277</th><td><i>   (except those which cannot be added for some reason).  */</i></td></tr>
<tr><th id="278">278</th><td><b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#rtld_global" title='rtld_global' data-ref="rtld_global" data-ref-filename="rtld_global">rtld_global</a> <dfn class="decl def" id="_rtld_global" title='_rtld_global' data-ref="_rtld_global" data-ref-filename="_rtld_global">_rtld_global</dfn> =</td></tr>
<tr><th id="279">279</th><td>  {</td></tr>
<tr><th id="280">280</th><td>    <i>/* Generally the default presumption without further information is an</i></td></tr>
<tr><th id="281">281</th><td><i>     * executable stack but this is not true for all platforms.  */</i></td></tr>
<tr><th id="282">282</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global::_dl_stack_flags" title='rtld_global::_dl_stack_flags' data-ref="rtld_global::_dl_stack_flags" data-ref-filename="rtld_global.._dl_stack_flags">_dl_stack_flags</a> = <a class="macro" href="../sysdeps/x86_64/stackinfo.h.html#31" title="((1 &lt;&lt; 2)|(1 &lt;&lt; 1)|(1 &lt;&lt; 0))" data-ref="_M/DEFAULT_STACK_PERMS">DEFAULT_STACK_PERMS</a>,</td></tr>
<tr><th id="283">283</th><td><u>#<span data-ppcond="283">ifdef</span> <span class="macro" data-ref="_M/_LIBC_REENTRANT">_LIBC_REENTRANT</span></u></td></tr>
<tr><th id="284">284</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#367" title='rtld_global::_dl_load_lock' data-ref="rtld_global::_dl_load_lock" data-ref-filename="rtld_global.._dl_load_lock">_dl_load_lock</a> = <a class="macro" href="../sysdeps/nptl/libc-lockP.h.html#86" title="{{ { 0, 0, 0, 0, PTHREAD_MUTEX_RECURSIVE_NP, 0, 0, { 0, 0 } } }}" data-ref="_M/_RTLD_LOCK_RECURSIVE_INITIALIZER">_RTLD_LOCK_RECURSIVE_INITIALIZER</a>,</td></tr>
<tr><th id="285">285</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#371" title='rtld_global::_dl_load_write_lock' data-ref="rtld_global::_dl_load_write_lock" data-ref-filename="rtld_global.._dl_load_write_lock">_dl_load_write_lock</a> = <a class="macro" href="../sysdeps/nptl/libc-lockP.h.html#86" title="{{ { 0, 0, 0, 0, PTHREAD_MUTEX_RECURSIVE_NP, 0, 0, { 0, 0 } } }}" data-ref="_M/_RTLD_LOCK_RECURSIVE_INITIALIZER">_RTLD_LOCK_RECURSIVE_INITIALIZER</a>,</td></tr>
<tr><th id="286">286</th><td><u>#<span data-ppcond="283">endif</span></u></td></tr>
<tr><th id="287">287</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global::_dl_nns" title='rtld_global::_dl_nns' data-ref="rtld_global::_dl_nns" data-ref-filename="rtld_global.._dl_nns">_dl_nns</a> = <var>1</var>,</td></tr>
<tr><th id="288">288</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global::_dl_ns" title='rtld_global::_dl_ns' data-ref="rtld_global::_dl_ns" data-ref-filename="rtld_global.._dl_ns">_dl_ns</a> =</td></tr>
<tr><th id="289">289</th><td>    {</td></tr>
<tr><th id="290">290</th><td><u>#<span data-ppcond="290">ifdef</span> <span class="macro" data-ref="_M/_LIBC_REENTRANT">_LIBC_REENTRANT</span></u></td></tr>
<tr><th id="291">291</th><td>      [<a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>] = { .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_unique_sym_table" title='link_namespaces::_ns_unique_sym_table' data-ref="link_namespaces::_ns_unique_sym_table" data-ref-filename="link_namespaces.._ns_unique_sym_table">_ns_unique_sym_table</a></td></tr>
<tr><th id="292">292</th><td>		       = { .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#342" title='unique_sym_table::lock' data-ref="unique_sym_table::lock" data-ref-filename="unique_sym_table..lock">lock</a> = <a class="macro" href="../sysdeps/nptl/libc-lockP.h.html#86" title="{{ { 0, 0, 0, 0, PTHREAD_MUTEX_RECURSIVE_NP, 0, 0, { 0, 0 } } }}" data-ref="_M/_RTLD_LOCK_RECURSIVE_INITIALIZER">_RTLD_LOCK_RECURSIVE_INITIALIZER</a> } }</td></tr>
<tr><th id="293">293</th><td><u>#<span data-ppcond="290">endif</span></u></td></tr>
<tr><th id="294">294</th><td>    }</td></tr>
<tr><th id="295">295</th><td>  };</td></tr>
<tr><th id="296">296</th><td><i>/* If we would use strong_alias here the compiler would see a</i></td></tr>
<tr><th id="297">297</th><td><i>   non-hidden definition.  This would undo the effect of the previous</i></td></tr>
<tr><th id="298">298</th><td><i>   declaration.  So spell out was strong_alias does plus add the</i></td></tr>
<tr><th id="299">299</th><td><i>   visibility attribute.  */</i></td></tr>
<tr><th id="300">300</th><td><b>extern</b> <b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#rtld_global" title='rtld_global' data-ref="rtld_global" data-ref-filename="rtld_global">rtld_global</a> <dfn class="decl def" id="_rtld_local" title='_rtld_local' data-ref="_rtld_local" data-ref-filename="_rtld_local">_rtld_local</dfn></td></tr>
<tr><th id="301">301</th><td>    <b>__attribute__</b> ((alias (<q>"_rtld_global"</q>), visibility (<q>"hidden"</q>)));</td></tr>
<tr><th id="302">302</th><td></td></tr>
<tr><th id="303">303</th><td></td></tr>
<tr><th id="304">304</th><td><i>/* This variable is similar to _rtld_local, but all values are</i></td></tr>
<tr><th id="305">305</th><td><i>   read-only after relocation.  */</i></td></tr>
<tr><th id="306">306</th><td><b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro" title='rtld_global_ro' data-ref="rtld_global_ro" data-ref-filename="rtld_global_ro">rtld_global_ro</a> <dfn class="decl def" id="_rtld_global_ro" title='_rtld_global_ro' data-ref="_rtld_global_ro" data-ref-filename="_rtld_global_ro">_rtld_global_ro</dfn> <a class="macro" href="../include/libc-symbols.h.html#439" title="__attribute__ ((section (&quot;.data.rel.ro&quot;)))" data-ref="_M/attribute_relro">attribute_relro</a> =</td></tr>
<tr><th id="307">307</th><td>  {</td></tr>
<tr><th id="308">308</th><td>    <i>/* Get architecture specific initializer.  */</i></td></tr>
<tr><th id="309">309</th><td><u>#include <a href="../sysdeps/unix/sysv/linux/x86_64/dl-procinfo.c.html">&lt;dl-procinfo.c&gt;</a></u></td></tr>
<tr><th id="310">310</th><td><u>#<span data-ppcond="310">ifdef</span> <span class="macro" data-ref="_M/NEED_DL_SYSINFO">NEED_DL_SYSINFO</span></u></td></tr>
<tr><th id="311">311</th><td>    ._dl_sysinfo = DL_SYSINFO_DEFAULT,</td></tr>
<tr><th id="312">312</th><td><u>#<span data-ppcond="310">endif</span></u></td></tr>
<tr><th id="313">313</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro::_dl_debug_fd" title='rtld_global_ro::_dl_debug_fd' data-ref="rtld_global_ro::_dl_debug_fd" data-ref-filename="rtld_global_ro.._dl_debug_fd">_dl_debug_fd</a> = <a class="macro" href="../posix/unistd.h.html#212" title="2" data-ref="_M/STDERR_FILENO">STDERR_FILENO</a>,</td></tr>
<tr><th id="314">314</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro::_dl_use_load_bias" title='rtld_global_ro::_dl_use_load_bias' data-ref="rtld_global_ro::_dl_use_load_bias" data-ref-filename="rtld_global_ro.._dl_use_load_bias">_dl_use_load_bias</a> = -<var>2</var>,</td></tr>
<tr><th id="315">315</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro::_dl_correct_cache_id" title='rtld_global_ro::_dl_correct_cache_id' data-ref="rtld_global_ro::_dl_correct_cache_id" data-ref-filename="rtld_global_ro.._dl_correct_cache_id">_dl_correct_cache_id</a> = <a class="macro" href="../sysdeps/unix/sysv/linux/x86_64/dl-cache.h.html#19" title="0x303" data-ref="_M/_DL_CACHE_DEFAULT_ID">_DL_CACHE_DEFAULT_ID</a>,</td></tr>
<tr><th id="316">316</th><td><u>#<span data-ppcond="316">if</span> !<span class="macro" title="1" data-ref="_M/HAVE_TUNABLES">HAVE_TUNABLES</span></u></td></tr>
<tr><th id="317">317</th><td>    ._dl_hwcap_mask = HWCAP_IMPORTANT,</td></tr>
<tr><th id="318">318</th><td><u>#<span data-ppcond="316">endif</span></u></td></tr>
<tr><th id="319">319</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro::_dl_lazy" title='rtld_global_ro::_dl_lazy' data-ref="rtld_global_ro::_dl_lazy" data-ref-filename="rtld_global_ro.._dl_lazy">_dl_lazy</a> = <var>1</var>,</td></tr>
<tr><th id="320">320</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro::_dl_fpu_control" title='rtld_global_ro::_dl_fpu_control' data-ref="rtld_global_ro::_dl_fpu_control" data-ref-filename="rtld_global_ro.._dl_fpu_control">_dl_fpu_control</a> = <a class="macro" href="../sysdeps/x86/fpu_control.h.html#85" title="0x037f" data-ref="_M/_FPU_DEFAULT">_FPU_DEFAULT</a>,</td></tr>
<tr><th id="321">321</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro::_dl_pagesize" title='rtld_global_ro::_dl_pagesize' data-ref="rtld_global_ro::_dl_pagesize" data-ref-filename="rtld_global_ro.._dl_pagesize">_dl_pagesize</a> = <a class="macro" href="../../include/asm-generic/param.h.html#10" title="4096" data-ref="_M/EXEC_PAGESIZE">EXEC_PAGESIZE</a>,</td></tr>
<tr><th id="322">322</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro::_dl_inhibit_cache" title='rtld_global_ro::_dl_inhibit_cache' data-ref="rtld_global_ro::_dl_inhibit_cache" data-ref-filename="rtld_global_ro.._dl_inhibit_cache">_dl_inhibit_cache</a> = <var>0</var>,</td></tr>
<tr><th id="323">323</th><td></td></tr>
<tr><th id="324">324</th><td>    <i>/* Function pointers.  */</i></td></tr>
<tr><th id="325">325</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro::_dl_debug_printf" title='rtld_global_ro::_dl_debug_printf' data-ref="rtld_global_ro::_dl_debug_printf" data-ref-filename="rtld_global_ro.._dl_debug_printf">_dl_debug_printf</a> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_debug_printf" title='_dl_debug_printf' data-ref="_dl_debug_printf" data-ref-filename="_dl_debug_printf">_dl_debug_printf</a>,</td></tr>
<tr><th id="326">326</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro::_dl_mcount" title='rtld_global_ro::_dl_mcount' data-ref="rtld_global_ro::_dl_mcount" data-ref-filename="rtld_global_ro.._dl_mcount">_dl_mcount</a> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#__GI__dl_mcount" title='_dl_mcount' data-ref="__GI__dl_mcount" data-ref-filename="__GI__dl_mcount">_dl_mcount</a>,</td></tr>
<tr><th id="327">327</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro::_dl_lookup_symbol_x" title='rtld_global_ro::_dl_lookup_symbol_x' data-ref="rtld_global_ro::_dl_lookup_symbol_x" data-ref-filename="rtld_global_ro.._dl_lookup_symbol_x">_dl_lookup_symbol_x</a> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_lookup_symbol_x" title='_dl_lookup_symbol_x' data-ref="_dl_lookup_symbol_x" data-ref-filename="_dl_lookup_symbol_x">_dl_lookup_symbol_x</a>,</td></tr>
<tr><th id="328">328</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro::_dl_open" title='rtld_global_ro::_dl_open' data-ref="rtld_global_ro::_dl_open" data-ref-filename="rtld_global_ro.._dl_open">_dl_open</a> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_open" title='_dl_open' data-ref="_dl_open" data-ref-filename="_dl_open">_dl_open</a>,</td></tr>
<tr><th id="329">329</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro::_dl_close" title='rtld_global_ro::_dl_close' data-ref="rtld_global_ro::_dl_close" data-ref-filename="rtld_global_ro.._dl_close">_dl_close</a> = <a class="ref fn" href="../include/dlfcn.h.html#_dl_close" title='_dl_close' data-ref="_dl_close" data-ref-filename="_dl_close">_dl_close</a>,</td></tr>
<tr><th id="330">330</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro::_dl_tls_get_addr_soft" title='rtld_global_ro::_dl_tls_get_addr_soft' data-ref="rtld_global_ro::_dl_tls_get_addr_soft" data-ref-filename="rtld_global_ro.._dl_tls_get_addr_soft">_dl_tls_get_addr_soft</a> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_tls_get_addr_soft" title='_dl_tls_get_addr_soft' data-ref="_dl_tls_get_addr_soft" data-ref-filename="_dl_tls_get_addr_soft">_dl_tls_get_addr_soft</a>,</td></tr>
<tr><th id="331">331</th><td><u>#<span data-ppcond="331">ifdef</span> <a class="macro" href="../sysdeps/unix/sysv/linux/dl-sysdep.h.html#32" data-ref="_M/HAVE_DL_DISCOVER_OSVERSION">HAVE_DL_DISCOVER_OSVERSION</a></u></td></tr>
<tr><th id="332">332</th><td>    .<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro::_dl_discover_osversion" title='rtld_global_ro::_dl_discover_osversion' data-ref="rtld_global_ro::_dl_discover_osversion" data-ref-filename="rtld_global_ro.._dl_discover_osversion">_dl_discover_osversion</a> = <a class="ref fn" href="../sysdeps/unix/sysv/linux/dl-sysdep.h.html#_dl_discover_osversion" title='_dl_discover_osversion' data-ref="_dl_discover_osversion" data-ref-filename="_dl_discover_osversion">_dl_discover_osversion</a></td></tr>
<tr><th id="333">333</th><td><u>#<span data-ppcond="331">endif</span></u></td></tr>
<tr><th id="334">334</th><td>  };</td></tr>
<tr><th id="335">335</th><td><i>/* If we would use strong_alias here the compiler would see a</i></td></tr>
<tr><th id="336">336</th><td><i>   non-hidden definition.  This would undo the effect of the previous</i></td></tr>
<tr><th id="337">337</th><td><i>   declaration.  So spell out was strong_alias does plus add the</i></td></tr>
<tr><th id="338">338</th><td><i>   visibility attribute.  */</i></td></tr>
<tr><th id="339">339</th><td><b>extern</b> <b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#rtld_global_ro" title='rtld_global_ro' data-ref="rtld_global_ro" data-ref-filename="rtld_global_ro">rtld_global_ro</a> <dfn class="decl def" id="_rtld_local_ro" title='_rtld_local_ro' data-ref="_rtld_local_ro" data-ref-filename="_rtld_local_ro">_rtld_local_ro</dfn></td></tr>
<tr><th id="340">340</th><td>    <b>__attribute__</b> ((alias (<q>"_rtld_global_ro"</q>), visibility (<q>"hidden"</q>)));</td></tr>
<tr><th id="341">341</th><td></td></tr>
<tr><th id="342">342</th><td></td></tr>
<tr><th id="343">343</th><td><em>static</em> <em>void</em> <a class="tu decl fn" href="#dl_main" title='dl_main' data-type='void dl_main(const Elf64_Phdr * phdr, Elf64_Word phnum, Elf64_Addr * user_entry, Elf64_auxv_t * auxv)' data-ref="dl_main" data-ref-filename="dl_main">dl_main</a> (<em>const</em> <a class="macro" href="link.h.html#30" title="Elf64_Phdr" data-ref="_M/ElfW">ElfW</a>(Phdr) *<dfn class="local col9 decl" id="29phdr" title='phdr' data-type='const Elf64_Phdr *' data-ref="29phdr" data-ref-filename="29phdr">phdr</dfn>, <a class="macro" href="link.h.html#30" title="Elf64_Word" data-ref="_M/ElfW">ElfW</a>(Word) <dfn class="local col0 decl" id="30phnum" title='phnum' data-type='Elf64_Word' data-ref="30phnum" data-ref-filename="30phnum">phnum</dfn>,</td></tr>
<tr><th id="344">344</th><td>		     <a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr) *<dfn class="local col1 decl" id="31user_entry" title='user_entry' data-type='Elf64_Addr *' data-ref="31user_entry" data-ref-filename="31user_entry">user_entry</dfn>, <a class="macro" href="link.h.html#30" title="Elf64_auxv_t" data-ref="_M/ElfW">ElfW</a>(auxv_t) *<dfn class="local col2 decl" id="32auxv" title='auxv' data-type='Elf64_auxv_t *' data-ref="32auxv" data-ref-filename="32auxv">auxv</dfn>);</td></tr>
<tr><th id="345">345</th><td></td></tr>
<tr><th id="346">346</th><td><i  data-doc="_dl_rtld_libname">/* These two variables cannot be moved into .data.rel.ro.  */</i></td></tr>
<tr><th id="347">347</th><td><em>static</em> <b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#libname_list" title='libname_list' data-ref="libname_list" data-ref-filename="libname_list">libname_list</a> <dfn class="tu decl def" id="_dl_rtld_libname" title='_dl_rtld_libname' data-type='struct libname_list' data-ref="_dl_rtld_libname" data-ref-filename="_dl_rtld_libname">_dl_rtld_libname</dfn>;</td></tr>
<tr><th id="348">348</th><td><em>static</em> <b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#libname_list" title='libname_list' data-ref="libname_list" data-ref-filename="libname_list">libname_list</a> <dfn class="tu decl def" id="_dl_rtld_libname2" title='_dl_rtld_libname2' data-type='struct libname_list' data-ref="_dl_rtld_libname2" data-ref-filename="_dl_rtld_libname2">_dl_rtld_libname2</dfn>;</td></tr>
<tr><th id="349">349</th><td></td></tr>
<tr><th id="350">350</th><td><i>/* Variable for statistics.  */</i></td></tr>
<tr><th id="351">351</th><td><a class="macro" href="#57" title="static hp_timing_t relocate_time" data-ref="_M/RLTD_TIMING_DECLARE">RLTD_TIMING_DECLARE</a> (<dfn class="tu decl def" id="relocate_time" title='relocate_time' data-type='hp_timing_t' data-ref="relocate_time" data-ref-filename="relocate_time">relocate_time</dfn>, <em>static</em>);</td></tr>
<tr><th id="352">352</th><td><a class="macro" href="#57" title="static hp_timing_t load_time __attribute__ ((section (&quot;.data.rel.ro&quot;)))" data-ref="_M/RLTD_TIMING_DECLARE">RLTD_TIMING_DECLARE</a> (<dfn class="tu decl def" id="load_time" title='load_time' data-type='hp_timing_t' data-ref="load_time" data-ref-filename="load_time">load_time</dfn>,     <em>static</em>, <a class="macro" href="../include/libc-symbols.h.html#439" title="__attribute__ ((section (&quot;.data.rel.ro&quot;)))" data-ref="_M/attribute_relro">attribute_relro</a>);</td></tr>
<tr><th id="353">353</th><td><a class="macro" href="#57" title="static hp_timing_t start_time __attribute__ ((section (&quot;.data.rel.ro&quot;)))" data-ref="_M/RLTD_TIMING_DECLARE">RLTD_TIMING_DECLARE</a> (<dfn class="tu decl def" id="start_time" title='start_time' data-type='hp_timing_t' data-ref="start_time" data-ref-filename="start_time">start_time</dfn>,    <em>static</em>, <a class="macro" href="../include/libc-symbols.h.html#439" title="__attribute__ ((section (&quot;.data.rel.ro&quot;)))" data-ref="_M/attribute_relro">attribute_relro</a>);</td></tr>
<tr><th id="354">354</th><td></td></tr>
<tr><th id="355">355</th><td><i>/* Additional definitions needed by TLS initialization.  */</i></td></tr>
<tr><th id="356">356</th><td><u>#<span data-ppcond="356">ifdef</span> <span class="macro" data-ref="_M/TLS_INIT_HELPER">TLS_INIT_HELPER</span></u></td></tr>
<tr><th id="357">357</th><td>TLS_INIT_HELPER</td></tr>
<tr><th id="358">358</th><td><u>#<span data-ppcond="356">endif</span></u></td></tr>
<tr><th id="359">359</th><td></td></tr>
<tr><th id="360">360</th><td><i>/* Helper function for syscall implementation.  */</i></td></tr>
<tr><th id="361">361</th><td><u>#<span data-ppcond="361">ifdef</span> <span class="macro" data-ref="_M/DL_SYSINFO_IMPLEMENTATION">DL_SYSINFO_IMPLEMENTATION</span></u></td></tr>
<tr><th id="362">362</th><td>DL_SYSINFO_IMPLEMENTATION</td></tr>
<tr><th id="363">363</th><td><u>#<span data-ppcond="361">endif</span></u></td></tr>
<tr><th id="364">364</th><td></td></tr>
<tr><th id="365">365</th><td><i>/* Before ld.so is relocated we must not access variables which need</i></td></tr>
<tr><th id="366">366</th><td><i>   relocations.  This means variables which are exported.  Variables</i></td></tr>
<tr><th id="367">367</th><td><i>   declared as static are fine.  If we can mark a variable hidden this</i></td></tr>
<tr><th id="368">368</th><td><i>   is fine, too.  The latter is important here.  We can avoid setting</i></td></tr>
<tr><th id="369">369</th><td><i>   up a temporary link map for ld.so if we can mark _rtld_global as</i></td></tr>
<tr><th id="370">370</th><td><i>   hidden.  */</i></td></tr>
<tr><th id="371">371</th><td><u>#<span data-ppcond="371">ifdef</span> <span class="macro" data-ref="_M/PI_STATIC_AND_HIDDEN">PI_STATIC_AND_HIDDEN</span></u></td></tr>
<tr><th id="372">372</th><td><u># define <dfn class="macro" id="_M/DONT_USE_BOOTSTRAP_MAP" data-ref="_M/DONT_USE_BOOTSTRAP_MAP">DONT_USE_BOOTSTRAP_MAP</dfn>	1</u></td></tr>
<tr><th id="373">373</th><td><u>#<span data-ppcond="371">endif</span></u></td></tr>
<tr><th id="374">374</th><td></td></tr>
<tr><th id="375">375</th><td><u>#<span data-ppcond="375">ifdef</span> <a class="macro" href="#372" data-ref="_M/DONT_USE_BOOTSTRAP_MAP">DONT_USE_BOOTSTRAP_MAP</a></u></td></tr>
<tr><th id="376">376</th><td><em>static</em> <a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr) <a class="tu decl fn" href="#_dl_start_final" title='_dl_start_final' data-type='Elf64_Addr _dl_start_final(void * arg)' data-ref="_dl_start_final" data-ref-filename="_dl_start_final">_dl_start_final</a> (<em>void</em> *<dfn class="local col3 decl" id="33arg" title='arg' data-type='void *' data-ref="33arg" data-ref-filename="33arg">arg</dfn>);</td></tr>
<tr><th id="377">377</th><td><u>#<span data-ppcond="375">else</span></u></td></tr>
<tr><th id="378">378</th><td><b>struct</b> dl_start_final_info</td></tr>
<tr><th id="379">379</th><td>{</td></tr>
<tr><th id="380">380</th><td>  <b>struct</b> link_map l;</td></tr>
<tr><th id="381">381</th><td>  RTLD_TIMING_VAR (start_time);</td></tr>
<tr><th id="382">382</th><td>};</td></tr>
<tr><th id="383">383</th><td><em>static</em> ElfW(Addr) _dl_start_final (<em>void</em> *arg,</td></tr>
<tr><th id="384">384</th><td>				   <b>struct</b> dl_start_final_info *info);</td></tr>
<tr><th id="385">385</th><td><u>#<span data-ppcond="375">endif</span></u></td></tr>
<tr><th id="386">386</th><td></td></tr>
<tr><th id="387">387</th><td><i>/* These defined magically in the linker script.  */</i></td></tr>
<tr><th id="388">388</th><td><b>extern</b> <em>char</em> <dfn class="decl" id="_begin" title='_begin' data-ref="_begin" data-ref-filename="_begin">_begin</dfn>[] <a class="macro" href="../include/libc-symbols.h.html#432" title="__attribute__ ((visibility (&quot;hidden&quot;)))" data-ref="_M/attribute_hidden">attribute_hidden</a>;</td></tr>
<tr><th id="389">389</th><td><b>extern</b> <em>char</em> <dfn class="decl" id="_etext" title='_etext' data-ref="_etext" data-ref-filename="_etext">_etext</dfn>[] <a class="macro" href="../include/libc-symbols.h.html#432" title="__attribute__ ((visibility (&quot;hidden&quot;)))" data-ref="_M/attribute_hidden">attribute_hidden</a>;</td></tr>
<tr><th id="390">390</th><td><b>extern</b> <em>char</em> <dfn class="decl" id="_end" title='_end' data-ref="_end" data-ref-filename="_end">_end</dfn>[] <a class="macro" href="../include/libc-symbols.h.html#432" title="__attribute__ ((visibility (&quot;hidden&quot;)))" data-ref="_M/attribute_hidden">attribute_hidden</a>;</td></tr>
<tr><th id="391">391</th><td></td></tr>
<tr><th id="392">392</th><td></td></tr>
<tr><th id="393">393</th><td><u>#<span data-ppcond="393">ifdef</span> <a class="macro" href="../sysdeps/x86_64/dl-machine.h.html#141" data-ref="_M/RTLD_START">RTLD_START</a></u></td></tr>
<tr><th id="394">394</th><td><a class="macro" href="../sysdeps/x86_64/dl-machine.h.html#141" title="asm (&quot;\n.text\n	.align 16\n.globl _start\n.globl _dl_start_user\n_start:\n	movq %rsp, %rdi\n	call _dl_start\n_dl_start_user:\n	# Save the user entry point address in %r12.\n	movq %rax, %r12\n	# See if we were run as a command with the executable file\n	# name as an extra leading argument.\n	movl _dl_skip_args(%rip), %eax\n	# Pop the original argument count.\n	popq %rdx\n	# Adjust the stack pointer to skip _dl_skip_args words.\n	leaq (%rsp,%rax,8), %rsp\n	# Subtract _dl_skip_args from argc.\n	subl %eax, %edx\n	# Push argc back on the stack.\n	pushq %rdx\n	# Call _dl_init (struct link_map *main_map, int argc, char **argv, char **env)\n	# argc -&gt; rsi\n	movq %rdx, %rsi\n	# Save %rsp value in %r13.\n	movq %rsp, %r13\n	# And align stack for the _dl_init call. \n	andq $-16, %rsp\n	# _dl_loaded -&gt; rdi\n	movq _rtld_local(%rip), %rdi\n	# env -&gt; rcx\n	leaq 16(%r13,%rdx,8), %rcx\n	# argv -&gt; rdx\n	leaq 8(%r13), %rdx\n	# Clear %rbp to mark outermost frame obviously even for constructors.\n	xorl %ebp, %ebp\n	# Call the function to run the initializers.\n	call _dl_init\n	# Pass our finalizer function to the user in %rdx, as per ELF ABI.\n	leaq _dl_fini(%rip), %rdx\n	# And make sure %rsp points to argc stored on the stack.\n	movq %r13, %rsp\n	# Jump to the user&apos;s entry point.\n	jmp *%r12\n.previous\n&quot;);" data-ref="_M/RTLD_START">RTLD_START</a></td></tr>
<tr><th id="395">395</th><td><u>#<span data-ppcond="393">else</span></u></td></tr>
<tr><th id="396">396</th><td><u># error "sysdeps/MACHINE/dl-machine.h fails to define RTLD_START"</u></td></tr>
<tr><th id="397">397</th><td><u>#<span data-ppcond="393">endif</span></u></td></tr>
<tr><th id="398">398</th><td></td></tr>
<tr><th id="399">399</th><td><i>/* This is the second half of _dl_start (below).  It can be inlined safely</i></td></tr>
<tr><th id="400">400</th><td><i>   under DONT_USE_BOOTSTRAP_MAP, where it is careful not to make any GOT</i></td></tr>
<tr><th id="401">401</th><td><i>   references.  When the tools don't permit us to avoid using a GOT entry</i></td></tr>
<tr><th id="402">402</th><td><i>   for _dl_rtld_global (no attribute_hidden support), we must make sure</i></td></tr>
<tr><th id="403">403</th><td><i>   this function is not inlined (see below).  */</i></td></tr>
<tr><th id="404">404</th><td></td></tr>
<tr><th id="405">405</th><td><u>#<span data-ppcond="405">ifdef</span> <a class="macro" href="#372" data-ref="_M/DONT_USE_BOOTSTRAP_MAP">DONT_USE_BOOTSTRAP_MAP</a></u></td></tr>
<tr><th id="406">406</th><td><em>static</em> <b>inline</b> <a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr) <b>__attribute__</b> ((always_inline))</td></tr>
<tr><th id="407">407</th><td><dfn class="tu decl def fn" id="_dl_start_final" title='_dl_start_final' data-type='Elf64_Addr _dl_start_final(void * arg)' data-ref="_dl_start_final" data-ref-filename="_dl_start_final">_dl_start_final</dfn> (<em>void</em> *<dfn class="local col4 decl" id="34arg" title='arg' data-type='void *' data-ref="34arg" data-ref-filename="34arg">arg</dfn>)</td></tr>
<tr><th id="408">408</th><td><u>#<span data-ppcond="405">else</span></u></td></tr>
<tr><th id="409">409</th><td><em>static</em> ElfW(Addr) <b>__attribute__</b> ((noinline))</td></tr>
<tr><th id="410">410</th><td>_dl_start_final (<em>void</em> *arg, <b>struct</b> dl_start_final_info *info)</td></tr>
<tr><th id="411">411</th><td><u>#<span data-ppcond="405">endif</span></u></td></tr>
<tr><th id="412">412</th><td>{</td></tr>
<tr><th id="413">413</th><td>  <a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr) <dfn class="local col5 decl" id="35start_addr" title='start_addr' data-type='Elf64_Addr' data-ref="35start_addr" data-ref-filename="35start_addr">start_addr</dfn>;</td></tr>
<tr><th id="414">414</th><td></td></tr>
<tr><th id="415">415</th><td>  <i>/* If it hasn't happen yet record the startup time.  */</i></td></tr>
<tr><th id="416">416</th><td>  <a class="tu ref fn" href="#rtld_timer_start" title='rtld_timer_start' data-use='c' data-ref="rtld_timer_start" data-ref-filename="rtld_timer_start">rtld_timer_start</a> (&amp;<a class="tu ref" href="#353" title='start_time' data-use='a' data-ref="start_time" data-ref-filename="start_time">start_time</a>);</td></tr>
<tr><th id="417">417</th><td><u>#<span data-ppcond="417">if</span> !defined <a class="macro" href="#372" data-ref="_M/DONT_USE_BOOTSTRAP_MAP">DONT_USE_BOOTSTRAP_MAP</a></u></td></tr>
<tr><th id="418">418</th><td>  RTLD_TIMING_SET (start_time, info-&gt;start_time);</td></tr>
<tr><th id="419">419</th><td><u>#<span data-ppcond="417">endif</span></u></td></tr>
<tr><th id="420">420</th><td></td></tr>
<tr><th id="421">421</th><td>  <i>/* Transfer data about ourselves to the permanent link_map structure.  */</i></td></tr>
<tr><th id="422">422</th><td><u>#<span data-ppcond="422">ifndef</span> <a class="macro" href="#372" data-ref="_M/DONT_USE_BOOTSTRAP_MAP">DONT_USE_BOOTSTRAP_MAP</a></u></td></tr>
<tr><th id="423">423</th><td>  GL(dl_rtld_map).l_addr = info-&gt;l.l_addr;</td></tr>
<tr><th id="424">424</th><td>  GL(dl_rtld_map).l_ld = info-&gt;l.l_ld;</td></tr>
<tr><th id="425">425</th><td>  memcpy (GL(dl_rtld_map).l_info, info-&gt;l.l_info,</td></tr>
<tr><th id="426">426</th><td>	  <b>sizeof</b> GL(dl_rtld_map).l_info);</td></tr>
<tr><th id="427">427</th><td>  GL(dl_rtld_map).l_mach = info-&gt;l.l_mach;</td></tr>
<tr><th id="428">428</th><td>  GL(dl_rtld_map).l_relocated = <var>1</var>;</td></tr>
<tr><th id="429">429</th><td><u>#<span data-ppcond="422">endif</span></u></td></tr>
<tr><th id="430">430</th><td>  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_setup_hash" title='_dl_setup_hash' data-ref="_dl_setup_hash" data-ref-filename="_dl_setup_hash">_dl_setup_hash</a> (&amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map));</td></tr>
<tr><th id="431">431</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_real" title='link_map::l_real' data-ref="link_map::l_real" data-ref-filename="link_map..l_real">l_real</a> = &amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map);</td></tr>
<tr><th id="432">432</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_map_start" title='link_map::l_map_start' data-ref="link_map::l_map_start" data-ref-filename="link_map..l_map_start">l_map_start</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr)) <a class="ref" href="#_begin" title='_begin' data-ref="_begin" data-ref-filename="_begin">_begin</a>;</td></tr>
<tr><th id="433">433</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_map_end" title='link_map::l_map_end' data-ref="link_map::l_map_end" data-ref-filename="link_map..l_map_end">l_map_end</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr)) <a class="ref" href="#_end" title='_end' data-ref="_end" data-ref-filename="_end">_end</a>;</td></tr>
<tr><th id="434">434</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_text_end" title='link_map::l_text_end' data-ref="link_map::l_text_end" data-ref-filename="link_map..l_text_end">l_text_end</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr)) <a class="ref" href="#_etext" title='_etext' data-ref="_etext" data-ref-filename="_etext">_etext</a>;</td></tr>
<tr><th id="435">435</th><td>  <i>/* Copy the TLS related data if necessary.  */</i></td></tr>
<tr><th id="436">436</th><td><u>#<span data-ppcond="436">ifndef</span> <a class="macro" href="#372" data-ref="_M/DONT_USE_BOOTSTRAP_MAP">DONT_USE_BOOTSTRAP_MAP</a></u></td></tr>
<tr><th id="437">437</th><td><u># if NO_TLS_OFFSET != 0</u></td></tr>
<tr><th id="438">438</th><td>  GL(dl_rtld_map).l_tls_offset = NO_TLS_OFFSET;</td></tr>
<tr><th id="439">439</th><td><u># endif</u></td></tr>
<tr><th id="440">440</th><td><u>#<span data-ppcond="436">endif</span></u></td></tr>
<tr><th id="441">441</th><td></td></tr>
<tr><th id="442">442</th><td>  <i>/* Initialize the stack end variable.  */</i></td></tr>
<tr><th id="443">443</th><td>  <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#__libc_stack_end" title='__libc_stack_end' data-ref="__libc_stack_end" data-ref-filename="__libc_stack_end">__libc_stack_end</a> = <a class="ref fn" href="#443" title='__builtin_frame_address' data-ref="__builtin_frame_address" data-ref-filename="__builtin_frame_address">__builtin_frame_address</a> (<var>0</var>);</td></tr>
<tr><th id="444">444</th><td></td></tr>
<tr><th id="445">445</th><td>  <i>/* Call the OS-dependent function to set up life so we can do things like</i></td></tr>
<tr><th id="446">446</th><td><i>     file access.  It will call `dl_main' (below) to do all the real work</i></td></tr>
<tr><th id="447">447</th><td><i>     of the dynamic linker, and then unwind our frame and run the user</i></td></tr>
<tr><th id="448">448</th><td><i>     entry point on the same stack we entered on.  */</i></td></tr>
<tr><th id="449">449</th><td>  <a class="local col5 ref" href="#35start_addr" title='start_addr' data-ref="35start_addr" data-ref-filename="35start_addr">start_addr</a> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_sysdep_start" title='_dl_sysdep_start' data-ref="_dl_sysdep_start" data-ref-filename="_dl_sysdep_start">_dl_sysdep_start</a> (<a class="local col4 ref" href="#34arg" title='arg' data-ref="34arg" data-ref-filename="34arg">arg</a>, &amp;<a class="tu ref fn" href="#dl_main" title='dl_main' data-use='a' data-ref="dl_main" data-ref-filename="dl_main">dl_main</a>);</td></tr>
<tr><th id="450">450</th><td></td></tr>
<tr><th id="451">451</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((_rtld_local_ro._dl_debug_mask &amp; (1 &lt;&lt; 7)), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_debug_mask" data-ref="_M/GLRO">GLRO</a>(dl_debug_mask) &amp; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#508" title="(1 &lt;&lt; 7)" data-ref="_M/DL_DEBUG_STATISTICS">DL_DEBUG_STATISTICS</a>))</td></tr>
<tr><th id="452">452</th><td>    {</td></tr>
<tr><th id="453">453</th><td>      <a class="macro" href="#59" title="hp_timing_t rtld_total_time" data-ref="_M/RTLD_TIMING_VAR">RTLD_TIMING_VAR</a> (<dfn class="local col6 decl" id="36rtld_total_time" title='rtld_total_time' data-type='hp_timing_t' data-ref="36rtld_total_time" data-ref-filename="36rtld_total_time">rtld_total_time</dfn>);</td></tr>
<tr><th id="454">454</th><td>      <a class="tu ref fn" href="#rtld_timer_stop" title='rtld_timer_stop' data-use='c' data-ref="rtld_timer_stop" data-ref-filename="rtld_timer_stop">rtld_timer_stop</a> (&amp;<a class="local col6 ref" href="#453" title='rtld_total_time' data-ref="36rtld_total_time" data-ref-filename="36rtld_total_time">rtld_total_time</a>, <a class="tu ref" href="#353" title='start_time' data-use='r' data-ref="start_time" data-ref-filename="start_time">start_time</a>);</td></tr>
<tr><th id="455">455</th><td>      <a class="tu ref fn" href="#print_statistics" title='print_statistics' data-use='c' data-ref="print_statistics" data-ref-filename="print_statistics">print_statistics</a> (<a class="macro" href="#61" title="&amp;(rtld_total_time)" data-ref="_M/RTLD_TIMING_REF">RTLD_TIMING_REF</a>(<a class="local col6 ref" href="#453" title='rtld_total_time' data-ref="36rtld_total_time" data-ref-filename="36rtld_total_time">rtld_total_time</a>));</td></tr>
<tr><th id="456">456</th><td>    }</td></tr>
<tr><th id="457">457</th><td></td></tr>
<tr><th id="458">458</th><td>  <b>return</b> <a class="local col5 ref" href="#35start_addr" title='start_addr' data-ref="35start_addr" data-ref-filename="35start_addr">start_addr</a>;</td></tr>
<tr><th id="459">459</th><td>}</td></tr>
<tr><th id="460">460</th><td></td></tr>
<tr><th id="461">461</th><td><em>static</em> <a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr) <a class="macro" href="../misc/sys/cdefs.h.html#242" title="__attribute__ ((__used__))" data-ref="_M/__attribute_used__">__attribute_used__</a></td></tr>
<tr><th id="462">462</th><td><dfn class="tu decl def fn" id="_dl_start" title='_dl_start' data-type='Elf64_Addr _dl_start(void * arg)' data-ref="_dl_start" data-ref-filename="_dl_start">_dl_start</dfn> (<em>void</em> *<dfn class="local col7 decl" id="37arg" title='arg' data-type='void *' data-ref="37arg" data-ref-filename="37arg">arg</dfn>)</td></tr>
<tr><th id="463">463</th><td>{</td></tr>
<tr><th id="464">464</th><td><u>#<span data-ppcond="464">ifdef</span> <a class="macro" href="#372" data-ref="_M/DONT_USE_BOOTSTRAP_MAP">DONT_USE_BOOTSTRAP_MAP</a></u></td></tr>
<tr><th id="465">465</th><td><u># define <dfn class="macro" id="_M/bootstrap_map" data-ref="_M/bootstrap_map">bootstrap_map</dfn> GL(dl_rtld_map)</u></td></tr>
<tr><th id="466">466</th><td><u>#<span data-ppcond="464">else</span></u></td></tr>
<tr><th id="467">467</th><td>  <b>struct</b> dl_start_final_info info;</td></tr>
<tr><th id="468">468</th><td><u># define bootstrap_map info.l</u></td></tr>
<tr><th id="469">469</th><td><u>#<span data-ppcond="464">endif</span></u></td></tr>
<tr><th id="470">470</th><td></td></tr>
<tr><th id="471">471</th><td>  <i>/* This #define produces dynamic linking inline functions for</i></td></tr>
<tr><th id="472">472</th><td><i>     bootstrap relocation instead of general-purpose relocation.</i></td></tr>
<tr><th id="473">473</th><td><i>     Since ld.so must not have any undefined symbols the result</i></td></tr>
<tr><th id="474">474</th><td><i>     is trivial: always the map of ld.so itself.  */</i></td></tr>
<tr><th id="475">475</th><td><u>#define <dfn class="macro" id="_M/RTLD_BOOTSTRAP" data-ref="_M/RTLD_BOOTSTRAP">RTLD_BOOTSTRAP</dfn></u></td></tr>
<tr><th id="476">476</th><td><u>#define <dfn class="macro" id="_M/BOOTSTRAP_MAP" data-ref="_M/BOOTSTRAP_MAP">BOOTSTRAP_MAP</dfn> (&amp;bootstrap_map)</u></td></tr>
<tr><th id="477">477</th><td><u>#define <dfn class="macro" id="_M/RESOLVE_MAP" data-ref="_M/RESOLVE_MAP">RESOLVE_MAP</dfn>(sym, version, flags) BOOTSTRAP_MAP</u></td></tr>
<tr><th id="478">478</th><td><u>#include <a href="dynamic-link.h.html">"dynamic-link.h"</a></u></td></tr>
<tr><th id="479">479</th><td></td></tr>
<tr><th id="480">480</th><td><u>#<span data-ppcond="480">ifdef</span> <a class="macro" href="#372" data-ref="_M/DONT_USE_BOOTSTRAP_MAP">DONT_USE_BOOTSTRAP_MAP</a></u></td></tr>
<tr><th id="481">481</th><td>  <a class="tu ref fn" href="#rtld_timer_start" title='rtld_timer_start' data-use='c' data-ref="rtld_timer_start" data-ref-filename="rtld_timer_start">rtld_timer_start</a> (&amp;<a class="tu ref" href="#353" title='start_time' data-use='a' data-ref="start_time" data-ref-filename="start_time">start_time</a>);</td></tr>
<tr><th id="482">482</th><td><u>#<span data-ppcond="480">else</span></u></td></tr>
<tr><th id="483">483</th><td>  rtld_timer_start (&amp;info.start_time);</td></tr>
<tr><th id="484">484</th><td><u>#<span data-ppcond="480">endif</span></u></td></tr>
<tr><th id="485">485</th><td></td></tr>
<tr><th id="486">486</th><td>  <i>/* Partly clean the `bootstrap_map' structure up.  Don't use</i></td></tr>
<tr><th id="487">487</th><td><i>     `memset' since it might not be built in or inlined and we cannot</i></td></tr>
<tr><th id="488">488</th><td><i>     make function calls at this point.  Use '__builtin_memset' if we</i></td></tr>
<tr><th id="489">489</th><td><i>     know it is available.  We do not have to clear the memory if we</i></td></tr>
<tr><th id="490">490</th><td><i>     do not have to use the temporary bootstrap_map.  Global variables</i></td></tr>
<tr><th id="491">491</th><td><i>     are initialized to zero by default.  */</i></td></tr>
<tr><th id="492">492</th><td><u>#<span data-ppcond="492">ifndef</span> <a class="macro" href="#372" data-ref="_M/DONT_USE_BOOTSTRAP_MAP">DONT_USE_BOOTSTRAP_MAP</a></u></td></tr>
<tr><th id="493">493</th><td><u># ifdef HAVE_BUILTIN_MEMSET</u></td></tr>
<tr><th id="494">494</th><td>  __builtin_memset (bootstrap_map.l_info, <kbd>'\0'</kbd>, <b>sizeof</b> (bootstrap_map.l_info));</td></tr>
<tr><th id="495">495</th><td><u># else</u></td></tr>
<tr><th id="496">496</th><td>  <b>for</b> (size_t cnt = <var>0</var>;</td></tr>
<tr><th id="497">497</th><td>       cnt &lt; <b>sizeof</b> (bootstrap_map.l_info) / <b>sizeof</b> (bootstrap_map.l_info[<var>0</var>]);</td></tr>
<tr><th id="498">498</th><td>       ++cnt)</td></tr>
<tr><th id="499">499</th><td>    bootstrap_map.l_info[cnt] = <var>0</var>;</td></tr>
<tr><th id="500">500</th><td><u># endif</u></td></tr>
<tr><th id="501">501</th><td><u>#<span data-ppcond="492">endif</span></u></td></tr>
<tr><th id="502">502</th><td></td></tr>
<tr><th id="503">503</th><td>  <i>/* Figure out the run-time load address of the dynamic linker itself.  */</i></td></tr>
<tr><th id="504">504</th><td>  <a class="macro" href="#465" title="_rtld_local._dl_rtld_map" data-ref="_M/bootstrap_map">bootstrap_map</a>.<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a> = <a class="ref fn" href="../sysdeps/x86_64/dl-machine.h.html#elf_machine_load_address" title='elf_machine_load_address' data-ref="elf_machine_load_address" data-ref-filename="elf_machine_load_address">elf_machine_load_address</a> ();</td></tr>
<tr><th id="505">505</th><td></td></tr>
<tr><th id="506">506</th><td>  <i>/* Read our own dynamic section and fill in the info array.  */</i></td></tr>
<tr><th id="507">507</th><td>  <a class="macro" href="#465" title="_rtld_local._dl_rtld_map" data-ref="_M/bootstrap_map">bootstrap_map</a>.<a class="ref field" href="../include/link.h.html#link_map::l_ld" title='link_map::l_ld' data-ref="link_map::l_ld" data-ref-filename="link_map..l_ld">l_ld</a> = (<em>void</em> *) <a class="macro" href="#465" title="_rtld_local._dl_rtld_map" data-ref="_M/bootstrap_map">bootstrap_map</a>.<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a> + <a class="ref fn" href="../sysdeps/x86_64/dl-machine.h.html#elf_machine_dynamic" title='elf_machine_dynamic' data-ref="elf_machine_dynamic" data-ref-filename="elf_machine_dynamic">elf_machine_dynamic</a> ();</td></tr>
<tr><th id="508">508</th><td>  <a class="ref fn" href="get-dynamic-info.h.html#elf_get_dynamic_info" title='elf_get_dynamic_info' data-ref="elf_get_dynamic_info" data-ref-filename="elf_get_dynamic_info">elf_get_dynamic_info</a> (&amp;<a class="macro" href="#465" title="_rtld_local._dl_rtld_map" data-ref="_M/bootstrap_map">bootstrap_map</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="509">509</th><td></td></tr>
<tr><th id="510">510</th><td><u>#<span data-ppcond="510">if</span> <a class="macro" href="../include/link.h.html#312" title="0" data-ref="_M/NO_TLS_OFFSET">NO_TLS_OFFSET</a> != 0</u></td></tr>
<tr><th id="511">511</th><td>  bootstrap_map.l_tls_offset = NO_TLS_OFFSET;</td></tr>
<tr><th id="512">512</th><td><u>#<span data-ppcond="510">endif</span></u></td></tr>
<tr><th id="513">513</th><td></td></tr>
<tr><th id="514">514</th><td><u>#<span data-ppcond="514">ifdef</span> <span class="macro" data-ref="_M/ELF_MACHINE_BEFORE_RTLD_RELOC">ELF_MACHINE_BEFORE_RTLD_RELOC</span></u></td></tr>
<tr><th id="515">515</th><td>  ELF_MACHINE_BEFORE_RTLD_RELOC (bootstrap_map.l_info);</td></tr>
<tr><th id="516">516</th><td><u>#<span data-ppcond="514">endif</span></u></td></tr>
<tr><th id="517">517</th><td></td></tr>
<tr><th id="518">518</th><td>  <b>if</b> (<a class="macro" href="#465" title="_rtld_local._dl_rtld_map" data-ref="_M/bootstrap_map">bootstrap_map</a>.<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a> || ! <a class="macro" href="#465" title="_rtld_local._dl_rtld_map" data-ref="_M/bootstrap_map">bootstrap_map</a>.<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#45" title="(35 + 0 + 16 + 3 + (0x6ffffdff - (0x6ffffdf5)))" data-ref="_M/VALIDX">VALIDX</a>(<a class="macro" href="elf.h.html#898" title="0x6ffffdf5" data-ref="_M/DT_GNU_PRELINKED">DT_GNU_PRELINKED</a>)])</td></tr>
<tr><th id="519">519</th><td>    {</td></tr>
<tr><th id="520">520</th><td>      <i>/* Relocate ourselves so we can do normal function calls and</i></td></tr>
<tr><th id="521">521</th><td><i>	 data access using the global offset table.  */</i></td></tr>
<tr><th id="522">522</th><td></td></tr>
<tr><th id="523">523</th><td>      <a class="macro" href="dynamic-link.h.html#194" title="do { int edr_lazy = elf_machine_runtime_setup ((&amp;_rtld_local._dl_rtld_map), (0), (0)); ; do { struct { Elf64_Addr start, size; __typeof (((Elf64_Dyn *) 0)-&gt;d_un.d_val) nrelative; int lazy; } ranges[2] = { { 0, 0, 0, 0 }, { 0, 0, 0, 0 } }; if (((&amp;_rtld_local._dl_rtld_map))-&gt;l_info[7]) { ranges[0].start = (((&amp;_rtld_local._dl_rtld_map)))-&gt;l_info[7]-&gt;d_un.d_ptr; ranges[0].size = ((&amp;_rtld_local._dl_rtld_map))-&gt;l_info[8]-&gt;d_un.d_val; if ((&amp;_rtld_local._dl_rtld_map)-&gt;l_info[(35 + 0 + (0x6fffffff - (0x6ffffff9)))] != ((void*)0)) ranges[0].nrelative = (&amp;_rtld_local._dl_rtld_map)-&gt;l_info[(35 + 0 + (0x6fffffff - (0x6ffffff9)))]-&gt;d_un.d_val; } if (((&amp;_rtld_local._dl_rtld_map))-&gt;l_info[20] &amp;&amp; (!0 || ((&amp;_rtld_local._dl_rtld_map))-&gt;l_info[20]-&gt;d_un.d_val == 7)) { Elf64_Addr start = (((&amp;_rtld_local._dl_rtld_map)))-&gt;l_info[23]-&gt;d_un.d_ptr; Elf64_Addr size = ((&amp;_rtld_local._dl_rtld_map))-&gt;l_info[2]-&gt;d_un.d_val; if (ranges[0].start + ranges[0].size == (start + size)) ranges[0].size -= size; if ((1) || (!(edr_lazy) &amp;&amp; (ranges[0].start + ranges[0].size) == start)) { ranges[0].size += size; } else { ranges[1].start = start; ranges[1].size = size; ranges[1].lazy = (edr_lazy); } } if ((1)) elf_dynamic_do_Rela (((&amp;_rtld_local._dl_rtld_map)), ranges[0].start, ranges[0].size, ranges[0].nrelative, 0, 0); else { int ranges_index; for (ranges_index = 0; ranges_index &lt; 2; ++ranges_index) elf_dynamic_do_Rela (((&amp;_rtld_local._dl_rtld_map)), ranges[ranges_index].start, ranges[ranges_index].size, ranges[ranges_index].nrelative, ranges[ranges_index].lazy, 0); } } while (0); } while (0)" data-ref="_M/ELF_DYNAMIC_RELOCATE">ELF_DYNAMIC_RELOCATE</a> (&amp;<a class="macro" href="#465" title="_rtld_local._dl_rtld_map" data-ref="_M/bootstrap_map">bootstrap_map</a>, <var>0</var>, <var>0</var>, <var>0</var>);</td></tr>
<tr><th id="524">524</th><td>    }</td></tr>
<tr><th id="525">525</th><td>  <a class="macro" href="#465" title="_rtld_local._dl_rtld_map" data-ref="_M/bootstrap_map">bootstrap_map</a>.<a class="ref field" href="../include/link.h.html#link_map::l_relocated" title='link_map::l_relocated' data-ref="link_map::l_relocated" data-ref-filename="link_map..l_relocated">l_relocated</a> = <var>1</var>;</td></tr>
<tr><th id="526">526</th><td></td></tr>
<tr><th id="527">527</th><td>  <i>/* Please note that we don't allow profiling of this object and</i></td></tr>
<tr><th id="528">528</th><td><i>     therefore need not test whether we have to allocate the array</i></td></tr>
<tr><th id="529">529</th><td><i>     for the relocation results (as done in dl-reloc.c).  */</i></td></tr>
<tr><th id="530">530</th><td></td></tr>
<tr><th id="531">531</th><td>  <i>/* Now life is sane; we can call functions and access global data.</i></td></tr>
<tr><th id="532">532</th><td><i>     Set up to use the operating system facilities, and find out from</i></td></tr>
<tr><th id="533">533</th><td><i>     the operating system's program loader where to find the program</i></td></tr>
<tr><th id="534">534</th><td><i>     header table in core.  Put the rest of _dl_start into a separate</i></td></tr>
<tr><th id="535">535</th><td><i>     function, that way the compiler cannot put accesses to the GOT</i></td></tr>
<tr><th id="536">536</th><td><i>     before ELF_DYNAMIC_RELOCATE.  */</i></td></tr>
<tr><th id="537">537</th><td>  {</td></tr>
<tr><th id="538">538</th><td><u>#<span data-ppcond="538">ifdef</span> <a class="macro" href="#372" data-ref="_M/DONT_USE_BOOTSTRAP_MAP">DONT_USE_BOOTSTRAP_MAP</a></u></td></tr>
<tr><th id="539">539</th><td>    <a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr) <dfn class="local col8 decl" id="38entry" title='entry' data-type='Elf64_Addr' data-ref="38entry" data-ref-filename="38entry">entry</dfn> = <a class="tu ref fn" href="#_dl_start_final" title='_dl_start_final' data-use='c' data-ref="_dl_start_final" data-ref-filename="_dl_start_final">_dl_start_final</a> (<a class="local col7 ref" href="#37arg" title='arg' data-ref="37arg" data-ref-filename="37arg">arg</a>);</td></tr>
<tr><th id="540">540</th><td><u>#<span data-ppcond="538">else</span></u></td></tr>
<tr><th id="541">541</th><td>    ElfW(Addr) entry = _dl_start_final (arg, &amp;info);</td></tr>
<tr><th id="542">542</th><td><u>#<span data-ppcond="538">endif</span></u></td></tr>
<tr><th id="543">543</th><td></td></tr>
<tr><th id="544">544</th><td><u>#<span data-ppcond="544">ifndef</span> <span class="macro" data-ref="_M/ELF_MACHINE_START_ADDRESS">ELF_MACHINE_START_ADDRESS</span></u></td></tr>
<tr><th id="545">545</th><td><u># define <dfn class="macro" id="_M/ELF_MACHINE_START_ADDRESS" data-ref="_M/ELF_MACHINE_START_ADDRESS">ELF_MACHINE_START_ADDRESS</dfn>(map, start) (start)</u></td></tr>
<tr><th id="546">546</th><td><u>#<span data-ppcond="544">endif</span></u></td></tr>
<tr><th id="547">547</th><td></td></tr>
<tr><th id="548">548</th><td>    <b>return</b> <a class="macro" href="#545" title="(entry)" data-ref="_M/ELF_MACHINE_START_ADDRESS">ELF_MACHINE_START_ADDRESS</a> (GL(dl_ns)[LM_ID_BASE]._ns_loaded, <a class="local col8 ref" href="#38entry" title='entry' data-ref="38entry" data-ref-filename="38entry">entry</a>);</td></tr>
<tr><th id="549">549</th><td>  }</td></tr>
<tr><th id="550">550</th><td>}</td></tr>
<tr><th id="551">551</th><td></td></tr>
<tr><th id="552">552</th><td></td></tr>
<tr><th id="553">553</th><td></td></tr>
<tr><th id="554">554</th><td><i>/* Now life is peachy; we can do all normal operations.</i></td></tr>
<tr><th id="555">555</th><td><i>   On to the real work.  */</i></td></tr>
<tr><th id="556">556</th><td></td></tr>
<tr><th id="557">557</th><td><i>/* Some helper functions.  */</i></td></tr>
<tr><th id="558">558</th><td></td></tr>
<tr><th id="559">559</th><td><i>/* Arguments to relocate_doit.  */</i></td></tr>
<tr><th id="560">560</th><td><b>struct</b> <dfn class="type def" id="relocate_args" title='relocate_args' data-ref="relocate_args" data-ref-filename="relocate_args">relocate_args</dfn></td></tr>
<tr><th id="561">561</th><td>{</td></tr>
<tr><th id="562">562</th><td>  <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="tu decl field" id="relocate_args::l" title='relocate_args::l' data-type='struct link_map *' data-ref="relocate_args::l" data-ref-filename="relocate_args..l">l</dfn>;</td></tr>
<tr><th id="563">563</th><td>  <em>int</em> <dfn class="tu decl field" id="relocate_args::reloc_mode" title='relocate_args::reloc_mode' data-type='int' data-ref="relocate_args::reloc_mode" data-ref-filename="relocate_args..reloc_mode">reloc_mode</dfn>;</td></tr>
<tr><th id="564">564</th><td>};</td></tr>
<tr><th id="565">565</th><td></td></tr>
<tr><th id="566">566</th><td><b>struct</b> <dfn class="type def" id="map_args" title='map_args' data-ref="map_args" data-ref-filename="map_args">map_args</dfn></td></tr>
<tr><th id="567">567</th><td>{</td></tr>
<tr><th id="568">568</th><td>  <i  data-doc="map_args::str">/* Argument to map_doit.  */</i></td></tr>
<tr><th id="569">569</th><td>  <em>const</em> <em>char</em> *<dfn class="tu decl field" id="map_args::str" title='map_args::str' data-type='const char *' data-ref="map_args::str" data-ref-filename="map_args..str">str</dfn>;</td></tr>
<tr><th id="570">570</th><td>  <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="tu decl field" id="map_args::loader" title='map_args::loader' data-type='struct link_map *' data-ref="map_args::loader" data-ref-filename="map_args..loader">loader</dfn>;</td></tr>
<tr><th id="571">571</th><td>  <em>int</em> <dfn class="tu decl field" id="map_args::mode" title='map_args::mode' data-type='int' data-ref="map_args::mode" data-ref-filename="map_args..mode">mode</dfn>;</td></tr>
<tr><th id="572">572</th><td>  <i  data-doc="map_args::map">/* Return value of map_doit.  */</i></td></tr>
<tr><th id="573">573</th><td>  <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="tu decl field" id="map_args::map" title='map_args::map' data-type='struct link_map *' data-ref="map_args::map" data-ref-filename="map_args..map">map</dfn>;</td></tr>
<tr><th id="574">574</th><td>};</td></tr>
<tr><th id="575">575</th><td></td></tr>
<tr><th id="576">576</th><td><b>struct</b> <dfn class="type def" id="dlmopen_args" title='dlmopen_args' data-ref="dlmopen_args" data-ref-filename="dlmopen_args">dlmopen_args</dfn></td></tr>
<tr><th id="577">577</th><td>{</td></tr>
<tr><th id="578">578</th><td>  <em>const</em> <em>char</em> *<dfn class="tu decl field" id="dlmopen_args::fname" title='dlmopen_args::fname' data-type='const char *' data-ref="dlmopen_args::fname" data-ref-filename="dlmopen_args..fname">fname</dfn>;</td></tr>
<tr><th id="579">579</th><td>  <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="tu decl field" id="dlmopen_args::map" title='dlmopen_args::map' data-type='struct link_map *' data-ref="dlmopen_args::map" data-ref-filename="dlmopen_args..map">map</dfn>;</td></tr>
<tr><th id="580">580</th><td>};</td></tr>
<tr><th id="581">581</th><td></td></tr>
<tr><th id="582">582</th><td><b>struct</b> <dfn class="type def" id="lookup_args" title='lookup_args' data-ref="lookup_args" data-ref-filename="lookup_args">lookup_args</dfn></td></tr>
<tr><th id="583">583</th><td>{</td></tr>
<tr><th id="584">584</th><td>  <em>const</em> <em>char</em> *<dfn class="tu decl field" id="lookup_args::name" title='lookup_args::name' data-type='const char *' data-ref="lookup_args::name" data-ref-filename="lookup_args..name">name</dfn>;</td></tr>
<tr><th id="585">585</th><td>  <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="tu decl field" id="lookup_args::map" title='lookup_args::map' data-type='struct link_map *' data-ref="lookup_args::map" data-ref-filename="lookup_args..map">map</dfn>;</td></tr>
<tr><th id="586">586</th><td>  <em>void</em> *<dfn class="tu decl field" id="lookup_args::result" title='lookup_args::result' data-type='void *' data-ref="lookup_args::result" data-ref-filename="lookup_args..result">result</dfn>;</td></tr>
<tr><th id="587">587</th><td>};</td></tr>
<tr><th id="588">588</th><td></td></tr>
<tr><th id="589">589</th><td><i>/* Arguments to version_check_doit.  */</i></td></tr>
<tr><th id="590">590</th><td><b>struct</b> <dfn class="type def" id="version_check_args" title='version_check_args' data-ref="version_check_args" data-ref-filename="version_check_args">version_check_args</dfn></td></tr>
<tr><th id="591">591</th><td>{</td></tr>
<tr><th id="592">592</th><td>  <em>int</em> <dfn class="tu decl field" id="version_check_args::doexit" title='version_check_args::doexit' data-type='int' data-ref="version_check_args::doexit" data-ref-filename="version_check_args..doexit">doexit</dfn>;</td></tr>
<tr><th id="593">593</th><td>  <em>int</em> <dfn class="tu decl field" id="version_check_args::dotrace" title='version_check_args::dotrace' data-type='int' data-ref="version_check_args::dotrace" data-ref-filename="version_check_args..dotrace">dotrace</dfn>;</td></tr>
<tr><th id="594">594</th><td>};</td></tr>
<tr><th id="595">595</th><td></td></tr>
<tr><th id="596">596</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="597">597</th><td><dfn class="tu decl def fn" id="relocate_doit" title='relocate_doit' data-type='void relocate_doit(void * a)' data-ref="relocate_doit" data-ref-filename="relocate_doit">relocate_doit</dfn> (<em>void</em> *<dfn class="local col9 decl" id="39a" title='a' data-type='void *' data-ref="39a" data-ref-filename="39a">a</dfn>)</td></tr>
<tr><th id="598">598</th><td>{</td></tr>
<tr><th id="599">599</th><td>  <b>struct</b> <a class="type" href="#relocate_args" title='relocate_args' data-ref="relocate_args" data-ref-filename="relocate_args">relocate_args</a> *<dfn class="local col0 decl" id="40args" title='args' data-type='struct relocate_args *' data-ref="40args" data-ref-filename="40args">args</dfn> = (<b>struct</b> <a class="type" href="#relocate_args" title='relocate_args' data-ref="relocate_args" data-ref-filename="relocate_args">relocate_args</a> *) <a class="local col9 ref" href="#39a" title='a' data-ref="39a" data-ref-filename="39a">a</a>;</td></tr>
<tr><th id="600">600</th><td></td></tr>
<tr><th id="601">601</th><td>  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_relocate_object" title='_dl_relocate_object' data-ref="_dl_relocate_object" data-ref-filename="_dl_relocate_object">_dl_relocate_object</a> (<a class="local col0 ref" href="#40args" title='args' data-ref="40args" data-ref-filename="40args">args</a>-&gt;<a class="tu ref field" href="#relocate_args::l" title='relocate_args::l' data-use='r' data-ref="relocate_args::l" data-ref-filename="relocate_args..l">l</a>, <a class="local col0 ref" href="#40args" title='args' data-ref="40args" data-ref-filename="40args">args</a>-&gt;<a class="tu ref field" href="#relocate_args::l" title='relocate_args::l' data-use='r' data-ref="relocate_args::l" data-ref-filename="relocate_args..l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_scope" title='link_map::l_scope' data-ref="link_map::l_scope" data-ref-filename="link_map..l_scope">l_scope</a>, <a class="local col0 ref" href="#40args" title='args' data-ref="40args" data-ref-filename="40args">args</a>-&gt;<a class="tu ref field" href="#relocate_args::reloc_mode" title='relocate_args::reloc_mode' data-use='r' data-ref="relocate_args::reloc_mode" data-ref-filename="relocate_args..reloc_mode">reloc_mode</a>, <var>0</var>);</td></tr>
<tr><th id="602">602</th><td>}</td></tr>
<tr><th id="603">603</th><td></td></tr>
<tr><th id="604">604</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="605">605</th><td><dfn class="tu decl def fn" id="map_doit" title='map_doit' data-type='void map_doit(void * a)' data-ref="map_doit" data-ref-filename="map_doit">map_doit</dfn> (<em>void</em> *<dfn class="local col1 decl" id="41a" title='a' data-type='void *' data-ref="41a" data-ref-filename="41a">a</dfn>)</td></tr>
<tr><th id="606">606</th><td>{</td></tr>
<tr><th id="607">607</th><td>  <b>struct</b> <a class="type" href="#map_args" title='map_args' data-ref="map_args" data-ref-filename="map_args">map_args</a> *<dfn class="local col2 decl" id="42args" title='args' data-type='struct map_args *' data-ref="42args" data-ref-filename="42args">args</dfn> = (<b>struct</b> <a class="type" href="#map_args" title='map_args' data-ref="map_args" data-ref-filename="map_args">map_args</a> *) <a class="local col1 ref" href="#41a" title='a' data-ref="41a" data-ref-filename="41a">a</a>;</td></tr>
<tr><th id="608">608</th><td>  <em>int</em> <dfn class="local col3 decl" id="43type" title='type' data-type='int' data-ref="43type" data-ref-filename="43type">type</dfn> = (<a class="local col2 ref" href="#42args" title='args' data-ref="42args" data-ref-filename="42args">args</a>-&gt;<a class="tu ref field" href="#map_args::mode" title='map_args::mode' data-use='r' data-ref="map_args::mode" data-ref-filename="map_args..mode">mode</a> == <a class="macro" href="../include/dlfcn.h.html#10" title="0x20000000" data-ref="_M/__RTLD_OPENEXEC">__RTLD_OPENEXEC</a>) ? <a class="enum" href="../include/link.h.html#link_map::lt_executable" title='link_map::lt_executable' data-ref="link_map::lt_executable" data-ref-filename="link_map..lt_executable">lt_executable</a> : <a class="enum" href="../include/link.h.html#link_map::lt_library" title='link_map::lt_library' data-ref="link_map::lt_library" data-ref-filename="link_map..lt_library">lt_library</a>;</td></tr>
<tr><th id="609">609</th><td>  <a class="local col2 ref" href="#42args" title='args' data-ref="42args" data-ref-filename="42args">args</a>-&gt;<a class="tu ref field" href="#map_args::map" title='map_args::map' data-use='w' data-ref="map_args::map" data-ref-filename="map_args..map">map</a> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_map_object" title='_dl_map_object' data-ref="_dl_map_object" data-ref-filename="_dl_map_object">_dl_map_object</a> (<a class="local col2 ref" href="#42args" title='args' data-ref="42args" data-ref-filename="42args">args</a>-&gt;<a class="tu ref field" href="#map_args::loader" title='map_args::loader' data-use='r' data-ref="map_args::loader" data-ref-filename="map_args..loader">loader</a>, <a class="local col2 ref" href="#42args" title='args' data-ref="42args" data-ref-filename="42args">args</a>-&gt;<a class="tu ref field" href="#map_args::str" title='map_args::str' data-use='r' data-ref="map_args::str" data-ref-filename="map_args..str">str</a>, <a class="local col3 ref" href="#43type" title='type' data-ref="43type" data-ref-filename="43type">type</a>, <var>0</var>,</td></tr>
<tr><th id="610">610</th><td>			      <a class="local col2 ref" href="#42args" title='args' data-ref="42args" data-ref-filename="42args">args</a>-&gt;<a class="tu ref field" href="#map_args::mode" title='map_args::mode' data-use='r' data-ref="map_args::mode" data-ref-filename="map_args..mode">mode</a>, <a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>);</td></tr>
<tr><th id="611">611</th><td>}</td></tr>
<tr><th id="612">612</th><td></td></tr>
<tr><th id="613">613</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="614">614</th><td><dfn class="tu decl def fn" id="dlmopen_doit" title='dlmopen_doit' data-type='void dlmopen_doit(void * a)' data-ref="dlmopen_doit" data-ref-filename="dlmopen_doit">dlmopen_doit</dfn> (<em>void</em> *<dfn class="local col4 decl" id="44a" title='a' data-type='void *' data-ref="44a" data-ref-filename="44a">a</dfn>)</td></tr>
<tr><th id="615">615</th><td>{</td></tr>
<tr><th id="616">616</th><td>  <b>struct</b> <a class="type" href="#dlmopen_args" title='dlmopen_args' data-ref="dlmopen_args" data-ref-filename="dlmopen_args">dlmopen_args</a> *<dfn class="local col5 decl" id="45args" title='args' data-type='struct dlmopen_args *' data-ref="45args" data-ref-filename="45args">args</dfn> = (<b>struct</b> <a class="type" href="#dlmopen_args" title='dlmopen_args' data-ref="dlmopen_args" data-ref-filename="dlmopen_args">dlmopen_args</a> *) <a class="local col4 ref" href="#44a" title='a' data-ref="44a" data-ref-filename="44a">a</a>;</td></tr>
<tr><th id="617">617</th><td>  <a class="local col5 ref" href="#45args" title='args' data-ref="45args" data-ref-filename="45args">args</a>-&gt;<a class="tu ref field" href="#dlmopen_args::map" title='dlmopen_args::map' data-use='w' data-ref="dlmopen_args::map" data-ref-filename="dlmopen_args..map">map</a> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_open" title='_dl_open' data-ref="_dl_open" data-ref-filename="_dl_open">_dl_open</a> (<a class="local col5 ref" href="#45args" title='args' data-ref="45args" data-ref-filename="45args">args</a>-&gt;<a class="tu ref field" href="#dlmopen_args::fname" title='dlmopen_args::fname' data-use='r' data-ref="dlmopen_args::fname" data-ref-filename="dlmopen_args..fname">fname</a>,</td></tr>
<tr><th id="618">618</th><td>			(<a class="macro" href="../bits/dlfcn.h.html#24" title="0x00001" data-ref="_M/RTLD_LAZY">RTLD_LAZY</a> | <a class="macro" href="../include/dlfcn.h.html#8" title="0x80000000" data-ref="_M/__RTLD_DLOPEN">__RTLD_DLOPEN</a> | <a class="macro" href="../include/dlfcn.h.html#12" title="0x08000000" data-ref="_M/__RTLD_AUDIT">__RTLD_AUDIT</a></td></tr>
<tr><th id="619">619</th><td>			 | <a class="macro" href="../include/dlfcn.h.html#13" title="0x04000000" data-ref="_M/__RTLD_SECURE">__RTLD_SECURE</a>),</td></tr>
<tr><th id="620">620</th><td>			<a class="tu ref fn" href="#dl_main" title='dl_main' data-use='r' data-ref="dl_main" data-ref-filename="dl_main">dl_main</a>, <a class="macro" href="../dlfcn/dlfcn.h.html#48" title="-1" data-ref="_M/LM_ID_NEWLM">LM_ID_NEWLM</a>, <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a>, <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>,</td></tr>
<tr><th id="621">621</th><td>			<a class="ref" href="../posix/unistd.h.html#__environ" title='__environ' data-ref="__environ" data-ref-filename="__environ">__environ</a>);</td></tr>
<tr><th id="622">622</th><td>}</td></tr>
<tr><th id="623">623</th><td></td></tr>
<tr><th id="624">624</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="625">625</th><td><dfn class="tu decl def fn" id="lookup_doit" title='lookup_doit' data-type='void lookup_doit(void * a)' data-ref="lookup_doit" data-ref-filename="lookup_doit">lookup_doit</dfn> (<em>void</em> *<dfn class="local col6 decl" id="46a" title='a' data-type='void *' data-ref="46a" data-ref-filename="46a">a</dfn>)</td></tr>
<tr><th id="626">626</th><td>{</td></tr>
<tr><th id="627">627</th><td>  <b>struct</b> <a class="type" href="#lookup_args" title='lookup_args' data-ref="lookup_args" data-ref-filename="lookup_args">lookup_args</a> *<dfn class="local col7 decl" id="47args" title='args' data-type='struct lookup_args *' data-ref="47args" data-ref-filename="47args">args</dfn> = (<b>struct</b> <a class="type" href="#lookup_args" title='lookup_args' data-ref="lookup_args" data-ref-filename="lookup_args">lookup_args</a> *) <a class="local col6 ref" href="#46a" title='a' data-ref="46a" data-ref-filename="46a">a</a>;</td></tr>
<tr><th id="628">628</th><td>  <em>const</em> <a class="macro" href="link.h.html#30" title="Elf64_Sym" data-ref="_M/ElfW">ElfW</a>(Sym) *<dfn class="local col8 decl" id="48ref" title='ref' data-type='const Elf64_Sym *' data-ref="48ref" data-ref-filename="48ref">ref</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="629">629</th><td>  <a class="local col7 ref" href="#47args" title='args' data-ref="47args" data-ref-filename="47args">args</a>-&gt;<a class="tu ref field" href="#lookup_args::result" title='lookup_args::result' data-use='w' data-ref="lookup_args::result" data-ref-filename="lookup_args..result">result</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="630">630</th><td>  <a class="typedef" href="../sysdeps/generic/ldsodefs.h.html#lookup_t" title='lookup_t' data-type='struct link_map *' data-ref="lookup_t" data-ref-filename="lookup_t">lookup_t</a> <dfn class="local col9 decl" id="49l" title='l' data-type='lookup_t' data-ref="49l" data-ref-filename="49l">l</dfn> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_lookup_symbol_x" title='_dl_lookup_symbol_x' data-ref="_dl_lookup_symbol_x" data-ref-filename="_dl_lookup_symbol_x">_dl_lookup_symbol_x</a> (<a class="local col7 ref" href="#47args" title='args' data-ref="47args" data-ref-filename="47args">args</a>-&gt;<a class="tu ref field" href="#lookup_args::name" title='lookup_args::name' data-use='r' data-ref="lookup_args::name" data-ref-filename="lookup_args..name">name</a>, <a class="local col7 ref" href="#47args" title='args' data-ref="47args" data-ref-filename="47args">args</a>-&gt;<a class="tu ref field" href="#lookup_args::map" title='lookup_args::map' data-use='r' data-ref="lookup_args::map" data-ref-filename="lookup_args..map">map</a>, &amp;<a class="local col8 ref" href="#48ref" title='ref' data-ref="48ref" data-ref-filename="48ref">ref</a>,</td></tr>
<tr><th id="631">631</th><td>				    <a class="local col7 ref" href="#47args" title='args' data-ref="47args" data-ref-filename="47args">args</a>-&gt;<a class="tu ref field" href="#lookup_args::map" title='lookup_args::map' data-use='r' data-ref="lookup_args::map" data-ref-filename="lookup_args..map">map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_local_scope" title='link_map::l_local_scope' data-ref="link_map::l_local_scope" data-ref-filename="link_map..l_local_scope">l_local_scope</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>,</td></tr>
<tr><th id="632">632</th><td>				    <a class="enum" href="../sysdeps/generic/ldsodefs.h.html#DL_LOOKUP_RETURN_NEWEST" title='DL_LOOKUP_RETURN_NEWEST' data-ref="DL_LOOKUP_RETURN_NEWEST" data-ref-filename="DL_LOOKUP_RETURN_NEWEST">DL_LOOKUP_RETURN_NEWEST</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="633">633</th><td>  <b>if</b> (<a class="local col8 ref" href="#48ref" title='ref' data-ref="48ref" data-ref-filename="48ref">ref</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="634">634</th><td>    <a class="local col7 ref" href="#47args" title='args' data-ref="47args" data-ref-filename="47args">args</a>-&gt;<a class="tu ref field" href="#lookup_args::result" title='lookup_args::result' data-use='w' data-ref="lookup_args::result" data-ref-filename="lookup_args..result">result</a> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#99" title="(void *) ((ref) == ((void*)0) ? 0 : (__builtin_expect (((ref)-&gt;st_shndx == 0xfff1), 0) ? 0 : ((0) || (l) ? (l)-&gt;l_addr : 0)) + (ref)-&gt;st_value)" data-ref="_M/DL_SYMBOL_ADDRESS">DL_SYMBOL_ADDRESS</a> (<a class="local col9 ref" href="#49l" title='l' data-ref="49l" data-ref-filename="49l">l</a>, <a class="local col8 ref" href="#48ref" title='ref' data-ref="48ref" data-ref-filename="48ref">ref</a>);</td></tr>
<tr><th id="635">635</th><td>}</td></tr>
<tr><th id="636">636</th><td></td></tr>
<tr><th id="637">637</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="638">638</th><td><dfn class="tu decl def fn" id="version_check_doit" title='version_check_doit' data-type='void version_check_doit(void * a)' data-ref="version_check_doit" data-ref-filename="version_check_doit">version_check_doit</dfn> (<em>void</em> *<dfn class="local col0 decl" id="50a" title='a' data-type='void *' data-ref="50a" data-ref-filename="50a">a</dfn>)</td></tr>
<tr><th id="639">639</th><td>{</td></tr>
<tr><th id="640">640</th><td>  <b>struct</b> <a class="type" href="#version_check_args" title='version_check_args' data-ref="version_check_args" data-ref-filename="version_check_args">version_check_args</a> *<dfn class="local col1 decl" id="51args" title='args' data-type='struct version_check_args *' data-ref="51args" data-ref-filename="51args">args</dfn> = (<b>struct</b> <a class="type" href="#version_check_args" title='version_check_args' data-ref="version_check_args" data-ref-filename="version_check_args">version_check_args</a> *) <a class="local col0 ref" href="#50a" title='a' data-ref="50a" data-ref-filename="50a">a</a>;</td></tr>
<tr><th id="641">641</th><td>  <b>if</b> (<a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_check_all_versions" title='_dl_check_all_versions' data-ref="_dl_check_all_versions" data-ref-filename="_dl_check_all_versions">_dl_check_all_versions</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_loaded" title='link_namespaces::_ns_loaded' data-ref="link_namespaces::_ns_loaded" data-ref-filename="link_namespaces.._ns_loaded">_ns_loaded</a>, <var>1</var>,</td></tr>
<tr><th id="642">642</th><td>			      <a class="local col1 ref" href="#51args" title='args' data-ref="51args" data-ref-filename="51args">args</a>-&gt;<a class="tu ref field" href="#version_check_args::dotrace" title='version_check_args::dotrace' data-use='r' data-ref="version_check_args::dotrace" data-ref-filename="version_check_args..dotrace">dotrace</a>) &amp;&amp; <a class="local col1 ref" href="#51args" title='args' data-ref="51args" data-ref-filename="51args">args</a>-&gt;<a class="tu ref field" href="#version_check_args::doexit" title='version_check_args::doexit' data-use='r' data-ref="version_check_args::doexit" data-ref-filename="version_check_args..doexit">doexit</a>)</td></tr>
<tr><th id="643">643</th><td>    <i>/* We cannot start the application.  Abort now.  */</i></td></tr>
<tr><th id="644">644</th><td>    <a class="macro" href="#99" title="exit_internal" data-ref="_M/_exit">_exit</a> (<var>1</var>);</td></tr>
<tr><th id="645">645</th><td>}</td></tr>
<tr><th id="646">646</th><td></td></tr>
<tr><th id="647">647</th><td></td></tr>
<tr><th id="648">648</th><td><em>static</em> <b>inline</b> <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *</td></tr>
<tr><th id="649">649</th><td><dfn class="tu decl def fn" id="find_needed" title='find_needed' data-type='struct link_map * find_needed(const char * name)' data-ref="find_needed" data-ref-filename="find_needed">find_needed</dfn> (<em>const</em> <em>char</em> *<dfn class="local col2 decl" id="52name" title='name' data-type='const char *' data-ref="52name" data-ref-filename="52name">name</dfn>)</td></tr>
<tr><th id="650">650</th><td>{</td></tr>
<tr><th id="651">651</th><td>  <b>struct</b> <a class="type" href="../include/link.h.html#r_scope_elem" title='r_scope_elem' data-ref="r_scope_elem" data-ref-filename="r_scope_elem">r_scope_elem</a> *<dfn class="local col3 decl" id="53scope" title='scope' data-type='struct r_scope_elem *' data-ref="53scope" data-ref-filename="53scope">scope</dfn> = &amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_loaded" title='link_namespaces::_ns_loaded' data-ref="link_namespaces::_ns_loaded" data-ref-filename="link_namespaces.._ns_loaded">_ns_loaded</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>;</td></tr>
<tr><th id="652">652</th><td>  <em>unsigned</em> <em>int</em> <dfn class="local col4 decl" id="54n" title='n' data-type='unsigned int' data-ref="54n" data-ref-filename="54n">n</dfn> = <a class="local col3 ref" href="#53scope" title='scope' data-ref="53scope" data-ref-filename="53scope">scope</a>-&gt;<a class="ref field" href="../include/link.h.html#r_scope_elem::r_nlist" title='r_scope_elem::r_nlist' data-ref="r_scope_elem::r_nlist" data-ref-filename="r_scope_elem..r_nlist">r_nlist</a>;</td></tr>
<tr><th id="653">653</th><td></td></tr>
<tr><th id="654">654</th><td>  <b>while</b> (<a class="local col4 ref" href="#54n" title='n' data-ref="54n" data-ref-filename="54n">n</a>-- &gt; <var>0</var>)</td></tr>
<tr><th id="655">655</th><td>    <b>if</b> (<a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_name_match_p" title='_dl_name_match_p' data-ref="_dl_name_match_p" data-ref-filename="_dl_name_match_p">_dl_name_match_p</a> (<a class="local col2 ref" href="#52name" title='name' data-ref="52name" data-ref-filename="52name">name</a>, <a class="local col3 ref" href="#53scope" title='scope' data-ref="53scope" data-ref-filename="53scope">scope</a>-&gt;<a class="ref field" href="../include/link.h.html#r_scope_elem::r_list" title='r_scope_elem::r_list' data-ref="r_scope_elem::r_list" data-ref-filename="r_scope_elem..r_list">r_list</a>[<a class="local col4 ref" href="#54n" title='n' data-ref="54n" data-ref-filename="54n">n</a>]))</td></tr>
<tr><th id="656">656</th><td>      <b>return</b> <a class="local col3 ref" href="#53scope" title='scope' data-ref="53scope" data-ref-filename="53scope">scope</a>-&gt;<a class="ref field" href="../include/link.h.html#r_scope_elem::r_list" title='r_scope_elem::r_list' data-ref="r_scope_elem::r_list" data-ref-filename="r_scope_elem..r_list">r_list</a>[<a class="local col4 ref" href="#54n" title='n' data-ref="54n" data-ref-filename="54n">n</a>];</td></tr>
<tr><th id="657">657</th><td></td></tr>
<tr><th id="658">658</th><td>  <i>/* Should never happen.  */</i></td></tr>
<tr><th id="659">659</th><td>  <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="660">660</th><td>}</td></tr>
<tr><th id="661">661</th><td></td></tr>
<tr><th id="662">662</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="663">663</th><td><dfn class="tu decl def fn" id="match_version" title='match_version' data-type='int match_version(const char * string, struct link_map * map)' data-ref="match_version" data-ref-filename="match_version">match_version</dfn> (<em>const</em> <em>char</em> *<dfn class="local col5 decl" id="55string" title='string' data-type='const char *' data-ref="55string" data-ref-filename="55string">string</dfn>, <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col6 decl" id="56map" title='map' data-type='struct link_map *' data-ref="56map" data-ref-filename="56map">map</dfn>)</td></tr>
<tr><th id="664">664</th><td>{</td></tr>
<tr><th id="665">665</th><td>  <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="57strtab" title='strtab' data-type='const char *' data-ref="57strtab" data-ref-filename="57strtab">strtab</dfn> = (<em>const</em> <em>void</em> *) <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#80" title="(map)-&gt;l_info[5]-&gt;d_un.d_ptr" data-ref="_M/D_PTR">D_PTR</a> (<a class="local col6 ref" href="#56map" title='map' data-ref="56map" data-ref-filename="56map">map</a>, <a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#857" title="5" data-ref="_M/DT_STRTAB">DT_STRTAB</a>]);</td></tr>
<tr><th id="666">666</th><td>  <a class="macro" href="link.h.html#30" title="Elf64_Verdef" data-ref="_M/ElfW">ElfW</a>(Verdef) *<dfn class="local col8 decl" id="58def" title='def' data-type='Elf64_Verdef *' data-ref="58def" data-ref-filename="58def">def</dfn>;</td></tr>
<tr><th id="667">667</th><td></td></tr>
<tr><th id="668">668</th><td><u>#define <dfn class="macro" id="_M/VERDEFTAG" data-ref="_M/VERDEFTAG">VERDEFTAG</dfn> (DT_NUM + DT_THISPROCNUM + DT_VERSIONTAGIDX (DT_VERDEF))</u></td></tr>
<tr><th id="669">669</th><td>  <b>if</b> (<a class="local col6 ref" href="#56map" title='map' data-ref="56map" data-ref-filename="56map">map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="#668" title="(35 + 0 + (0x6fffffff - (0x6ffffffc)))" data-ref="_M/VERDEFTAG">VERDEFTAG</a>] == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="670">670</th><td>    <i>/* The file has no symbol versioning.  */</i></td></tr>
<tr><th id="671">671</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="672">672</th><td></td></tr>
<tr><th id="673">673</th><td>  <a class="local col8 ref" href="#58def" title='def' data-ref="58def" data-ref-filename="58def">def</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Verdef" data-ref="_M/ElfW">ElfW</a>(Verdef) *) ((<em>char</em> *) <a class="local col6 ref" href="#56map" title='map' data-ref="56map" data-ref-filename="56map">map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a></td></tr>
<tr><th id="674">674</th><td>			  + <a class="local col6 ref" href="#56map" title='map' data-ref="56map" data-ref-filename="56map">map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="#668" title="(35 + 0 + (0x6fffffff - (0x6ffffffc)))" data-ref="_M/VERDEFTAG">VERDEFTAG</a>]-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_ptr" title='(anonymous struct)::(anonymous union)::d_ptr' data-ref="(anonymousstruct)::(anonymous)::d_ptr" data-ref-filename="(anonymousstruct)..(anonymous)..d_ptr">d_ptr</a>);</td></tr>
<tr><th id="675">675</th><td>  <b>while</b> (<var>1</var>)</td></tr>
<tr><th id="676">676</th><td>    {</td></tr>
<tr><th id="677">677</th><td>      <a class="macro" href="link.h.html#30" title="Elf64_Verdaux" data-ref="_M/ElfW">ElfW</a>(Verdaux) *<dfn class="local col9 decl" id="59aux" title='aux' data-type='Elf64_Verdaux *' data-ref="59aux" data-ref-filename="59aux">aux</dfn> = (<a class="macro" href="link.h.html#30" title="Elf64_Verdaux" data-ref="_M/ElfW">ElfW</a>(Verdaux) *) ((<em>char</em> *) <a class="local col8 ref" href="#58def" title='def' data-ref="58def" data-ref-filename="58def">def</a> + <a class="local col8 ref" href="#58def" title='def' data-ref="58def" data-ref-filename="58def">def</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::vd_aux" title='(anonymous struct)::vd_aux' data-ref="(anonymous)::vd_aux" data-ref-filename="(anonymous)..vd_aux">vd_aux</a>);</td></tr>
<tr><th id="678">678</th><td></td></tr>
<tr><th id="679">679</th><td>      <i>/* Compare the version strings.  */</i></td></tr>
<tr><th id="680">680</th><td>      <b>if</b> (<a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="local col5 ref" href="#55string" title='string' data-ref="55string" data-ref-filename="55string">string</a>, <a class="local col7 ref" href="#57strtab" title='strtab' data-ref="57strtab" data-ref-filename="57strtab">strtab</a> + <a class="local col9 ref" href="#59aux" title='aux' data-ref="59aux" data-ref-filename="59aux">aux</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::vda_name" title='(anonymous struct)::vda_name' data-ref="(anonymous)::vda_name" data-ref-filename="(anonymous)..vda_name">vda_name</a>) == <var>0</var>)</td></tr>
<tr><th id="681">681</th><td>	<i>/* Bingo!  */</i></td></tr>
<tr><th id="682">682</th><td>	<b>return</b> <var>1</var>;</td></tr>
<tr><th id="683">683</th><td></td></tr>
<tr><th id="684">684</th><td>      <i>/* If no more definitions we failed to find what we want.  */</i></td></tr>
<tr><th id="685">685</th><td>      <b>if</b> (<a class="local col8 ref" href="#58def" title='def' data-ref="58def" data-ref-filename="58def">def</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::vd_next" title='(anonymous struct)::vd_next' data-ref="(anonymous)::vd_next" data-ref-filename="(anonymous)..vd_next">vd_next</a> == <var>0</var>)</td></tr>
<tr><th id="686">686</th><td>	<b>break</b>;</td></tr>
<tr><th id="687">687</th><td></td></tr>
<tr><th id="688">688</th><td>      <i>/* Next definition.  */</i></td></tr>
<tr><th id="689">689</th><td>      <a class="local col8 ref" href="#58def" title='def' data-ref="58def" data-ref-filename="58def">def</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Verdef" data-ref="_M/ElfW">ElfW</a>(Verdef) *) ((<em>char</em> *) <a class="local col8 ref" href="#58def" title='def' data-ref="58def" data-ref-filename="58def">def</a> + <a class="local col8 ref" href="#58def" title='def' data-ref="58def" data-ref-filename="58def">def</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::vd_next" title='(anonymous struct)::vd_next' data-ref="(anonymous)::vd_next" data-ref-filename="(anonymous)..vd_next">vd_next</a>);</td></tr>
<tr><th id="690">690</th><td>    }</td></tr>
<tr><th id="691">691</th><td></td></tr>
<tr><th id="692">692</th><td>  <b>return</b> <var>0</var>;</td></tr>
<tr><th id="693">693</th><td>}</td></tr>
<tr><th id="694">694</th><td></td></tr>
<tr><th id="695">695</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl def" id="tls_init_tp_called" title='tls_init_tp_called' data-type='_Bool' data-ref="tls_init_tp_called" data-ref-filename="tls_init_tp_called">tls_init_tp_called</dfn>;</td></tr>
<tr><th id="696">696</th><td></td></tr>
<tr><th id="697">697</th><td><em>static</em> <em>void</em> *</td></tr>
<tr><th id="698">698</th><td><dfn class="tu decl def fn" id="init_tls" title='init_tls' data-type='void * init_tls()' data-ref="init_tls" data-ref-filename="init_tls">init_tls</dfn> (<em>void</em>)</td></tr>
<tr><th id="699">699</th><td>{</td></tr>
<tr><th id="700">700</th><td>  <i>/* Number of elements in the static TLS block.  */</i></td></tr>
<tr><th id="701">701</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_tls_static_nelem" data-ref="_M/GL">GL</a>(dl_tls_static_nelem) = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_tls_max_dtv_idx" data-ref="_M/GL">GL</a>(dl_tls_max_dtv_idx);</td></tr>
<tr><th id="702">702</th><td></td></tr>
<tr><th id="703">703</th><td>  <i>/* Do not do this twice.  The audit interface might have required</i></td></tr>
<tr><th id="704">704</th><td><i>     the DTV interfaces to be set up early.  */</i></td></tr>
<tr><th id="705">705</th><td>  <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_initial_dtv" data-ref="_M/GL">GL</a>(dl_initial_dtv) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="706">706</th><td>    <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="707">707</th><td></td></tr>
<tr><th id="708">708</th><td>  <i>/* Allocate the array which contains the information about the</i></td></tr>
<tr><th id="709">709</th><td><i>     dtv slots.  We allocate a few entries more than needed to</i></td></tr>
<tr><th id="710">710</th><td><i>     avoid the need for reallocation.  */</i></td></tr>
<tr><th id="711">711</th><td>  <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col0 decl" id="60nelem" title='nelem' data-type='size_t' data-ref="60nelem" data-ref-filename="60nelem">nelem</dfn> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_tls_max_dtv_idx" data-ref="_M/GL">GL</a>(dl_tls_max_dtv_idx) + <var>1</var> + <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#445" title="(62)" data-ref="_M/TLS_SLOTINFO_SURPLUS">TLS_SLOTINFO_SURPLUS</a>;</td></tr>
<tr><th id="712">712</th><td></td></tr>
<tr><th id="713">713</th><td>  <i>/* Allocate.  */</i></td></tr>
<tr><th id="714">714</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_tls_dtv_slotinfo_list" data-ref="_M/GL">GL</a>(dl_tls_dtv_slotinfo_list) = (<b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#dtv_slotinfo_list" title='dtv_slotinfo_list' data-ref="dtv_slotinfo_list" data-ref-filename="dtv_slotinfo_list">dtv_slotinfo_list</a> *)</td></tr>
<tr><th id="715">715</th><td>    <a class="ref fn" href="../stdlib/stdlib.h.html#calloc" title='calloc' data-ref="calloc" data-ref-filename="calloc">calloc</a> (<b>sizeof</b> (<b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#dtv_slotinfo_list" title='dtv_slotinfo_list' data-ref="dtv_slotinfo_list" data-ref-filename="dtv_slotinfo_list">dtv_slotinfo_list</a>)</td></tr>
<tr><th id="716">716</th><td>	    + <a class="local col0 ref" href="#60nelem" title='nelem' data-ref="60nelem" data-ref-filename="60nelem">nelem</a> * <b>sizeof</b> (<b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#dtv_slotinfo" title='dtv_slotinfo' data-ref="dtv_slotinfo" data-ref-filename="dtv_slotinfo">dtv_slotinfo</a>), <var>1</var>);</td></tr>
<tr><th id="717">717</th><td>  <i>/* No need to check the return value.  If memory allocation failed</i></td></tr>
<tr><th id="718">718</th><td><i>     the program would have been terminated.  */</i></td></tr>
<tr><th id="719">719</th><td></td></tr>
<tr><th id="720">720</th><td>  <b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#dtv_slotinfo" title='dtv_slotinfo' data-ref="dtv_slotinfo" data-ref-filename="dtv_slotinfo">dtv_slotinfo</a> *<dfn class="local col1 decl" id="61slotinfo" title='slotinfo' data-type='struct dtv_slotinfo *' data-ref="61slotinfo" data-ref-filename="61slotinfo">slotinfo</dfn> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_tls_dtv_slotinfo_list" data-ref="_M/GL">GL</a>(dl_tls_dtv_slotinfo_list)-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#dtv_slotinfo_list::slotinfo" title='dtv_slotinfo_list::slotinfo' data-ref="dtv_slotinfo_list::slotinfo" data-ref-filename="dtv_slotinfo_list..slotinfo">slotinfo</a>;</td></tr>
<tr><th id="721">721</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_tls_dtv_slotinfo_list" data-ref="_M/GL">GL</a>(dl_tls_dtv_slotinfo_list)-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#dtv_slotinfo_list::len" title='dtv_slotinfo_list::len' data-ref="dtv_slotinfo_list::len" data-ref-filename="dtv_slotinfo_list..len">len</a> = <a class="local col0 ref" href="#60nelem" title='nelem' data-ref="60nelem" data-ref-filename="60nelem">nelem</a>;</td></tr>
<tr><th id="722">722</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_tls_dtv_slotinfo_list" data-ref="_M/GL">GL</a>(dl_tls_dtv_slotinfo_list)-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#dtv_slotinfo_list::next" title='dtv_slotinfo_list::next' data-ref="dtv_slotinfo_list::next" data-ref-filename="dtv_slotinfo_list..next">next</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="723">723</th><td></td></tr>
<tr><th id="724">724</th><td>  <i>/* Fill in the information from the loaded modules.  No namespace</i></td></tr>
<tr><th id="725">725</th><td><i>     but the base one can be filled at this time.  */</i></td></tr>
<tr><th id="726">726</th><td>  <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((_rtld_local._dl_ns[0 + 1]._ns_loaded == ((void*)0)) ? 1 : 0), __extension__ ({ if (_rtld_local._dl_ns[0 + 1]._ns_loaded == ((void*)0)) ; else __assert_fail (&quot;GL(dl_ns)[LM_ID_BASE + 1]._ns_loaded == NULL&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 726, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a> + <var>1</var>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_loaded" title='link_namespaces::_ns_loaded' data-ref="link_namespaces::_ns_loaded" data-ref-filename="link_namespaces.._ns_loaded">_ns_loaded</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="727">727</th><td>  <em>int</em> <dfn class="local col2 decl" id="62i" title='i' data-type='int' data-ref="62i" data-ref-filename="62i">i</dfn> = <var>0</var>;</td></tr>
<tr><th id="728">728</th><td>  <b>for</b> (<b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col3 decl" id="63l" title='l' data-type='struct link_map *' data-ref="63l" data-ref-filename="63l">l</dfn> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_loaded" title='link_namespaces::_ns_loaded' data-ref="link_namespaces::_ns_loaded" data-ref-filename="link_namespaces.._ns_loaded">_ns_loaded</a>; <a class="local col3 ref" href="#63l" title='l' data-ref="63l" data-ref-filename="63l">l</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="729">729</th><td>       <a class="local col3 ref" href="#63l" title='l' data-ref="63l" data-ref-filename="63l">l</a> = <a class="local col3 ref" href="#63l" title='l' data-ref="63l" data-ref-filename="63l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>)</td></tr>
<tr><th id="730">730</th><td>    <b>if</b> (<a class="local col3 ref" href="#63l" title='l' data-ref="63l" data-ref-filename="63l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_blocksize" title='link_map::l_tls_blocksize' data-ref="link_map::l_tls_blocksize" data-ref-filename="link_map..l_tls_blocksize">l_tls_blocksize</a> != <var>0</var>)</td></tr>
<tr><th id="731">731</th><td>      {</td></tr>
<tr><th id="732">732</th><td>	<i>/* This is a module with TLS data.  Store the map reference.</i></td></tr>
<tr><th id="733">733</th><td><i>	   The generation counter is zero.  */</i></td></tr>
<tr><th id="734">734</th><td>	<a class="local col1 ref" href="#61slotinfo" title='slotinfo' data-ref="61slotinfo" data-ref-filename="61slotinfo">slotinfo</a>[<a class="local col2 ref" href="#62i" title='i' data-ref="62i" data-ref-filename="62i">i</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#dtv_slotinfo::map" title='dtv_slotinfo::map' data-ref="dtv_slotinfo::map" data-ref-filename="dtv_slotinfo..map">map</a> = <a class="local col3 ref" href="#63l" title='l' data-ref="63l" data-ref-filename="63l">l</a>;</td></tr>
<tr><th id="735">735</th><td>	<i>/* slotinfo[i].gen = 0; */</i></td></tr>
<tr><th id="736">736</th><td>	++<a class="local col2 ref" href="#62i" title='i' data-ref="62i" data-ref-filename="62i">i</a>;</td></tr>
<tr><th id="737">737</th><td>      }</td></tr>
<tr><th id="738">738</th><td>  <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((i == _rtld_local._dl_tls_max_dtv_idx) ? 1 : 0), __extension__ ({ if (i == _rtld_local._dl_tls_max_dtv_idx) ; else __assert_fail (&quot;i == GL(dl_tls_max_dtv_idx)&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 738, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="local col2 ref" href="#62i" title='i' data-ref="62i" data-ref-filename="62i">i</a> == <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_tls_max_dtv_idx" data-ref="_M/GL">GL</a>(dl_tls_max_dtv_idx));</td></tr>
<tr><th id="739">739</th><td></td></tr>
<tr><th id="740">740</th><td>  <i>/* Compute the TLS offsets for the various blocks.  */</i></td></tr>
<tr><th id="741">741</th><td>  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_determine_tlsoffset" title='_dl_determine_tlsoffset' data-ref="_dl_determine_tlsoffset" data-ref-filename="_dl_determine_tlsoffset">_dl_determine_tlsoffset</a> ();</td></tr>
<tr><th id="742">742</th><td></td></tr>
<tr><th id="743">743</th><td>  <i>/* Construct the static TLS block and the dtv for the initial</i></td></tr>
<tr><th id="744">744</th><td><i>     thread.  For some platforms this will include allocating memory</i></td></tr>
<tr><th id="745">745</th><td><i>     for the thread descriptor.  The memory for the TLS block will</i></td></tr>
<tr><th id="746">746</th><td><i>     never be freed.  It should be allocated accordingly.  The dtv</i></td></tr>
<tr><th id="747">747</th><td><i>     array can be changed if dynamic loading requires it.  */</i></td></tr>
<tr><th id="748">748</th><td>  <em>void</em> *<dfn class="local col4 decl" id="64tcbp" title='tcbp' data-type='void *' data-ref="64tcbp" data-ref-filename="64tcbp">tcbp</dfn> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_allocate_tls_storage" title='_dl_allocate_tls_storage' data-ref="_dl_allocate_tls_storage" data-ref-filename="_dl_allocate_tls_storage">_dl_allocate_tls_storage</a> ();</td></tr>
<tr><th id="749">749</th><td>  <b>if</b> (<a class="local col4 ref" href="#64tcbp" title='tcbp' data-ref="64tcbp" data-ref-filename="64tcbp">tcbp</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="750">750</th><td>    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#760" title="do { _dl_dprintf (2, &quot;cannot allocate TLS data structures for initial thread\n&quot;); exit_internal (127); } while (1)" data-ref="_M/_dl_fatal_printf">_dl_fatal_printf</a> (<q>"\</q></td></tr>
<tr><th id="751">751</th><td><q>cannot allocate TLS data structures for initial thread\n"</q>);</td></tr>
<tr><th id="752">752</th><td></td></tr>
<tr><th id="753">753</th><td>  <i>/* Store for detection of the special case by __tls_get_addr</i></td></tr>
<tr><th id="754">754</th><td><i>     so it knows not to pass this dtv to the normal realloc.  */</i></td></tr>
<tr><th id="755">755</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_initial_dtv" data-ref="_M/GL">GL</a>(dl_initial_dtv) = <a class="macro" href="../sysdeps/x86_64/nptl/tls.h.html#144" title="(((tcbhead_t *) (tcbp))-&gt;dtv)" data-ref="_M/GET_DTV">GET_DTV</a> (<a class="local col4 ref" href="#64tcbp" title='tcbp' data-ref="64tcbp" data-ref-filename="64tcbp">tcbp</a>);</td></tr>
<tr><th id="756">756</th><td></td></tr>
<tr><th id="757">757</th><td>  <i>/* And finally install it for the main thread.  */</i></td></tr>
<tr><th id="758">758</th><td>  <em>const</em> <em>char</em> *<dfn class="local col5 decl" id="65lossage" title='lossage' data-type='const char *' data-ref="65lossage" data-ref-filename="65lossage">lossage</dfn> = <a class="macro" href="../sysdeps/x86_64/nptl/tls.h.html#154" title="({ void *_thrdescr = (tcbp); tcbhead_t *_head = _thrdescr; int _result; _head-&gt;tcb = _thrdescr; _head-&gt;self = _thrdescr; asm volatile (&quot;syscall&quot; : &quot;=a&quot; (_result) : &quot;0&quot; ((unsigned long int) 158), &quot;D&quot; ((unsigned long int) 0x1002), &quot;S&quot; (_thrdescr) : &quot;memory&quot;, &quot;cc&quot;, &quot;r11&quot;, &quot;cx&quot;); _result ? &quot;cannot set %fs base address for thread-local storage&quot; : 0; })" data-ref="_M/TLS_INIT_TP">TLS_INIT_TP</a> (<a class="local col4 ref" href="#64tcbp" title='tcbp' data-ref="64tcbp" data-ref-filename="64tcbp">tcbp</a>);</td></tr>
<tr><th id="759">759</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((lossage != ((void*)0)), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="local col5 ref" href="#65lossage" title='lossage' data-ref="65lossage" data-ref-filename="65lossage">lossage</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>))</td></tr>
<tr><th id="760">760</th><td>    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#760" title="do { _dl_dprintf (2, &quot;cannot set up thread-local storage: %s\n&quot;, lossage); exit_internal (127); } while (1)" data-ref="_M/_dl_fatal_printf">_dl_fatal_printf</a> (<q>"cannot set up thread-local storage: %s\n"</q>, <a class="local col5 ref" href="#65lossage" title='lossage' data-ref="65lossage" data-ref-filename="65lossage">lossage</a>);</td></tr>
<tr><th id="761">761</th><td>  <a class="tu ref" href="#tls_init_tp_called" title='tls_init_tp_called' data-use='w' data-ref="tls_init_tp_called" data-ref-filename="tls_init_tp_called">tls_init_tp_called</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="762">762</th><td></td></tr>
<tr><th id="763">763</th><td>  <b>return</b> <a class="local col4 ref" href="#64tcbp" title='tcbp' data-ref="64tcbp" data-ref-filename="64tcbp">tcbp</a>;</td></tr>
<tr><th id="764">764</th><td>}</td></tr>
<tr><th id="765">765</th><td></td></tr>
<tr><th id="766">766</th><td><em>static</em> <em>unsigned</em> <em>int</em></td></tr>
<tr><th id="767">767</th><td><dfn class="tu decl def fn" id="do_preload" title='do_preload' data-type='unsigned int do_preload(const char * fname, struct link_map * main_map, const char * where)' data-ref="do_preload" data-ref-filename="do_preload">do_preload</dfn> (<em>const</em> <em>char</em> *<dfn class="local col6 decl" id="66fname" title='fname' data-type='const char *' data-ref="66fname" data-ref-filename="66fname">fname</dfn>, <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col7 decl" id="67main_map" title='main_map' data-type='struct link_map *' data-ref="67main_map" data-ref-filename="67main_map">main_map</dfn>, <em>const</em> <em>char</em> *<dfn class="local col8 decl" id="68where" title='where' data-type='const char *' data-ref="68where" data-ref-filename="68where">where</dfn>)</td></tr>
<tr><th id="768">768</th><td>{</td></tr>
<tr><th id="769">769</th><td>  <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="69objname" title='objname' data-type='const char *' data-ref="69objname" data-ref-filename="69objname">objname</dfn>;</td></tr>
<tr><th id="770">770</th><td>  <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="70err_str" title='err_str' data-type='const char *' data-ref="70err_str" data-ref-filename="70err_str">err_str</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="771">771</th><td>  <b>struct</b> <a class="type" href="#map_args" title='map_args' data-ref="map_args" data-ref-filename="map_args">map_args</a> <dfn class="local col1 decl" id="71args" title='args' data-type='struct map_args' data-ref="71args" data-ref-filename="71args">args</dfn>;</td></tr>
<tr><th id="772">772</th><td>  <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col2 decl" id="72malloced" title='malloced' data-type='_Bool' data-ref="72malloced" data-ref-filename="72malloced">malloced</dfn>;</td></tr>
<tr><th id="773">773</th><td></td></tr>
<tr><th id="774">774</th><td>  <a class="local col1 ref" href="#71args" title='args' data-ref="71args" data-ref-filename="71args">args</a>.<a class="tu ref field" href="#map_args::str" title='map_args::str' data-use='w' data-ref="map_args::str" data-ref-filename="map_args..str">str</a> = <a class="local col6 ref" href="#66fname" title='fname' data-ref="66fname" data-ref-filename="66fname">fname</a>;</td></tr>
<tr><th id="775">775</th><td>  <a class="local col1 ref" href="#71args" title='args' data-ref="71args" data-ref-filename="71args">args</a>.<a class="tu ref field" href="#map_args::loader" title='map_args::loader' data-use='w' data-ref="map_args::loader" data-ref-filename="map_args..loader">loader</a> = <a class="local col7 ref" href="#67main_map" title='main_map' data-ref="67main_map" data-ref-filename="67main_map">main_map</a>;</td></tr>
<tr><th id="776">776</th><td>  <a class="local col1 ref" href="#71args" title='args' data-ref="71args" data-ref-filename="71args">args</a>.<a class="tu ref field" href="#map_args::mode" title='map_args::mode' data-use='w' data-ref="map_args::mode" data-ref-filename="map_args..mode">mode</a> = <a class="macro" href="../include/dlfcn.h.html#13" title="0x04000000" data-ref="_M/__RTLD_SECURE">__RTLD_SECURE</a>;</td></tr>
<tr><th id="777">777</th><td></td></tr>
<tr><th id="778">778</th><td>  <em>unsigned</em> <em>int</em> <dfn class="local col3 decl" id="73old_nloaded" title='old_nloaded' data-type='unsigned int' data-ref="73old_nloaded" data-ref-filename="73old_nloaded">old_nloaded</dfn> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_nloaded" title='link_namespaces::_ns_nloaded' data-ref="link_namespaces::_ns_nloaded" data-ref-filename="link_namespaces.._ns_nloaded">_ns_nloaded</a>;</td></tr>
<tr><th id="779">779</th><td></td></tr>
<tr><th id="780">780</th><td>  (<em>void</em>) <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_catch_error" title='_dl_catch_error' data-ref="_dl_catch_error" data-ref-filename="_dl_catch_error">_dl_catch_error</a> (&amp;<a class="local col9 ref" href="#69objname" title='objname' data-ref="69objname" data-ref-filename="69objname">objname</a>, &amp;<a class="local col0 ref" href="#70err_str" title='err_str' data-ref="70err_str" data-ref-filename="70err_str">err_str</a>, &amp;<a class="local col2 ref" href="#72malloced" title='malloced' data-ref="72malloced" data-ref-filename="72malloced">malloced</a>, <a class="tu ref fn" href="#map_doit" title='map_doit' data-use='r' data-ref="map_doit" data-ref-filename="map_doit">map_doit</a>, &amp;<a class="local col1 ref" href="#71args" title='args' data-ref="71args" data-ref-filename="71args">args</a>);</td></tr>
<tr><th id="781">781</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((err_str != ((void*)0)), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="local col0 ref" href="#70err_str" title='err_str' data-ref="70err_str" data-ref-filename="70err_str">err_str</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>))</td></tr>
<tr><th id="782">782</th><td>    {</td></tr>
<tr><th id="783">783</th><td>      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#755" title="_dl_dprintf (2, &quot;ERROR: ld.so: object &apos;%s&apos; from %s cannot be preloaded (%s): ignored.\n&quot;, fname, where, err_str)" data-ref="_M/_dl_error_printf">_dl_error_printf</a> (<q>"\</q></td></tr>
<tr><th id="784">784</th><td><q>ERROR: ld.so: object '%s' from %s cannot be preloaded (%s): ignored.\n"</q>,</td></tr>
<tr><th id="785">785</th><td>			<a class="local col6 ref" href="#66fname" title='fname' data-ref="66fname" data-ref-filename="66fname">fname</a>, <a class="local col8 ref" href="#68where" title='where' data-ref="68where" data-ref-filename="68where">where</a>, <a class="local col0 ref" href="#70err_str" title='err_str' data-ref="70err_str" data-ref-filename="70err_str">err_str</a>);</td></tr>
<tr><th id="786">786</th><td>      <i>/* No need to call free, this is still before</i></td></tr>
<tr><th id="787">787</th><td><i>	 the libc's malloc is used.  */</i></td></tr>
<tr><th id="788">788</th><td>    }</td></tr>
<tr><th id="789">789</th><td>  <b>else</b> <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_nloaded" title='link_namespaces::_ns_nloaded' data-ref="link_namespaces::_ns_nloaded" data-ref-filename="link_namespaces.._ns_nloaded">_ns_nloaded</a> != <a class="local col3 ref" href="#73old_nloaded" title='old_nloaded' data-ref="73old_nloaded" data-ref-filename="73old_nloaded">old_nloaded</a>)</td></tr>
<tr><th id="790">790</th><td>    <i>/* It is no duplicate.  */</i></td></tr>
<tr><th id="791">791</th><td>    <b>return</b> <var>1</var>;</td></tr>
<tr><th id="792">792</th><td></td></tr>
<tr><th id="793">793</th><td>  <i>/* Nothing loaded.  */</i></td></tr>
<tr><th id="794">794</th><td>  <b>return</b> <var>0</var>;</td></tr>
<tr><th id="795">795</th><td>}</td></tr>
<tr><th id="796">796</th><td></td></tr>
<tr><th id="797">797</th><td><u>#<span data-ppcond="797">if</span> defined <span class="macro" data-ref="_M/SHARED">SHARED</span> &amp;&amp; defined <span class="macro" data-ref="_M/_LIBC_REENTRANT">_LIBC_REENTRANT</span> \</u></td></tr>
<tr><th id="798">798</th><td><u>    &amp;&amp; defined <a class="macro" href="../sysdeps/nptl/libc-lockP.h.html#209" data-ref="_M/__rtld_lock_default_lock_recursive">__rtld_lock_default_lock_recursive</a></u></td></tr>
<tr><th id="799">799</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="800">800</th><td><dfn class="tu decl def fn" id="rtld_lock_default_lock_recursive" title='rtld_lock_default_lock_recursive' data-type='void rtld_lock_default_lock_recursive(void * lock)' data-ref="rtld_lock_default_lock_recursive" data-ref-filename="rtld_lock_default_lock_recursive">rtld_lock_default_lock_recursive</dfn> (<em>void</em> *<dfn class="local col4 decl" id="74lock" title='lock' data-type='void *' data-ref="74lock" data-ref-filename="74lock">lock</dfn>)</td></tr>
<tr><th id="801">801</th><td>{</td></tr>
<tr><th id="802">802</th><td>  <a class="macro" href="../sysdeps/nptl/libc-lockP.h.html#209" title="++((pthread_mutex_t *)(lock))-&gt;__data.__count;" data-ref="_M/__rtld_lock_default_lock_recursive">__rtld_lock_default_lock_recursive</a> (<a class="local col4 ref" href="#74lock" title='lock' data-ref="74lock" data-ref-filename="74lock">lock</a>);</td></tr>
<tr><th id="803">803</th><td>}</td></tr>
<tr><th id="804">804</th><td></td></tr>
<tr><th id="805">805</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="806">806</th><td><dfn class="tu decl def fn" id="rtld_lock_default_unlock_recursive" title='rtld_lock_default_unlock_recursive' data-type='void rtld_lock_default_unlock_recursive(void * lock)' data-ref="rtld_lock_default_unlock_recursive" data-ref-filename="rtld_lock_default_unlock_recursive">rtld_lock_default_unlock_recursive</dfn> (<em>void</em> *<dfn class="local col5 decl" id="75lock" title='lock' data-type='void *' data-ref="75lock" data-ref-filename="75lock">lock</dfn>)</td></tr>
<tr><th id="807">807</th><td>{</td></tr>
<tr><th id="808">808</th><td>  <a class="macro" href="../sysdeps/nptl/libc-lockP.h.html#212" title="--((pthread_mutex_t *)(lock))-&gt;__data.__count;" data-ref="_M/__rtld_lock_default_unlock_recursive">__rtld_lock_default_unlock_recursive</a> (<a class="local col5 ref" href="#75lock" title='lock' data-ref="75lock" data-ref-filename="75lock">lock</a>);</td></tr>
<tr><th id="809">809</th><td>}</td></tr>
<tr><th id="810">810</th><td><u>#<span data-ppcond="797">endif</span></u></td></tr>
<tr><th id="811">811</th><td></td></tr>
<tr><th id="812">812</th><td></td></tr>
<tr><th id="813">813</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="814">814</th><td><dfn class="tu decl def fn" id="security_init" title='security_init' data-type='void security_init()' data-ref="security_init" data-ref-filename="security_init">security_init</dfn> (<em>void</em>)</td></tr>
<tr><th id="815">815</th><td>{</td></tr>
<tr><th id="816">816</th><td>  <i>/* Set up the stack checker's canary.  */</i></td></tr>
<tr><th id="817">817</th><td>  <a class="typedef" href="../stdlib/stdint.h.html#uintptr_t" title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</a> <dfn class="local col6 decl" id="76stack_chk_guard" title='stack_chk_guard' data-type='uintptr_t' data-ref="76stack_chk_guard" data-ref-filename="76stack_chk_guard">stack_chk_guard</dfn> = <a class="ref fn" href="../sysdeps/unix/sysv/linux/dl-osinfo.h.html#_dl_setup_stack_chk_guard" title='_dl_setup_stack_chk_guard' data-ref="_dl_setup_stack_chk_guard" data-ref-filename="_dl_setup_stack_chk_guard">_dl_setup_stack_chk_guard</a> (<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_random" title='_dl_random' data-ref="_dl_random" data-ref-filename="_dl_random">_dl_random</a>);</td></tr>
<tr><th id="818">818</th><td><u>#<span data-ppcond="818">ifdef</span> <a class="macro" href="../sysdeps/x86_64/nptl/tls.h.html#310" data-ref="_M/THREAD_SET_STACK_GUARD">THREAD_SET_STACK_GUARD</a></u></td></tr>
<tr><th id="819">819</th><td>  <a class="macro" href="../sysdeps/x86_64/nptl/tls.h.html#310" title="({ if (sizeof (({ struct pthread *__self; asm (&quot;mov %%fs:%c1,%0&quot; : &quot;=r&quot; (__self) : &quot;i&quot; (__builtin_offsetof(struct pthread, header.self))); __self;})-&gt;header.stack_guard) == 1) asm volatile (&quot;movb %b0,%%fs:%P1&quot; : : &quot;iq&quot; (stack_chk_guard), &quot;i&quot; (__builtin_offsetof(struct pthread, header.stack_guard))); else if (sizeof (({ struct pthread *__self; asm (&quot;mov %%fs:%c1,%0&quot; : &quot;=r&quot; (__self) : &quot;i&quot; (__builtin_offsetof(struct pthread, header.self))); __self;})-&gt;header.stack_guard) == 4) asm volatile (&quot;movl %0,%%fs:%P1&quot; : : &quot;nr&quot; (stack_chk_guard), &quot;i&quot; (__builtin_offsetof(struct pthread, header.stack_guard))); else { if (sizeof (({ struct pthread *__self; asm (&quot;mov %%fs:%c1,%0&quot; : &quot;=r&quot; (__self) : &quot;i&quot; (__builtin_offsetof(struct pthread, header.self))); __self;})-&gt;header.stack_guard) != 8) abort (); asm volatile (&quot;movq %q0,%%fs:%P1&quot; : : &quot;nr&quot; ((uint64_t) ((__typeof__ (*(0 ? (__typeof__ (0 ? (__typeof__ ((__typeof__ (stack_chk_guard)) 0) *) 0 : (void *) ((__builtin_classify_type ((__typeof__ (stack_chk_guard)) 0) == 5)))) 0 : (__typeof__ (0 ? (intptr_t *) 0 : (void *) (!((__builtin_classify_type ((__typeof__ (stack_chk_guard)) 0) == 5))))) 0))) (stack_chk_guard))), &quot;i&quot; (__builtin_offsetof(struct pthread, header.stack_guard))); }})" data-ref="_M/THREAD_SET_STACK_GUARD">THREAD_SET_STACK_GUARD</a> (<a class="local col6 ref" href="#76stack_chk_guard" title='stack_chk_guard' data-ref="76stack_chk_guard" data-ref-filename="76stack_chk_guard">stack_chk_guard</a>);</td></tr>
<tr><th id="820">820</th><td><u>#<span data-ppcond="818">else</span></u></td></tr>
<tr><th id="821">821</th><td>  __stack_chk_guard = stack_chk_guard;</td></tr>
<tr><th id="822">822</th><td><u>#<span data-ppcond="818">endif</span></u></td></tr>
<tr><th id="823">823</th><td></td></tr>
<tr><th id="824">824</th><td>  <i>/* Set up the pointer guard as well, if necessary.  */</i></td></tr>
<tr><th id="825">825</th><td>  <a class="typedef" href="../stdlib/stdint.h.html#uintptr_t" title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</a> <dfn class="local col7 decl" id="77pointer_chk_guard" title='pointer_chk_guard' data-type='uintptr_t' data-ref="77pointer_chk_guard" data-ref-filename="77pointer_chk_guard">pointer_chk_guard</dfn></td></tr>
<tr><th id="826">826</th><td>    = <a class="ref fn" href="../sysdeps/unix/sysv/linux/dl-osinfo.h.html#_dl_setup_pointer_guard" title='_dl_setup_pointer_guard' data-ref="_dl_setup_pointer_guard" data-ref-filename="_dl_setup_pointer_guard">_dl_setup_pointer_guard</a> (<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_random" title='_dl_random' data-ref="_dl_random" data-ref-filename="_dl_random">_dl_random</a>, <a class="local col6 ref" href="#76stack_chk_guard" title='stack_chk_guard' data-ref="76stack_chk_guard" data-ref-filename="76stack_chk_guard">stack_chk_guard</a>);</td></tr>
<tr><th id="827">827</th><td><u>#<span data-ppcond="827">ifdef</span> <a class="macro" href="../sysdeps/x86_64/nptl/tls.h.html#318" data-ref="_M/THREAD_SET_POINTER_GUARD">THREAD_SET_POINTER_GUARD</a></u></td></tr>
<tr><th id="828">828</th><td>  <a class="macro" href="../sysdeps/x86_64/nptl/tls.h.html#318" title="({ if (sizeof (({ struct pthread *__self; asm (&quot;mov %%fs:%c1,%0&quot; : &quot;=r&quot; (__self) : &quot;i&quot; (__builtin_offsetof(struct pthread, header.self))); __self;})-&gt;header.pointer_guard) == 1) asm volatile (&quot;movb %b0,%%fs:%P1&quot; : : &quot;iq&quot; (pointer_chk_guard), &quot;i&quot; (__builtin_offsetof(struct pthread, header.pointer_guard))); else if (sizeof (({ struct pthread *__self; asm (&quot;mov %%fs:%c1,%0&quot; : &quot;=r&quot; (__self) : &quot;i&quot; (__builtin_offsetof(struct pthread, header.self))); __self;})-&gt;header.pointer_guard) == 4) asm volatile (&quot;movl %0,%%fs:%P1&quot; : : &quot;nr&quot; (pointer_chk_guard), &quot;i&quot; (__builtin_offsetof(struct pthread, header.pointer_guard))); else { if (sizeof (({ struct pthread *__self; asm (&quot;mov %%fs:%c1,%0&quot; : &quot;=r&quot; (__self) : &quot;i&quot; (__builtin_offsetof(struct pthread, header.self))); __self;})-&gt;header.pointer_guard) != 8) abort (); asm volatile (&quot;movq %q0,%%fs:%P1&quot; : : &quot;nr&quot; ((uint64_t) ((__typeof__ (*(0 ? (__typeof__ (0 ? (__typeof__ ((__typeof__ (pointer_chk_guard)) 0) *) 0 : (void *) ((__builtin_classify_type ((__typeof__ (pointer_chk_guard)) 0) == 5)))) 0 : (__typeof__ (0 ? (intptr_t *) 0 : (void *) (!((__builtin_classify_type ((__typeof__ (pointer_chk_guard)) 0) == 5))))) 0))) (pointer_chk_guard))), &quot;i&quot; (__builtin_offsetof(struct pthread, header.pointer_guard))); }})" data-ref="_M/THREAD_SET_POINTER_GUARD">THREAD_SET_POINTER_GUARD</a> (<a class="local col7 ref" href="#77pointer_chk_guard" title='pointer_chk_guard' data-ref="77pointer_chk_guard" data-ref-filename="77pointer_chk_guard">pointer_chk_guard</a>);</td></tr>
<tr><th id="829">829</th><td><u>#<span data-ppcond="827">endif</span></u></td></tr>
<tr><th id="830">830</th><td>  <a class="ref" href="#__pointer_chk_guard_local" title='__pointer_chk_guard_local' data-ref="__pointer_chk_guard_local" data-ref-filename="__pointer_chk_guard_local">__pointer_chk_guard_local</a> = <a class="local col7 ref" href="#77pointer_chk_guard" title='pointer_chk_guard' data-ref="77pointer_chk_guard" data-ref-filename="77pointer_chk_guard">pointer_chk_guard</a>;</td></tr>
<tr><th id="831">831</th><td></td></tr>
<tr><th id="832">832</th><td>  <i>/* We do not need the _dl_random value anymore.  The less</i></td></tr>
<tr><th id="833">833</th><td><i>     information we leave behind, the better, so clear the</i></td></tr>
<tr><th id="834">834</th><td><i>     variable.  */</i></td></tr>
<tr><th id="835">835</th><td>  <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_random" title='_dl_random' data-ref="_dl_random" data-ref-filename="_dl_random">_dl_random</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="836">836</th><td>}</td></tr>
<tr><th id="837">837</th><td></td></tr>
<tr><th id="838">838</th><td><u>#include <a href="setup-vdso.h.html">&lt;setup-vdso.h&gt;</a></u></td></tr>
<tr><th id="839">839</th><td></td></tr>
<tr><th id="840">840</th><td><i  data-doc="library_path">/* The library search path.  */</i></td></tr>
<tr><th id="841">841</th><td><em>static</em> <em>const</em> <em>char</em> *<dfn class="tu decl def" id="library_path" title='library_path' data-type='const char *' data-ref="library_path" data-ref-filename="library_path">library_path</dfn> <a class="macro" href="../include/libc-symbols.h.html#439" title="__attribute__ ((section (&quot;.data.rel.ro&quot;)))" data-ref="_M/attribute_relro">attribute_relro</a>;</td></tr>
<tr><th id="842">842</th><td><i  data-doc="preloadlist">/* The list preloaded objects.  */</i></td></tr>
<tr><th id="843">843</th><td><em>static</em> <em>const</em> <em>char</em> *<dfn class="tu decl def" id="preloadlist" title='preloadlist' data-type='const char *' data-ref="preloadlist" data-ref-filename="preloadlist">preloadlist</dfn> <a class="macro" href="../include/libc-symbols.h.html#439" title="__attribute__ ((section (&quot;.data.rel.ro&quot;)))" data-ref="_M/attribute_relro">attribute_relro</a>;</td></tr>
<tr><th id="844">844</th><td><i  data-doc="version_info">/* Nonzero if information about versions has to be printed.  */</i></td></tr>
<tr><th id="845">845</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="version_info" title='version_info' data-type='int' data-ref="version_info" data-ref-filename="version_info">version_info</dfn> <a class="macro" href="../include/libc-symbols.h.html#439" title="__attribute__ ((section (&quot;.data.rel.ro&quot;)))" data-ref="_M/attribute_relro">attribute_relro</a>;</td></tr>
<tr><th id="846">846</th><td><i  data-doc="preloadarg">/* The preload list passed as a command argument.  */</i></td></tr>
<tr><th id="847">847</th><td><em>static</em> <em>const</em> <em>char</em> *<dfn class="tu decl def" id="preloadarg" title='preloadarg' data-type='const char *' data-ref="preloadarg" data-ref-filename="preloadarg">preloadarg</dfn> <a class="macro" href="../include/libc-symbols.h.html#439" title="__attribute__ ((section (&quot;.data.rel.ro&quot;)))" data-ref="_M/attribute_relro">attribute_relro</a>;</td></tr>
<tr><th id="848">848</th><td></td></tr>
<tr><th id="849">849</th><td><i>/* The LD_PRELOAD environment variable gives list of libraries</i></td></tr>
<tr><th id="850">850</th><td><i>   separated by white space or colons that are loaded before the</i></td></tr>
<tr><th id="851">851</th><td><i>   executable's dependencies and prepended to the global scope list.</i></td></tr>
<tr><th id="852">852</th><td><i>   (If the binary is running setuid all elements containing a '/' are</i></td></tr>
<tr><th id="853">853</th><td><i>   ignored since it is insecure.)  Return the number of preloads</i></td></tr>
<tr><th id="854">854</th><td><i>   performed.   Ditto for --preload command argument.  */</i></td></tr>
<tr><th id="855">855</th><td><em>unsigned</em> <em>int</em></td></tr>
<tr><th id="856">856</th><td><dfn class="decl def fn" id="handle_preload_list" title='handle_preload_list' data-ref="handle_preload_list" data-ref-filename="handle_preload_list">handle_preload_list</dfn> (<em>const</em> <em>char</em> *<dfn class="local col8 decl" id="78preloadlist" title='preloadlist' data-type='const char *' data-ref="78preloadlist" data-ref-filename="78preloadlist">preloadlist</dfn>, <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col9 decl" id="79main_map" title='main_map' data-type='struct link_map *' data-ref="79main_map" data-ref-filename="79main_map">main_map</dfn>,</td></tr>
<tr><th id="857">857</th><td>		     <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="80where" title='where' data-type='const char *' data-ref="80where" data-ref-filename="80where">where</dfn>)</td></tr>
<tr><th id="858">858</th><td>{</td></tr>
<tr><th id="859">859</th><td>  <em>unsigned</em> <em>int</em> <dfn class="local col1 decl" id="81npreloads" title='npreloads' data-type='unsigned int' data-ref="81npreloads" data-ref-filename="81npreloads">npreloads</dfn> = <var>0</var>;</td></tr>
<tr><th id="860">860</th><td>  <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="82p" title='p' data-type='const char *' data-ref="82p" data-ref-filename="82p">p</dfn> = <a class="local col8 ref" href="#78preloadlist" title='preloadlist' data-ref="78preloadlist" data-ref-filename="78preloadlist">preloadlist</a>;</td></tr>
<tr><th id="861">861</th><td>  <em>char</em> <dfn class="local col3 decl" id="83fname" title='fname' data-type='char [4096]' data-ref="83fname" data-ref-filename="83fname">fname</dfn>[<a class="macro" href="#157" title="4096" data-ref="_M/SECURE_PATH_LIMIT">SECURE_PATH_LIMIT</a>];</td></tr>
<tr><th id="862">862</th><td></td></tr>
<tr><th id="863">863</th><td>  <b>while</b> (*<a class="local col2 ref" href="#82p" title='p' data-ref="82p" data-ref-filename="82p">p</a> != <kbd>'\0'</kbd>)</td></tr>
<tr><th id="864">864</th><td>    {</td></tr>
<tr><th id="865">865</th><td>      <i>/* Split preload list at space/colon.  */</i></td></tr>
<tr><th id="866">866</th><td>      <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col4 decl" id="84len" title='len' data-type='size_t' data-ref="84len" data-ref-filename="84len">len</dfn> = <a class="ref fn" href="../string/string.h.html#strcspn" title='strcspn' data-ref="strcspn" data-ref-filename="strcspn">strcspn</a> (<a class="local col2 ref" href="#82p" title='p' data-ref="82p" data-ref-filename="82p">p</a>, <q>" :"</q>);</td></tr>
<tr><th id="867">867</th><td>      <b>if</b> (<a class="local col4 ref" href="#84len" title='len' data-ref="84len" data-ref-filename="84len">len</a> &gt; <var>0</var> &amp;&amp; <a class="local col4 ref" href="#84len" title='len' data-ref="84len" data-ref-filename="84len">len</a> &lt; <b>sizeof</b> (<a class="local col3 ref" href="#83fname" title='fname' data-ref="83fname" data-ref-filename="83fname">fname</a>))</td></tr>
<tr><th id="868">868</th><td>	{</td></tr>
<tr><th id="869">869</th><td>	  <a class="ref fn" href="../string/string.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a> (<a class="local col3 ref" href="#83fname" title='fname' data-ref="83fname" data-ref-filename="83fname">fname</a>, <a class="local col2 ref" href="#82p" title='p' data-ref="82p" data-ref-filename="82p">p</a>, <a class="local col4 ref" href="#84len" title='len' data-ref="84len" data-ref-filename="84len">len</a>);</td></tr>
<tr><th id="870">870</th><td>	  <a class="local col3 ref" href="#83fname" title='fname' data-ref="83fname" data-ref-filename="83fname">fname</a>[<a class="local col4 ref" href="#84len" title='len' data-ref="84len" data-ref-filename="84len">len</a>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="871">871</th><td>	}</td></tr>
<tr><th id="872">872</th><td>      <b>else</b></td></tr>
<tr><th id="873">873</th><td>	<a class="local col3 ref" href="#83fname" title='fname' data-ref="83fname" data-ref-filename="83fname">fname</a>[<var>0</var>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="874">874</th><td></td></tr>
<tr><th id="875">875</th><td>      <i>/* Skip over the substring and the following delimiter.  */</i></td></tr>
<tr><th id="876">876</th><td>      <a class="local col2 ref" href="#82p" title='p' data-ref="82p" data-ref-filename="82p">p</a> += <a class="local col4 ref" href="#84len" title='len' data-ref="84len" data-ref-filename="84len">len</a>;</td></tr>
<tr><th id="877">877</th><td>      <b>if</b> (*<a class="local col2 ref" href="#82p" title='p' data-ref="82p" data-ref-filename="82p">p</a> != <kbd>'\0'</kbd>)</td></tr>
<tr><th id="878">878</th><td>	++<a class="local col2 ref" href="#82p" title='p' data-ref="82p" data-ref-filename="82p">p</a>;</td></tr>
<tr><th id="879">879</th><td></td></tr>
<tr><th id="880">880</th><td>      <b>if</b> (<a class="tu ref fn" href="#dso_name_valid_for_suid" title='dso_name_valid_for_suid' data-use='c' data-ref="dso_name_valid_for_suid" data-ref-filename="dso_name_valid_for_suid">dso_name_valid_for_suid</a> (<a class="local col3 ref" href="#83fname" title='fname' data-ref="83fname" data-ref-filename="83fname">fname</a>))</td></tr>
<tr><th id="881">881</th><td>	<a class="local col1 ref" href="#81npreloads" title='npreloads' data-ref="81npreloads" data-ref-filename="81npreloads">npreloads</a> += <a class="tu ref fn" href="#do_preload" title='do_preload' data-use='c' data-ref="do_preload" data-ref-filename="do_preload">do_preload</a> (<a class="local col3 ref" href="#83fname" title='fname' data-ref="83fname" data-ref-filename="83fname">fname</a>, <a class="local col9 ref" href="#79main_map" title='main_map' data-ref="79main_map" data-ref-filename="79main_map">main_map</a>, <a class="local col0 ref" href="#80where" title='where' data-ref="80where" data-ref-filename="80where">where</a>);</td></tr>
<tr><th id="882">882</th><td>    }</td></tr>
<tr><th id="883">883</th><td>  <b>return</b> <a class="local col1 ref" href="#81npreloads" title='npreloads' data-ref="81npreloads" data-ref-filename="81npreloads">npreloads</a>;</td></tr>
<tr><th id="884">884</th><td>}</td></tr>
<tr><th id="885">885</th><td></td></tr>
<tr><th id="886">886</th><td><i  data-doc="unload_audit_module">/* Called if the audit DSO cannot be used: if it does not have the</i></td></tr>
<tr><th id="887">887</th><td><i  data-doc="unload_audit_module">   appropriate interfaces, or it expects a more recent version library</i></td></tr>
<tr><th id="888">888</th><td><i  data-doc="unload_audit_module">   version than what the dynamic linker provides.  */</i></td></tr>
<tr><th id="889">889</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="890">890</th><td><dfn class="tu decl def fn" id="unload_audit_module" title='unload_audit_module' data-type='void unload_audit_module(struct link_map * map, int original_tls_idx)' data-ref="unload_audit_module" data-ref-filename="unload_audit_module">unload_audit_module</dfn> (<b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col5 decl" id="85map" title='map' data-type='struct link_map *' data-ref="85map" data-ref-filename="85map">map</dfn>, <em>int</em> <dfn class="local col6 decl" id="86original_tls_idx" title='original_tls_idx' data-type='int' data-ref="86original_tls_idx" data-ref-filename="86original_tls_idx">original_tls_idx</dfn>)</td></tr>
<tr><th id="891">891</th><td>{</td></tr>
<tr><th id="892">892</th><td><u>#<span data-ppcond="892">ifndef</span> <span class="macro" data-ref="_M/NDEBUG">NDEBUG</span></u></td></tr>
<tr><th id="893">893</th><td>  <a class="typedef" href="../dlfcn/dlfcn.h.html#Lmid_t" title='Lmid_t' data-type='long' data-ref="Lmid_t" data-ref-filename="Lmid_t">Lmid_t</a> <dfn class="local col7 decl" id="87ns" title='ns' data-type='Lmid_t' data-ref="87ns" data-ref-filename="87ns">ns</dfn> = <a class="local col5 ref" href="#85map" title='map' data-ref="85map" data-ref-filename="85map">map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_ns" title='link_map::l_ns' data-ref="link_map::l_ns" data-ref-filename="link_map..l_ns">l_ns</a>;</td></tr>
<tr><th id="894">894</th><td><u>#<span data-ppcond="892">endif</span></u></td></tr>
<tr><th id="895">895</th><td>  <a class="ref fn" href="../include/dlfcn.h.html#_dl_close" title='_dl_close' data-ref="_dl_close" data-ref-filename="_dl_close">_dl_close</a> (<a class="local col5 ref" href="#85map" title='map' data-ref="85map" data-ref-filename="85map">map</a>);</td></tr>
<tr><th id="896">896</th><td></td></tr>
<tr><th id="897">897</th><td>  <i>/* Make sure the namespace has been cleared entirely.  */</i></td></tr>
<tr><th id="898">898</th><td>  <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((_rtld_local._dl_ns[ns]._ns_loaded == ((void*)0)) ? 1 : 0), __extension__ ({ if (_rtld_local._dl_ns[ns]._ns_loaded == ((void*)0)) ; else __assert_fail (&quot;GL(dl_ns)[ns]._ns_loaded == NULL&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 898, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="local col7 ref" href="#87ns" title='ns' data-ref="87ns" data-ref-filename="87ns">ns</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_loaded" title='link_namespaces::_ns_loaded' data-ref="link_namespaces::_ns_loaded" data-ref-filename="link_namespaces.._ns_loaded">_ns_loaded</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="899">899</th><td>  <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((_rtld_local._dl_ns[ns]._ns_nloaded == 0) ? 1 : 0), __extension__ ({ if (_rtld_local._dl_ns[ns]._ns_nloaded == 0) ; else __assert_fail (&quot;GL(dl_ns)[ns]._ns_nloaded == 0&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 899, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="local col7 ref" href="#87ns" title='ns' data-ref="87ns" data-ref-filename="87ns">ns</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_nloaded" title='link_namespaces::_ns_nloaded' data-ref="link_namespaces::_ns_nloaded" data-ref-filename="link_namespaces.._ns_nloaded">_ns_nloaded</a> == <var>0</var>);</td></tr>
<tr><th id="900">900</th><td></td></tr>
<tr><th id="901">901</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_tls_max_dtv_idx" data-ref="_M/GL">GL</a>(dl_tls_max_dtv_idx) = <a class="local col6 ref" href="#86original_tls_idx" title='original_tls_idx' data-ref="86original_tls_idx" data-ref-filename="86original_tls_idx">original_tls_idx</a>;</td></tr>
<tr><th id="902">902</th><td>}</td></tr>
<tr><th id="903">903</th><td></td></tr>
<tr><th id="904">904</th><td><i  data-doc="report_audit_module_load_error">/* Called to print an error message if loading of an audit module</i></td></tr>
<tr><th id="905">905</th><td><i  data-doc="report_audit_module_load_error">   failed.  */</i></td></tr>
<tr><th id="906">906</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="907">907</th><td><dfn class="tu decl def fn" id="report_audit_module_load_error" title='report_audit_module_load_error' data-type='void report_audit_module_load_error(const char * name, const char * err_str, _Bool malloced)' data-ref="report_audit_module_load_error" data-ref-filename="report_audit_module_load_error">report_audit_module_load_error</dfn> (<em>const</em> <em>char</em> *<dfn class="local col8 decl" id="88name" title='name' data-type='const char *' data-ref="88name" data-ref-filename="88name">name</dfn>, <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="89err_str" title='err_str' data-type='const char *' data-ref="89err_str" data-ref-filename="89err_str">err_str</dfn>,</td></tr>
<tr><th id="908">908</th><td>				<span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col0 decl" id="90malloced" title='malloced' data-type='_Bool' data-ref="90malloced" data-ref-filename="90malloced">malloced</dfn>)</td></tr>
<tr><th id="909">909</th><td>{</td></tr>
<tr><th id="910">910</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#755" title="_dl_dprintf (2, &quot;ERROR: ld.so: object &apos;%s&apos; cannot be loaded as audit interface: %s; ignored.\n&quot;, name, err_str)" data-ref="_M/_dl_error_printf">_dl_error_printf</a> (<q>"\</q></td></tr>
<tr><th id="911">911</th><td><q>ERROR: ld.so: object '%s' cannot be loaded as audit interface: %s; ignored.\n"</q>,</td></tr>
<tr><th id="912">912</th><td>		    <a class="local col8 ref" href="#88name" title='name' data-ref="88name" data-ref-filename="88name">name</a>, <a class="local col9 ref" href="#89err_str" title='err_str' data-ref="89err_str" data-ref-filename="89err_str">err_str</a>);</td></tr>
<tr><th id="913">913</th><td>  <b>if</b> (<a class="local col0 ref" href="#90malloced" title='malloced' data-ref="90malloced" data-ref-filename="90malloced">malloced</a>)</td></tr>
<tr><th id="914">914</th><td>    <a class="ref fn" href="../stdlib/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a> ((<em>char</em> *) <a class="local col9 ref" href="#89err_str" title='err_str' data-ref="89err_str" data-ref-filename="89err_str">err_str</a>);</td></tr>
<tr><th id="915">915</th><td>}</td></tr>
<tr><th id="916">916</th><td></td></tr>
<tr><th id="917">917</th><td><i  data-doc="load_audit_module">/* Load one audit module.  */</i></td></tr>
<tr><th id="918">918</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="919">919</th><td><dfn class="tu decl def fn" id="load_audit_module" title='load_audit_module' data-type='void load_audit_module(const char * name, struct audit_ifaces ** last_audit)' data-ref="load_audit_module" data-ref-filename="load_audit_module">load_audit_module</dfn> (<em>const</em> <em>char</em> *<dfn class="local col1 decl" id="91name" title='name' data-type='const char *' data-ref="91name" data-ref-filename="91name">name</dfn>, <b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces" title='audit_ifaces' data-ref="audit_ifaces" data-ref-filename="audit_ifaces">audit_ifaces</a> **<dfn class="local col2 decl" id="92last_audit" title='last_audit' data-type='struct audit_ifaces **' data-ref="92last_audit" data-ref-filename="92last_audit">last_audit</dfn>)</td></tr>
<tr><th id="920">920</th><td>{</td></tr>
<tr><th id="921">921</th><td>  <em>int</em> <dfn class="local col3 decl" id="93original_tls_idx" title='original_tls_idx' data-type='int' data-ref="93original_tls_idx" data-ref-filename="93original_tls_idx">original_tls_idx</dfn> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_tls_max_dtv_idx" data-ref="_M/GL">GL</a>(dl_tls_max_dtv_idx);</td></tr>
<tr><th id="922">922</th><td></td></tr>
<tr><th id="923">923</th><td>  <b>struct</b> <a class="type" href="#dlmopen_args" title='dlmopen_args' data-ref="dlmopen_args" data-ref-filename="dlmopen_args">dlmopen_args</a> <dfn class="local col4 decl" id="94dlmargs" title='dlmargs' data-type='struct dlmopen_args' data-ref="94dlmargs" data-ref-filename="94dlmargs">dlmargs</dfn>;</td></tr>
<tr><th id="924">924</th><td>  <a class="local col4 ref" href="#94dlmargs" title='dlmargs' data-ref="94dlmargs" data-ref-filename="94dlmargs">dlmargs</a>.<a class="tu ref field" href="#dlmopen_args::fname" title='dlmopen_args::fname' data-use='w' data-ref="dlmopen_args::fname" data-ref-filename="dlmopen_args..fname">fname</a> = <a class="local col1 ref" href="#91name" title='name' data-ref="91name" data-ref-filename="91name">name</a>;</td></tr>
<tr><th id="925">925</th><td>  <a class="local col4 ref" href="#94dlmargs" title='dlmargs' data-ref="94dlmargs" data-ref-filename="94dlmargs">dlmargs</a>.<a class="tu ref field" href="#dlmopen_args::map" title='dlmopen_args::map' data-use='w' data-ref="dlmopen_args::map" data-ref-filename="dlmopen_args..map">map</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="926">926</th><td></td></tr>
<tr><th id="927">927</th><td>  <em>const</em> <em>char</em> *<dfn class="local col5 decl" id="95objname" title='objname' data-type='const char *' data-ref="95objname" data-ref-filename="95objname">objname</dfn>;</td></tr>
<tr><th id="928">928</th><td>  <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="96err_str" title='err_str' data-type='const char *' data-ref="96err_str" data-ref-filename="96err_str">err_str</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="929">929</th><td>  <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col7 decl" id="97malloced" title='malloced' data-type='_Bool' data-ref="97malloced" data-ref-filename="97malloced">malloced</dfn>;</td></tr>
<tr><th id="930">930</th><td>  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_catch_error" title='_dl_catch_error' data-ref="_dl_catch_error" data-ref-filename="_dl_catch_error">_dl_catch_error</a> (&amp;<a class="local col5 ref" href="#95objname" title='objname' data-ref="95objname" data-ref-filename="95objname">objname</a>, &amp;<a class="local col6 ref" href="#96err_str" title='err_str' data-ref="96err_str" data-ref-filename="96err_str">err_str</a>, &amp;<a class="local col7 ref" href="#97malloced" title='malloced' data-ref="97malloced" data-ref-filename="97malloced">malloced</a>, <a class="tu ref fn" href="#dlmopen_doit" title='dlmopen_doit' data-use='r' data-ref="dlmopen_doit" data-ref-filename="dlmopen_doit">dlmopen_doit</a>, &amp;<a class="local col4 ref" href="#94dlmargs" title='dlmargs' data-ref="94dlmargs" data-ref-filename="94dlmargs">dlmargs</a>);</td></tr>
<tr><th id="931">931</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((err_str != ((void*)0)), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="local col6 ref" href="#96err_str" title='err_str' data-ref="96err_str" data-ref-filename="96err_str">err_str</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>))</td></tr>
<tr><th id="932">932</th><td>    {</td></tr>
<tr><th id="933">933</th><td>      <a class="tu ref fn" href="#report_audit_module_load_error" title='report_audit_module_load_error' data-use='c' data-ref="report_audit_module_load_error" data-ref-filename="report_audit_module_load_error">report_audit_module_load_error</a> (<a class="local col1 ref" href="#91name" title='name' data-ref="91name" data-ref-filename="91name">name</a>, <a class="local col6 ref" href="#96err_str" title='err_str' data-ref="96err_str" data-ref-filename="96err_str">err_str</a>, <a class="local col7 ref" href="#97malloced" title='malloced' data-ref="97malloced" data-ref-filename="97malloced">malloced</a>);</td></tr>
<tr><th id="934">934</th><td>      <b>return</b>;</td></tr>
<tr><th id="935">935</th><td>    }</td></tr>
<tr><th id="936">936</th><td></td></tr>
<tr><th id="937">937</th><td>  <b>struct</b> <a class="type" href="#lookup_args" title='lookup_args' data-ref="lookup_args" data-ref-filename="lookup_args">lookup_args</a> <dfn class="local col8 decl" id="98largs" title='largs' data-type='struct lookup_args' data-ref="98largs" data-ref-filename="98largs">largs</dfn>;</td></tr>
<tr><th id="938">938</th><td>  <a class="local col8 ref" href="#98largs" title='largs' data-ref="98largs" data-ref-filename="98largs">largs</a>.<a class="tu ref field" href="#lookup_args::name" title='lookup_args::name' data-use='w' data-ref="lookup_args::name" data-ref-filename="lookup_args..name">name</a> = <q>"la_version"</q>;</td></tr>
<tr><th id="939">939</th><td>  <a class="local col8 ref" href="#98largs" title='largs' data-ref="98largs" data-ref-filename="98largs">largs</a>.<a class="tu ref field" href="#lookup_args::map" title='lookup_args::map' data-use='w' data-ref="lookup_args::map" data-ref-filename="lookup_args..map">map</a> = <a class="local col4 ref" href="#94dlmargs" title='dlmargs' data-ref="94dlmargs" data-ref-filename="94dlmargs">dlmargs</a>.<a class="tu ref field" href="#dlmopen_args::map" title='dlmopen_args::map' data-use='r' data-ref="dlmopen_args::map" data-ref-filename="dlmopen_args..map">map</a>;</td></tr>
<tr><th id="940">940</th><td>  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_catch_error" title='_dl_catch_error' data-ref="_dl_catch_error" data-ref-filename="_dl_catch_error">_dl_catch_error</a> (&amp;<a class="local col5 ref" href="#95objname" title='objname' data-ref="95objname" data-ref-filename="95objname">objname</a>, &amp;<a class="local col6 ref" href="#96err_str" title='err_str' data-ref="96err_str" data-ref-filename="96err_str">err_str</a>, &amp;<a class="local col7 ref" href="#97malloced" title='malloced' data-ref="97malloced" data-ref-filename="97malloced">malloced</a>, <a class="tu ref fn" href="#lookup_doit" title='lookup_doit' data-use='r' data-ref="lookup_doit" data-ref-filename="lookup_doit">lookup_doit</a>, &amp;<a class="local col8 ref" href="#98largs" title='largs' data-ref="98largs" data-ref-filename="98largs">largs</a>);</td></tr>
<tr><th id="941">941</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#403" title="__builtin_expect ((err_str != ((void*)0)), 1)" data-ref="_M/__glibc_likely">__glibc_likely</a> (<a class="local col6 ref" href="#96err_str" title='err_str' data-ref="96err_str" data-ref-filename="96err_str">err_str</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>))</td></tr>
<tr><th id="942">942</th><td>    {</td></tr>
<tr><th id="943">943</th><td>      <a class="tu ref fn" href="#unload_audit_module" title='unload_audit_module' data-use='c' data-ref="unload_audit_module" data-ref-filename="unload_audit_module">unload_audit_module</a> (<a class="local col4 ref" href="#94dlmargs" title='dlmargs' data-ref="94dlmargs" data-ref-filename="94dlmargs">dlmargs</a>.<a class="tu ref field" href="#dlmopen_args::map" title='dlmopen_args::map' data-use='r' data-ref="dlmopen_args::map" data-ref-filename="dlmopen_args..map">map</a>, <a class="local col3 ref" href="#93original_tls_idx" title='original_tls_idx' data-ref="93original_tls_idx" data-ref-filename="93original_tls_idx">original_tls_idx</a>);</td></tr>
<tr><th id="944">944</th><td>      <a class="tu ref fn" href="#report_audit_module_load_error" title='report_audit_module_load_error' data-use='c' data-ref="report_audit_module_load_error" data-ref-filename="report_audit_module_load_error">report_audit_module_load_error</a> (<a class="local col1 ref" href="#91name" title='name' data-ref="91name" data-ref-filename="91name">name</a>, <a class="local col6 ref" href="#96err_str" title='err_str' data-ref="96err_str" data-ref-filename="96err_str">err_str</a>, <a class="local col7 ref" href="#97malloced" title='malloced' data-ref="97malloced" data-ref-filename="97malloced">malloced</a>);</td></tr>
<tr><th id="945">945</th><td>      <b>return</b>;</td></tr>
<tr><th id="946">946</th><td>    }</td></tr>
<tr><th id="947">947</th><td></td></tr>
<tr><th id="948">948</th><td>  <em>unsigned</em> <em>int</em> (*<dfn class="local col9 decl" id="99laversion" title='laversion' data-type='unsigned int (*)(unsigned int)' data-ref="99laversion" data-ref-filename="99laversion">laversion</dfn>) (<em>unsigned</em> <em>int</em>) = <a class="local col8 ref" href="#98largs" title='largs' data-ref="98largs" data-ref-filename="98largs">largs</a>.<a class="tu ref field" href="#lookup_args::result" title='lookup_args::result' data-use='r' data-ref="lookup_args::result" data-ref-filename="lookup_args..result">result</a>;</td></tr>
<tr><th id="949">949</th><td></td></tr>
<tr><th id="950">950</th><td> <i>/* A null symbol indicates that something is very wrong with the</i></td></tr>
<tr><th id="951">951</th><td><i>    loaded object because defined symbols are supposed to have a</i></td></tr>
<tr><th id="952">952</th><td><i>    valid, non-null address.  */</i></td></tr>
<tr><th id="953">953</th><td>  <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((laversion != ((void*)0)) ? 1 : 0), __extension__ ({ if (laversion != ((void*)0)) ; else __assert_fail (&quot;laversion != NULL&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 953, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="local col9 ref" href="#99laversion" title='laversion' data-ref="99laversion" data-ref-filename="99laversion">laversion</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="954">954</th><td></td></tr>
<tr><th id="955">955</th><td>  <em>unsigned</em> <em>int</em> <dfn class="local col0 decl" id="100lav" title='lav' data-type='unsigned int' data-ref="100lav" data-ref-filename="100lav">lav</dfn> = <a class="local col9 ref" href="#99laversion" title='laversion' data-ref="99laversion" data-ref-filename="99laversion">laversion</a> (<a class="macro" href="link.h.html#99" title="1" data-ref="_M/LAV_CURRENT">LAV_CURRENT</a>);</td></tr>
<tr><th id="956">956</th><td>  <b>if</b> (<a class="local col0 ref" href="#100lav" title='lav' data-ref="100lav" data-ref-filename="100lav">lav</a> == <var>0</var>)</td></tr>
<tr><th id="957">957</th><td>    {</td></tr>
<tr><th id="958">958</th><td>      <i>/* Only print an error message if debugging because this can</i></td></tr>
<tr><th id="959">959</th><td><i>	 happen deliberately.  */</i></td></tr>
<tr><th id="960">960</th><td>      <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_debug_mask" data-ref="_M/GLRO">GLRO</a>(dl_debug_mask) &amp; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#507" title="(1 &lt;&lt; 6)" data-ref="_M/DL_DEBUG_FILES">DL_DEBUG_FILES</a>)</td></tr>
<tr><th id="961">961</th><td>	<a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_debug_printf" title='_dl_debug_printf' data-ref="_dl_debug_printf" data-ref-filename="_dl_debug_printf">_dl_debug_printf</a> (<q>"\</q></td></tr>
<tr><th id="962">962</th><td><q>file=%s [%lu]; audit interface function la_version returned zero; ignored.\n"</q>,</td></tr>
<tr><th id="963">963</th><td>			  <a class="local col4 ref" href="#94dlmargs" title='dlmargs' data-ref="94dlmargs" data-ref-filename="94dlmargs">dlmargs</a>.<a class="tu ref field" href="#dlmopen_args::map" title='dlmopen_args::map' data-use='r' data-ref="dlmopen_args::map" data-ref-filename="dlmopen_args..map">map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_name" title='link_map::l_name' data-ref="link_map::l_name" data-ref-filename="link_map..l_name">l_name</a>, <a class="local col4 ref" href="#94dlmargs" title='dlmargs' data-ref="94dlmargs" data-ref-filename="94dlmargs">dlmargs</a>.<a class="tu ref field" href="#dlmopen_args::map" title='dlmopen_args::map' data-use='r' data-ref="dlmopen_args::map" data-ref-filename="dlmopen_args..map">map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_ns" title='link_map::l_ns' data-ref="link_map::l_ns" data-ref-filename="link_map..l_ns">l_ns</a>);</td></tr>
<tr><th id="964">964</th><td>      <a class="tu ref fn" href="#unload_audit_module" title='unload_audit_module' data-use='c' data-ref="unload_audit_module" data-ref-filename="unload_audit_module">unload_audit_module</a> (<a class="local col4 ref" href="#94dlmargs" title='dlmargs' data-ref="94dlmargs" data-ref-filename="94dlmargs">dlmargs</a>.<a class="tu ref field" href="#dlmopen_args::map" title='dlmopen_args::map' data-use='r' data-ref="dlmopen_args::map" data-ref-filename="dlmopen_args..map">map</a>, <a class="local col3 ref" href="#93original_tls_idx" title='original_tls_idx' data-ref="93original_tls_idx" data-ref-filename="93original_tls_idx">original_tls_idx</a>);</td></tr>
<tr><th id="965">965</th><td>      <b>return</b>;</td></tr>
<tr><th id="966">966</th><td>    }</td></tr>
<tr><th id="967">967</th><td></td></tr>
<tr><th id="968">968</th><td>  <b>if</b> (<a class="local col0 ref" href="#100lav" title='lav' data-ref="100lav" data-ref-filename="100lav">lav</a> &gt; <a class="macro" href="link.h.html#99" title="1" data-ref="_M/LAV_CURRENT">LAV_CURRENT</a>)</td></tr>
<tr><th id="969">969</th><td>    {</td></tr>
<tr><th id="970">970</th><td>      <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_debug_printf" title='_dl_debug_printf' data-ref="_dl_debug_printf" data-ref-filename="_dl_debug_printf">_dl_debug_printf</a> (<q>"\</q></td></tr>
<tr><th id="971">971</th><td><q>ERROR: audit interface '%s' requires version %d (maximum supported version %d); ignored.\n"</q>,</td></tr>
<tr><th id="972">972</th><td>			<a class="local col1 ref" href="#91name" title='name' data-ref="91name" data-ref-filename="91name">name</a>, <a class="local col0 ref" href="#100lav" title='lav' data-ref="100lav" data-ref-filename="100lav">lav</a>, <a class="macro" href="link.h.html#99" title="1" data-ref="_M/LAV_CURRENT">LAV_CURRENT</a>);</td></tr>
<tr><th id="973">973</th><td>      <a class="tu ref fn" href="#unload_audit_module" title='unload_audit_module' data-use='c' data-ref="unload_audit_module" data-ref-filename="unload_audit_module">unload_audit_module</a> (<a class="local col4 ref" href="#94dlmargs" title='dlmargs' data-ref="94dlmargs" data-ref-filename="94dlmargs">dlmargs</a>.<a class="tu ref field" href="#dlmopen_args::map" title='dlmopen_args::map' data-use='r' data-ref="dlmopen_args::map" data-ref-filename="dlmopen_args..map">map</a>, <a class="local col3 ref" href="#93original_tls_idx" title='original_tls_idx' data-ref="93original_tls_idx" data-ref-filename="93original_tls_idx">original_tls_idx</a>);</td></tr>
<tr><th id="974">974</th><td>      <b>return</b>;</td></tr>
<tr><th id="975">975</th><td>    }</td></tr>
<tr><th id="976">976</th><td></td></tr>
<tr><th id="977">977</th><td>  <b>enum</b> { <dfn class="local col1 enum" id="101naudit_ifaces" title='naudit_ifaces' data-type='8' data-ref="101naudit_ifaces" data-ref-filename="101naudit_ifaces">naudit_ifaces</dfn> = <var>8</var> };</td></tr>
<tr><th id="978">978</th><td>  <b>union</b></td></tr>
<tr><th id="979">979</th><td>  {</td></tr>
<tr><th id="980">980</th><td>    <b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces" title='audit_ifaces' data-ref="audit_ifaces" data-ref-filename="audit_ifaces">audit_ifaces</a> <dfn class="local col2 decl field" id="102ifaces" title='ifaces' data-type='struct audit_ifaces' data-ref="102ifaces" data-ref-filename="102ifaces">ifaces</dfn>;</td></tr>
<tr><th id="981">981</th><td>    <em>void</em> (*<dfn class="local col3 decl field" id="103fptr" title='fptr' data-type='void (*[8])(void)' data-ref="103fptr" data-ref-filename="103fptr">fptr</dfn>[<a class="local col1 enum" href="#101naudit_ifaces" title='naudit_ifaces' data-ref="101naudit_ifaces" data-ref-filename="101naudit_ifaces">naudit_ifaces</a>]) (<em>void</em>);</td></tr>
<tr><th id="982">982</th><td>  } *<dfn class="local col4 decl" id="104newp" title='newp' data-type='union (anonymous union at /home/fp/glibc/glibc_src/elf/rtld.c:978:3) *' data-ref="104newp" data-ref-filename="104newp">newp</dfn> = <a class="ref fn" href="../stdlib/stdlib.h.html#malloc" title='malloc' data-ref="malloc" data-ref-filename="malloc">malloc</a> (<b>sizeof</b> (*<a class="local col4 ref" href="#104newp" title='newp' data-ref="104newp" data-ref-filename="104newp">newp</a>));</td></tr>
<tr><th id="983">983</th><td>  <b>if</b> (<a class="local col4 ref" href="#104newp" title='newp' data-ref="104newp" data-ref-filename="104newp">newp</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="984">984</th><td>    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#760" title="do { _dl_dprintf (2, &quot;Out of memory while loading audit modules\n&quot;); exit_internal (127); } while (1)" data-ref="_M/_dl_fatal_printf">_dl_fatal_printf</a> (<q>"Out of memory while loading audit modules\n"</q>);</td></tr>
<tr><th id="985">985</th><td></td></tr>
<tr><th id="986">986</th><td>  <i>/* Names of the auditing interfaces.  All in one</i></td></tr>
<tr><th id="987">987</th><td><i>     long string.  */</i></td></tr>
<tr><th id="988">988</th><td>  <em>static</em> <em>const</em> <em>char</em> <dfn class="local col5 decl" id="105audit_iface_names" title='audit_iface_names' data-type='const char [118]' data-ref="105audit_iface_names" data-ref-filename="105audit_iface_names">audit_iface_names</dfn>[] =</td></tr>
<tr><th id="989">989</th><td>    <q>"la_activity\0"</q></td></tr>
<tr><th id="990">990</th><td>    <q>"la_objsearch\0"</q></td></tr>
<tr><th id="991">991</th><td>    <q>"la_objopen\0"</q></td></tr>
<tr><th id="992">992</th><td>    <q>"la_preinit\0"</q></td></tr>
<tr><th id="993">993</th><td><u>#<span data-ppcond="993">if</span> <a class="macro" href="../bits/elfclass.h.html#11" title="64" data-ref="_M/__ELF_NATIVE_CLASS">__ELF_NATIVE_CLASS</a> == 32</u></td></tr>
<tr><th id="994">994</th><td>    <q>"la_symbind32\0"</q></td></tr>
<tr><th id="995">995</th><td><u>#<span data-ppcond="993">elif</span> <a class="macro" href="../bits/elfclass.h.html#11" title="64" data-ref="_M/__ELF_NATIVE_CLASS">__ELF_NATIVE_CLASS</a> == 64</u></td></tr>
<tr><th id="996">996</th><td>    <q>"la_symbind64\0"</q></td></tr>
<tr><th id="997">997</th><td><u>#<span data-ppcond="993">else</span></u></td></tr>
<tr><th id="998">998</th><td><u># error "__ELF_NATIVE_CLASS must be defined"</u></td></tr>
<tr><th id="999">999</th><td><u>#<span data-ppcond="993">endif</span></u></td></tr>
<tr><th id="1000">1000</th><td><u>#define <dfn class="macro" id="_M/STRING" data-ref="_M/STRING">STRING</dfn>(s) __STRING (s)</u></td></tr>
<tr><th id="1001">1001</th><td>    <q>"la_"</q> <a class="macro" href="#1000" title="&quot;x86_64_gnu_pltenter&quot;" data-ref="_M/STRING">STRING</a> (<a class="macro" href="../sysdeps/x86_64/dl-machine.h.html#256" title="x86_64_gnu_pltenter" data-ref="_M/ARCH_LA_PLTENTER">ARCH_LA_PLTENTER</a>) <q>"\0"</q></td></tr>
<tr><th id="1002">1002</th><td>    <q>"la_"</q> <a class="macro" href="#1000" title="&quot;x86_64_gnu_pltexit&quot;" data-ref="_M/STRING">STRING</a> (<a class="macro" href="../sysdeps/x86_64/dl-machine.h.html#257" title="x86_64_gnu_pltexit" data-ref="_M/ARCH_LA_PLTEXIT">ARCH_LA_PLTEXIT</a>) <q>"\0"</q></td></tr>
<tr><th id="1003">1003</th><td>    <q>"la_objclose\0"</q>;</td></tr>
<tr><th id="1004">1004</th><td>  <em>unsigned</em> <em>int</em> <dfn class="local col6 decl" id="106cnt" title='cnt' data-type='unsigned int' data-ref="106cnt" data-ref-filename="106cnt">cnt</dfn> = <var>0</var>;</td></tr>
<tr><th id="1005">1005</th><td>  <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="107cp" title='cp' data-type='const char *' data-ref="107cp" data-ref-filename="107cp">cp</dfn> = <a class="local col5 ref" href="#105audit_iface_names" title='audit_iface_names' data-ref="105audit_iface_names" data-ref-filename="105audit_iface_names">audit_iface_names</a>;</td></tr>
<tr><th id="1006">1006</th><td>  <b>do</b></td></tr>
<tr><th id="1007">1007</th><td>    {</td></tr>
<tr><th id="1008">1008</th><td>      <a class="local col8 ref" href="#98largs" title='largs' data-ref="98largs" data-ref-filename="98largs">largs</a>.<a class="tu ref field" href="#lookup_args::name" title='lookup_args::name' data-use='w' data-ref="lookup_args::name" data-ref-filename="lookup_args..name">name</a> = <a class="local col7 ref" href="#107cp" title='cp' data-ref="107cp" data-ref-filename="107cp">cp</a>;</td></tr>
<tr><th id="1009">1009</th><td>      <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_catch_error" title='_dl_catch_error' data-ref="_dl_catch_error" data-ref-filename="_dl_catch_error">_dl_catch_error</a> (&amp;<a class="local col5 ref" href="#95objname" title='objname' data-ref="95objname" data-ref-filename="95objname">objname</a>, &amp;<a class="local col6 ref" href="#96err_str" title='err_str' data-ref="96err_str" data-ref-filename="96err_str">err_str</a>, &amp;<a class="local col7 ref" href="#97malloced" title='malloced' data-ref="97malloced" data-ref-filename="97malloced">malloced</a>, <a class="tu ref fn" href="#lookup_doit" title='lookup_doit' data-use='r' data-ref="lookup_doit" data-ref-filename="lookup_doit">lookup_doit</a>, &amp;<a class="local col8 ref" href="#98largs" title='largs' data-ref="98largs" data-ref-filename="98largs">largs</a>);</td></tr>
<tr><th id="1010">1010</th><td></td></tr>
<tr><th id="1011">1011</th><td>      <i>/* Store the pointer.  */</i></td></tr>
<tr><th id="1012">1012</th><td>      <b>if</b> (<a class="local col6 ref" href="#96err_str" title='err_str' data-ref="96err_str" data-ref-filename="96err_str">err_str</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp; <a class="local col8 ref" href="#98largs" title='largs' data-ref="98largs" data-ref-filename="98largs">largs</a>.<a class="tu ref field" href="#lookup_args::result" title='lookup_args::result' data-use='r' data-ref="lookup_args::result" data-ref-filename="lookup_args..result">result</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1013">1013</th><td>	<a class="local col4 ref" href="#104newp" title='newp' data-ref="104newp" data-ref-filename="104newp">newp</a>-&gt;<a class="local col3 ref field" href="#103fptr" title='fptr' data-ref="103fptr" data-ref-filename="103fptr">fptr</a>[<a class="local col6 ref" href="#106cnt" title='cnt' data-ref="106cnt" data-ref-filename="106cnt">cnt</a>] = <a class="local col8 ref" href="#98largs" title='largs' data-ref="98largs" data-ref-filename="98largs">largs</a>.<a class="tu ref field" href="#lookup_args::result" title='lookup_args::result' data-use='r' data-ref="lookup_args::result" data-ref-filename="lookup_args..result">result</a>;</td></tr>
<tr><th id="1014">1014</th><td>      <b>else</b></td></tr>
<tr><th id="1015">1015</th><td>	<a class="local col4 ref" href="#104newp" title='newp' data-ref="104newp" data-ref-filename="104newp">newp</a>-&gt;<a class="local col3 ref field" href="#103fptr" title='fptr' data-ref="103fptr" data-ref-filename="103fptr">fptr</a>[<a class="local col6 ref" href="#106cnt" title='cnt' data-ref="106cnt" data-ref-filename="106cnt">cnt</a>] = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1016">1016</th><td>      ++<a class="local col6 ref" href="#106cnt" title='cnt' data-ref="106cnt" data-ref-filename="106cnt">cnt</a>;</td></tr>
<tr><th id="1017">1017</th><td></td></tr>
<tr><th id="1018">1018</th><td>      <a class="local col7 ref" href="#107cp" title='cp' data-ref="107cp" data-ref-filename="107cp">cp</a> = <a class="ref fn" href="../string/string.h.html#rawmemchr" title='rawmemchr' data-ref="rawmemchr" data-ref-filename="rawmemchr">rawmemchr</a> (<a class="local col7 ref" href="#107cp" title='cp' data-ref="107cp" data-ref-filename="107cp">cp</a>, <kbd>'\0'</kbd>) + <var>1</var>;</td></tr>
<tr><th id="1019">1019</th><td>    }</td></tr>
<tr><th id="1020">1020</th><td>  <b>while</b> (*<a class="local col7 ref" href="#107cp" title='cp' data-ref="107cp" data-ref-filename="107cp">cp</a> != <kbd>'\0'</kbd>);</td></tr>
<tr><th id="1021">1021</th><td>  <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((cnt == naudit_ifaces) ? 1 : 0), __extension__ ({ if (cnt == naudit_ifaces) ; else __assert_fail (&quot;cnt == naudit_ifaces&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 1021, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="local col6 ref" href="#106cnt" title='cnt' data-ref="106cnt" data-ref-filename="106cnt">cnt</a> == <a class="local col1 enum" href="#101naudit_ifaces" title='naudit_ifaces' data-ref="101naudit_ifaces" data-ref-filename="101naudit_ifaces">naudit_ifaces</a>);</td></tr>
<tr><th id="1022">1022</th><td></td></tr>
<tr><th id="1023">1023</th><td>  <i>/* Now append the new auditing interface to the list.  */</i></td></tr>
<tr><th id="1024">1024</th><td>  <a class="local col4 ref" href="#104newp" title='newp' data-ref="104newp" data-ref-filename="104newp">newp</a>-&gt;<a class="local col2 ref field" href="#102ifaces" title='ifaces' data-ref="102ifaces" data-ref-filename="102ifaces">ifaces</a>.<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces::next" title='audit_ifaces::next' data-ref="audit_ifaces::next" data-ref-filename="audit_ifaces..next">next</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1025">1025</th><td>  <b>if</b> (*<a class="local col2 ref" href="#92last_audit" title='last_audit' data-ref="92last_audit" data-ref-filename="92last_audit">last_audit</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1026">1026</th><td>    *<a class="local col2 ref" href="#92last_audit" title='last_audit' data-ref="92last_audit" data-ref-filename="92last_audit">last_audit</a> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_audit" data-ref="_M/GLRO">GLRO</a>(dl_audit) = &amp;<a class="local col4 ref" href="#104newp" title='newp' data-ref="104newp" data-ref-filename="104newp">newp</a>-&gt;<a class="local col2 ref field" href="#102ifaces" title='ifaces' data-ref="102ifaces" data-ref-filename="102ifaces">ifaces</a>;</td></tr>
<tr><th id="1027">1027</th><td>  <b>else</b></td></tr>
<tr><th id="1028">1028</th><td>    *<a class="local col2 ref" href="#92last_audit" title='last_audit' data-ref="92last_audit" data-ref-filename="92last_audit">last_audit</a> = (*<a class="local col2 ref" href="#92last_audit" title='last_audit' data-ref="92last_audit" data-ref-filename="92last_audit">last_audit</a>)-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces::next" title='audit_ifaces::next' data-ref="audit_ifaces::next" data-ref-filename="audit_ifaces..next">next</a> = &amp;<a class="local col4 ref" href="#104newp" title='newp' data-ref="104newp" data-ref-filename="104newp">newp</a>-&gt;<a class="local col2 ref field" href="#102ifaces" title='ifaces' data-ref="102ifaces" data-ref-filename="102ifaces">ifaces</a>;</td></tr>
<tr><th id="1029">1029</th><td></td></tr>
<tr><th id="1030">1030</th><td>  <i>/* The dynamic linker link map is statically allocated, so the</i></td></tr>
<tr><th id="1031">1031</th><td><i>     cookie in _dl_new_object has not happened.  */</i></td></tr>
<tr><th id="1032">1032</th><td>  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#link_map_audit_state" title='link_map_audit_state' data-ref="link_map_audit_state" data-ref-filename="link_map_audit_state">link_map_audit_state</a> (&amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a> (dl_rtld_map), <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_naudit" data-ref="_M/GLRO">GLRO</a> (dl_naudit))-&gt;<a class="ref field" href="../include/link.h.html#auditstate::cookie" title='auditstate::cookie' data-ref="auditstate::cookie" data-ref-filename="auditstate..cookie">cookie</a></td></tr>
<tr><th id="1033">1033</th><td>    = (<a class="typedef" href="../stdlib/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a>) &amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a> (dl_rtld_map);</td></tr>
<tr><th id="1034">1034</th><td></td></tr>
<tr><th id="1035">1035</th><td>  ++<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_naudit" data-ref="_M/GLRO">GLRO</a>(dl_naudit);</td></tr>
<tr><th id="1036">1036</th><td></td></tr>
<tr><th id="1037">1037</th><td>  <i>/* Mark the DSO as being used for auditing.  */</i></td></tr>
<tr><th id="1038">1038</th><td>  <a class="local col4 ref" href="#94dlmargs" title='dlmargs' data-ref="94dlmargs" data-ref-filename="94dlmargs">dlmargs</a>.<a class="tu ref field" href="#dlmopen_args::map" title='dlmopen_args::map' data-use='r' data-ref="dlmopen_args::map" data-ref-filename="dlmopen_args..map">map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_auditing" title='link_map::l_auditing' data-ref="link_map::l_auditing" data-ref-filename="link_map..l_auditing">l_auditing</a> = <var>1</var>;</td></tr>
<tr><th id="1039">1039</th><td>}</td></tr>
<tr><th id="1040">1040</th><td></td></tr>
<tr><th id="1041">1041</th><td><i  data-doc="notify_audit_modules_of_loaded_object">/* Notify the the audit modules that the object MAP has already been</i></td></tr>
<tr><th id="1042">1042</th><td><i  data-doc="notify_audit_modules_of_loaded_object">   loaded.  */</i></td></tr>
<tr><th id="1043">1043</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1044">1044</th><td><dfn class="tu decl def fn" id="notify_audit_modules_of_loaded_object" title='notify_audit_modules_of_loaded_object' data-type='void notify_audit_modules_of_loaded_object(struct link_map * map)' data-ref="notify_audit_modules_of_loaded_object" data-ref-filename="notify_audit_modules_of_loaded_object">notify_audit_modules_of_loaded_object</dfn> (<b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col8 decl" id="108map" title='map' data-type='struct link_map *' data-ref="108map" data-ref-filename="108map">map</dfn>)</td></tr>
<tr><th id="1045">1045</th><td>{</td></tr>
<tr><th id="1046">1046</th><td>  <b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces" title='audit_ifaces' data-ref="audit_ifaces" data-ref-filename="audit_ifaces">audit_ifaces</a> *<dfn class="local col9 decl" id="109afct" title='afct' data-type='struct audit_ifaces *' data-ref="109afct" data-ref-filename="109afct">afct</dfn> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_audit" data-ref="_M/GLRO">GLRO</a>(dl_audit);</td></tr>
<tr><th id="1047">1047</th><td>  <b>for</b> (<em>unsigned</em> <em>int</em> <dfn class="local col0 decl" id="110cnt" title='cnt' data-type='unsigned int' data-ref="110cnt" data-ref-filename="110cnt">cnt</dfn> = <var>0</var>; <a class="local col0 ref" href="#110cnt" title='cnt' data-ref="110cnt" data-ref-filename="110cnt">cnt</a> &lt; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_naudit" data-ref="_M/GLRO">GLRO</a>(dl_naudit); ++<a class="local col0 ref" href="#110cnt" title='cnt' data-ref="110cnt" data-ref-filename="110cnt">cnt</a>)</td></tr>
<tr><th id="1048">1048</th><td>    {</td></tr>
<tr><th id="1049">1049</th><td>      <b>if</b> (<a class="local col9 ref" href="#109afct" title='afct' data-ref="109afct" data-ref-filename="109afct">afct</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces::objopen" title='audit_ifaces::objopen' data-ref="audit_ifaces::objopen" data-ref-filename="audit_ifaces..objopen">objopen</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1050">1050</th><td>	{</td></tr>
<tr><th id="1051">1051</th><td>	  <b>struct</b> <a class="type" href="../include/link.h.html#auditstate" title='auditstate' data-ref="auditstate" data-ref-filename="auditstate">auditstate</a> *<dfn class="local col1 decl" id="111state" title='state' data-type='struct auditstate *' data-ref="111state" data-ref-filename="111state">state</dfn> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#link_map_audit_state" title='link_map_audit_state' data-ref="link_map_audit_state" data-ref-filename="link_map_audit_state">link_map_audit_state</a> (<a class="local col8 ref" href="#108map" title='map' data-ref="108map" data-ref-filename="108map">map</a>, <a class="local col0 ref" href="#110cnt" title='cnt' data-ref="110cnt" data-ref-filename="110cnt">cnt</a>);</td></tr>
<tr><th id="1052">1052</th><td>	  <a class="local col1 ref" href="#111state" title='state' data-ref="111state" data-ref-filename="111state">state</a>-&gt;<a class="ref field" href="../include/link.h.html#auditstate::bindflags" title='auditstate::bindflags' data-ref="auditstate::bindflags" data-ref-filename="auditstate..bindflags">bindflags</a> = <a class="local col9 ref" href="#109afct" title='afct' data-ref="109afct" data-ref-filename="109afct">afct</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces::objopen" title='audit_ifaces::objopen' data-ref="audit_ifaces::objopen" data-ref-filename="audit_ifaces..objopen">objopen</a> (<a class="local col8 ref" href="#108map" title='map' data-ref="108map" data-ref-filename="108map">map</a>, <a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>, &amp;<a class="local col1 ref" href="#111state" title='state' data-ref="111state" data-ref-filename="111state">state</a>-&gt;<a class="ref field" href="../include/link.h.html#auditstate::cookie" title='auditstate::cookie' data-ref="auditstate::cookie" data-ref-filename="auditstate..cookie">cookie</a>);</td></tr>
<tr><th id="1053">1053</th><td>	  <a class="local col8 ref" href="#108map" title='map' data-ref="108map" data-ref-filename="108map">map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_audit_any_plt" title='link_map::l_audit_any_plt' data-ref="link_map::l_audit_any_plt" data-ref-filename="link_map..l_audit_any_plt">l_audit_any_plt</a> |= <a class="local col1 ref" href="#111state" title='state' data-ref="111state" data-ref-filename="111state">state</a>-&gt;<a class="ref field" href="../include/link.h.html#auditstate::bindflags" title='auditstate::bindflags' data-ref="auditstate::bindflags" data-ref-filename="auditstate..bindflags">bindflags</a> != <var>0</var>;</td></tr>
<tr><th id="1054">1054</th><td>	}</td></tr>
<tr><th id="1055">1055</th><td></td></tr>
<tr><th id="1056">1056</th><td>      <a class="local col9 ref" href="#109afct" title='afct' data-ref="109afct" data-ref-filename="109afct">afct</a> = <a class="local col9 ref" href="#109afct" title='afct' data-ref="109afct" data-ref-filename="109afct">afct</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces::next" title='audit_ifaces::next' data-ref="audit_ifaces::next" data-ref-filename="audit_ifaces..next">next</a>;</td></tr>
<tr><th id="1057">1057</th><td>    }</td></tr>
<tr><th id="1058">1058</th><td>}</td></tr>
<tr><th id="1059">1059</th><td></td></tr>
<tr><th id="1060">1060</th><td><i  data-doc="load_audit_modules">/* Load all audit modules.  */</i></td></tr>
<tr><th id="1061">1061</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1062">1062</th><td><dfn class="tu decl def fn" id="load_audit_modules" title='load_audit_modules' data-type='void load_audit_modules(struct link_map * main_map)' data-ref="load_audit_modules" data-ref-filename="load_audit_modules">load_audit_modules</dfn> (<b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col2 decl" id="112main_map" title='main_map' data-type='struct link_map *' data-ref="112main_map" data-ref-filename="112main_map">main_map</dfn>)</td></tr>
<tr><th id="1063">1063</th><td>{</td></tr>
<tr><th id="1064">1064</th><td>  <b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces" title='audit_ifaces' data-ref="audit_ifaces" data-ref-filename="audit_ifaces">audit_ifaces</a> *<dfn class="local col3 decl" id="113last_audit" title='last_audit' data-type='struct audit_ifaces *' data-ref="113last_audit" data-ref-filename="113last_audit">last_audit</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1065">1065</th><td>  <b>struct</b> <a class="type" href="#audit_list_iter" title='audit_list_iter' data-ref="audit_list_iter" data-ref-filename="audit_list_iter">audit_list_iter</a> <dfn class="local col4 decl" id="114al_iter" title='al_iter' data-type='struct audit_list_iter' data-ref="114al_iter" data-ref-filename="114al_iter">al_iter</dfn>;</td></tr>
<tr><th id="1066">1066</th><td>  <a class="tu ref fn" href="#audit_list_iter_init" title='audit_list_iter_init' data-use='c' data-ref="audit_list_iter_init" data-ref-filename="audit_list_iter_init">audit_list_iter_init</a> (&amp;<a class="local col4 ref" href="#114al_iter" title='al_iter' data-ref="114al_iter" data-ref-filename="114al_iter">al_iter</a>);</td></tr>
<tr><th id="1067">1067</th><td></td></tr>
<tr><th id="1068">1068</th><td>  <b>while</b> (<span class="macro" title="1" data-ref="_M/true">true</span>)</td></tr>
<tr><th id="1069">1069</th><td>    {</td></tr>
<tr><th id="1070">1070</th><td>      <em>const</em> <em>char</em> *<dfn class="local col5 decl" id="115name" title='name' data-type='const char *' data-ref="115name" data-ref-filename="115name">name</dfn> = <a class="tu ref fn" href="#audit_list_iter_next" title='audit_list_iter_next' data-use='c' data-ref="audit_list_iter_next" data-ref-filename="audit_list_iter_next">audit_list_iter_next</a> (&amp;<a class="local col4 ref" href="#114al_iter" title='al_iter' data-ref="114al_iter" data-ref-filename="114al_iter">al_iter</a>);</td></tr>
<tr><th id="1071">1071</th><td>      <b>if</b> (<a class="local col5 ref" href="#115name" title='name' data-ref="115name" data-ref-filename="115name">name</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1072">1072</th><td>	<b>break</b>;</td></tr>
<tr><th id="1073">1073</th><td>      <a class="tu ref fn" href="#load_audit_module" title='load_audit_module' data-use='c' data-ref="load_audit_module" data-ref-filename="load_audit_module">load_audit_module</a> (<a class="local col5 ref" href="#115name" title='name' data-ref="115name" data-ref-filename="115name">name</a>, &amp;<a class="local col3 ref" href="#113last_audit" title='last_audit' data-ref="113last_audit" data-ref-filename="113last_audit">last_audit</a>);</td></tr>
<tr><th id="1074">1074</th><td>    }</td></tr>
<tr><th id="1075">1075</th><td></td></tr>
<tr><th id="1076">1076</th><td>  <i>/* Notify audit modules of the initially loaded modules (the main</i></td></tr>
<tr><th id="1077">1077</th><td><i>     program and the dynamic linker itself).  */</i></td></tr>
<tr><th id="1078">1078</th><td>  <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_naudit" data-ref="_M/GLRO">GLRO</a>(dl_naudit) &gt; <var>0</var>)</td></tr>
<tr><th id="1079">1079</th><td>    {</td></tr>
<tr><th id="1080">1080</th><td>      <a class="tu ref fn" href="#notify_audit_modules_of_loaded_object" title='notify_audit_modules_of_loaded_object' data-use='c' data-ref="notify_audit_modules_of_loaded_object" data-ref-filename="notify_audit_modules_of_loaded_object">notify_audit_modules_of_loaded_object</a> (<a class="local col2 ref" href="#112main_map" title='main_map' data-ref="112main_map" data-ref-filename="112main_map">main_map</a>);</td></tr>
<tr><th id="1081">1081</th><td>      <a class="tu ref fn" href="#notify_audit_modules_of_loaded_object" title='notify_audit_modules_of_loaded_object' data-use='c' data-ref="notify_audit_modules_of_loaded_object" data-ref-filename="notify_audit_modules_of_loaded_object">notify_audit_modules_of_loaded_object</a> (&amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map));</td></tr>
<tr><th id="1082">1082</th><td>    }</td></tr>
<tr><th id="1083">1083</th><td>}</td></tr>
<tr><th id="1084">1084</th><td></td></tr>
<tr><th id="1085">1085</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1086">1086</th><td><dfn class="tu decl def fn" id="dl_main" title='dl_main' data-type='void dl_main(const Elf64_Phdr * phdr, Elf64_Word phnum, Elf64_Addr * user_entry, Elf64_auxv_t * auxv)' data-ref="dl_main" data-ref-filename="dl_main">dl_main</dfn> (<em>const</em> <a class="macro" href="link.h.html#30" title="Elf64_Phdr" data-ref="_M/ElfW">ElfW</a>(Phdr) *<dfn class="local col6 decl" id="116phdr" title='phdr' data-type='const Elf64_Phdr *' data-ref="116phdr" data-ref-filename="116phdr">phdr</dfn>,</td></tr>
<tr><th id="1087">1087</th><td>	 <a class="macro" href="link.h.html#30" title="Elf64_Word" data-ref="_M/ElfW">ElfW</a>(Word) <dfn class="local col7 decl" id="117phnum" title='phnum' data-type='Elf64_Word' data-ref="117phnum" data-ref-filename="117phnum">phnum</dfn>,</td></tr>
<tr><th id="1088">1088</th><td>	 <a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr) *<dfn class="local col8 decl" id="118user_entry" title='user_entry' data-type='Elf64_Addr *' data-ref="118user_entry" data-ref-filename="118user_entry">user_entry</dfn>,</td></tr>
<tr><th id="1089">1089</th><td>	 <a class="macro" href="link.h.html#30" title="Elf64_auxv_t" data-ref="_M/ElfW">ElfW</a>(auxv_t) *<dfn class="local col9 decl" id="119auxv" title='auxv' data-type='Elf64_auxv_t *' data-ref="119auxv" data-ref-filename="119auxv">auxv</dfn>)</td></tr>
<tr><th id="1090">1090</th><td>{</td></tr>
<tr><th id="1091">1091</th><td>  <em>const</em> <a class="macro" href="link.h.html#30" title="Elf64_Phdr" data-ref="_M/ElfW">ElfW</a>(Phdr) *<dfn class="local col0 decl" id="120ph" title='ph' data-type='const Elf64_Phdr *' data-ref="120ph" data-ref-filename="120ph">ph</dfn>;</td></tr>
<tr><th id="1092">1092</th><td>  <b>enum</b> <a class="type" href="#mode" title='mode' data-ref="mode" data-ref-filename="mode">mode</a> <dfn class="local col1 decl" id="121mode" title='mode' data-type='enum mode' data-ref="121mode" data-ref-filename="121mode">mode</dfn>;</td></tr>
<tr><th id="1093">1093</th><td>  <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col2 decl" id="122main_map" title='main_map' data-type='struct link_map *' data-ref="122main_map" data-ref-filename="122main_map">main_map</dfn>;</td></tr>
<tr><th id="1094">1094</th><td>  <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col3 decl" id="123file_size" title='file_size' data-type='size_t' data-ref="123file_size" data-ref-filename="123file_size">file_size</dfn>;</td></tr>
<tr><th id="1095">1095</th><td>  <em>char</em> *<dfn class="local col4 decl" id="124file" title='file' data-type='char *' data-ref="124file" data-ref-filename="124file">file</dfn>;</td></tr>
<tr><th id="1096">1096</th><td>  <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col5 decl" id="125has_interp" title='has_interp' data-type='_Bool' data-ref="125has_interp" data-ref-filename="125has_interp">has_interp</dfn> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1097">1097</th><td>  <em>unsigned</em> <em>int</em> <dfn class="local col6 decl" id="126i" title='i' data-type='unsigned int' data-ref="126i" data-ref-filename="126i">i</dfn>;</td></tr>
<tr><th id="1098">1098</th><td>  <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col7 decl" id="127prelinked" title='prelinked' data-type='_Bool' data-ref="127prelinked" data-ref-filename="127prelinked">prelinked</dfn> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1099">1099</th><td>  <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col8 decl" id="128rtld_is_main" title='rtld_is_main' data-type='_Bool' data-ref="128rtld_is_main" data-ref-filename="128rtld_is_main">rtld_is_main</dfn> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1100">1100</th><td>  <em>void</em> *<dfn class="local col9 decl" id="129tcbp" title='tcbp' data-type='void *' data-ref="129tcbp" data-ref-filename="129tcbp">tcbp</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1101">1101</th><td></td></tr>
<tr><th id="1102">1102</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_init_static_tls" data-ref="_M/GL">GL</a>(dl_init_static_tls) = &amp;<a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_nothread_init_static_tls" title='_dl_nothread_init_static_tls' data-ref="_dl_nothread_init_static_tls" data-ref-filename="_dl_nothread_init_static_tls">_dl_nothread_init_static_tls</a>;</td></tr>
<tr><th id="1103">1103</th><td></td></tr>
<tr><th id="1104">1104</th><td><u>#<span data-ppcond="1104">if</span> defined <span class="macro" data-ref="_M/SHARED">SHARED</span> &amp;&amp; defined <span class="macro" data-ref="_M/_LIBC_REENTRANT">_LIBC_REENTRANT</span> \</u></td></tr>
<tr><th id="1105">1105</th><td><u>    &amp;&amp; defined <a class="macro" href="../sysdeps/nptl/libc-lockP.h.html#209" data-ref="_M/__rtld_lock_default_lock_recursive">__rtld_lock_default_lock_recursive</a></u></td></tr>
<tr><th id="1106">1106</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_lock_recursive" data-ref="_M/GL">GL</a>(dl_rtld_lock_recursive) = <a class="tu ref fn" href="#rtld_lock_default_lock_recursive" title='rtld_lock_default_lock_recursive' data-use='r' data-ref="rtld_lock_default_lock_recursive" data-ref-filename="rtld_lock_default_lock_recursive">rtld_lock_default_lock_recursive</a>;</td></tr>
<tr><th id="1107">1107</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_unlock_recursive" data-ref="_M/GL">GL</a>(dl_rtld_unlock_recursive) = <a class="tu ref fn" href="#rtld_lock_default_unlock_recursive" title='rtld_lock_default_unlock_recursive' data-use='r' data-ref="rtld_lock_default_unlock_recursive" data-ref-filename="rtld_lock_default_unlock_recursive">rtld_lock_default_unlock_recursive</a>;</td></tr>
<tr><th id="1108">1108</th><td><u>#<span data-ppcond="1104">endif</span></u></td></tr>
<tr><th id="1109">1109</th><td></td></tr>
<tr><th id="1110">1110</th><td>  <i>/* The explicit initialization here is cheaper than processing the reloc</i></td></tr>
<tr><th id="1111">1111</th><td><i>     in the _rtld_local definition's initializer.  */</i></td></tr>
<tr><th id="1112">1112</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_make_stack_executable_hook" data-ref="_M/GL">GL</a>(dl_make_stack_executable_hook) = &amp;<a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#__GI__dl_make_stack_executable" title='_dl_make_stack_executable' data-ref="__GI__dl_make_stack_executable" data-ref-filename="__GI__dl_make_stack_executable">_dl_make_stack_executable</a>;</td></tr>
<tr><th id="1113">1113</th><td></td></tr>
<tr><th id="1114">1114</th><td>  <i>/* Process the environment variable which control the behaviour.  */</i></td></tr>
<tr><th id="1115">1115</th><td>  <a class="tu ref fn" href="#process_envvars" title='process_envvars' data-use='c' data-ref="process_envvars" data-ref-filename="process_envvars">process_envvars</a> (&amp;<a class="local col1 ref" href="#121mode" title='mode' data-ref="121mode" data-ref-filename="121mode">mode</a>);</td></tr>
<tr><th id="1116">1116</th><td></td></tr>
<tr><th id="1117">1117</th><td><u>#<span data-ppcond="1117">ifndef</span> <span class="macro" data-ref="_M/HAVE_INLINED_SYSCALLS">HAVE_INLINED_SYSCALLS</span></u></td></tr>
<tr><th id="1118">1118</th><td>  <i>/* Set up a flag which tells we are just starting.  */</i></td></tr>
<tr><th id="1119">1119</th><td>  _dl_starting_up = <var>1</var>;</td></tr>
<tr><th id="1120">1120</th><td><u>#<span data-ppcond="1117">endif</span></u></td></tr>
<tr><th id="1121">1121</th><td></td></tr>
<tr><th id="1122">1122</th><td>  <b>if</b> (*<a class="local col8 ref" href="#118user_entry" title='user_entry' data-ref="118user_entry" data-ref-filename="118user_entry">user_entry</a> == (<a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr)) <a class="macro" href="../sysdeps/generic/entry.h.html#5" title="_start" data-ref="_M/ENTRY_POINT">ENTRY_POINT</a>)</td></tr>
<tr><th id="1123">1123</th><td>    {</td></tr>
<tr><th id="1124">1124</th><td>      <i>/* Ho ho.  We are not the program interpreter!  We are the program</i></td></tr>
<tr><th id="1125">1125</th><td><i>	 itself!  This means someone ran ld.so as a command.  Well, that</i></td></tr>
<tr><th id="1126">1126</th><td><i>	 might be convenient to do sometimes.  We support it by</i></td></tr>
<tr><th id="1127">1127</th><td><i>	 interpreting the args like this:</i></td></tr>
<tr><th id="1128">1128</th><td><i></i></td></tr>
<tr><th id="1129">1129</th><td><i>	 ld.so PROGRAM ARGS...</i></td></tr>
<tr><th id="1130">1130</th><td><i></i></td></tr>
<tr><th id="1131">1131</th><td><i>	 The first argument is the name of a file containing an ELF</i></td></tr>
<tr><th id="1132">1132</th><td><i>	 executable we will load and run with the following arguments.</i></td></tr>
<tr><th id="1133">1133</th><td><i>	 To simplify life here, PROGRAM is searched for using the</i></td></tr>
<tr><th id="1134">1134</th><td><i>	 normal rules for shared objects, rather than $PATH or anything</i></td></tr>
<tr><th id="1135">1135</th><td><i>	 like that.  We just load it and use its entry point; we don't</i></td></tr>
<tr><th id="1136">1136</th><td><i>	 pay attention to its PT_INTERP command (we are the interpreter</i></td></tr>
<tr><th id="1137">1137</th><td><i>	 ourselves).  This is an easy way to test a new ld.so before</i></td></tr>
<tr><th id="1138">1138</th><td><i>	 installing it.  */</i></td></tr>
<tr><th id="1139">1139</th><td>      <a class="local col8 ref" href="#128rtld_is_main" title='rtld_is_main' data-ref="128rtld_is_main" data-ref-filename="128rtld_is_main">rtld_is_main</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="1140">1140</th><td></td></tr>
<tr><th id="1141">1141</th><td>      <i>/* Note the place where the dynamic linker actually came from.  */</i></td></tr>
<tr><th id="1142">1142</th><td>      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_name" title='link_map::l_name' data-ref="link_map::l_name" data-ref-filename="link_map..l_name">l_name</a> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#708" title="_dl_argv[0]" data-ref="_M/rtld_progname">rtld_progname</a>;</td></tr>
<tr><th id="1143">1143</th><td></td></tr>
<tr><th id="1144">1144</th><td>      <b>while</b> (<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a> &gt; <var>1</var>)</td></tr>
<tr><th id="1145">1145</th><td>	<b>if</b> (! <a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<var>1</var>], <q>"--list"</q>))</td></tr>
<tr><th id="1146">1146</th><td>	  {</td></tr>
<tr><th id="1147">1147</th><td>	    <a class="local col1 ref" href="#121mode" title='mode' data-ref="121mode" data-ref-filename="121mode">mode</a> = <a class="enum" href="#list" title='list' data-ref="list" data-ref-filename="list">list</a>;</td></tr>
<tr><th id="1148">1148</th><td>	    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_lazy" data-ref="_M/GLRO">GLRO</a>(dl_lazy) = -<var>1</var>;	<i>/* This means do no dependency analysis.  */</i></td></tr>
<tr><th id="1149">1149</th><td></td></tr>
<tr><th id="1150">1150</th><td>	    ++<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_skip_args" title='_dl_skip_args' data-ref="_dl_skip_args" data-ref-filename="_dl_skip_args">_dl_skip_args</a>;</td></tr>
<tr><th id="1151">1151</th><td>	    --<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a>;</td></tr>
<tr><th id="1152">1152</th><td>	    ++<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>;</td></tr>
<tr><th id="1153">1153</th><td>	  }</td></tr>
<tr><th id="1154">1154</th><td>	<b>else</b> <b>if</b> (! <a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<var>1</var>], <q>"--verify"</q>))</td></tr>
<tr><th id="1155">1155</th><td>	  {</td></tr>
<tr><th id="1156">1156</th><td>	    <a class="local col1 ref" href="#121mode" title='mode' data-ref="121mode" data-ref-filename="121mode">mode</a> = <a class="enum" href="#verify" title='verify' data-ref="verify" data-ref-filename="verify">verify</a>;</td></tr>
<tr><th id="1157">1157</th><td></td></tr>
<tr><th id="1158">1158</th><td>	    ++<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_skip_args" title='_dl_skip_args' data-ref="_dl_skip_args" data-ref-filename="_dl_skip_args">_dl_skip_args</a>;</td></tr>
<tr><th id="1159">1159</th><td>	    --<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a>;</td></tr>
<tr><th id="1160">1160</th><td>	    ++<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>;</td></tr>
<tr><th id="1161">1161</th><td>	  }</td></tr>
<tr><th id="1162">1162</th><td>	<b>else</b> <b>if</b> (! <a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<var>1</var>], <q>"--inhibit-cache"</q>))</td></tr>
<tr><th id="1163">1163</th><td>	  {</td></tr>
<tr><th id="1164">1164</th><td>	    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_inhibit_cache" data-ref="_M/GLRO">GLRO</a>(dl_inhibit_cache) = <var>1</var>;</td></tr>
<tr><th id="1165">1165</th><td>	    ++<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_skip_args" title='_dl_skip_args' data-ref="_dl_skip_args" data-ref-filename="_dl_skip_args">_dl_skip_args</a>;</td></tr>
<tr><th id="1166">1166</th><td>	    --<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a>;</td></tr>
<tr><th id="1167">1167</th><td>	    ++<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>;</td></tr>
<tr><th id="1168">1168</th><td>	  }</td></tr>
<tr><th id="1169">1169</th><td>	<b>else</b> <b>if</b> (! <a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<var>1</var>], <q>"--library-path"</q>)</td></tr>
<tr><th id="1170">1170</th><td>		 &amp;&amp; <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a> &gt; <var>2</var>)</td></tr>
<tr><th id="1171">1171</th><td>	  {</td></tr>
<tr><th id="1172">1172</th><td>	    <a class="tu ref" href="#library_path" title='library_path' data-use='w' data-ref="library_path" data-ref-filename="library_path">library_path</a> = <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<var>2</var>];</td></tr>
<tr><th id="1173">1173</th><td></td></tr>
<tr><th id="1174">1174</th><td>	    <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_skip_args" title='_dl_skip_args' data-ref="_dl_skip_args" data-ref-filename="_dl_skip_args">_dl_skip_args</a> += <var>2</var>;</td></tr>
<tr><th id="1175">1175</th><td>	    <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a> -= <var>2</var>;</td></tr>
<tr><th id="1176">1176</th><td>	    <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a> += <var>2</var>;</td></tr>
<tr><th id="1177">1177</th><td>	  }</td></tr>
<tr><th id="1178">1178</th><td>	<b>else</b> <b>if</b> (! <a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<var>1</var>], <q>"--inhibit-rpath"</q>)</td></tr>
<tr><th id="1179">1179</th><td>		 &amp;&amp; <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a> &gt; <var>2</var>)</td></tr>
<tr><th id="1180">1180</th><td>	  {</td></tr>
<tr><th id="1181">1181</th><td>	    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_inhibit_rpath" data-ref="_M/GLRO">GLRO</a>(dl_inhibit_rpath) = <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<var>2</var>];</td></tr>
<tr><th id="1182">1182</th><td></td></tr>
<tr><th id="1183">1183</th><td>	    <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_skip_args" title='_dl_skip_args' data-ref="_dl_skip_args" data-ref-filename="_dl_skip_args">_dl_skip_args</a> += <var>2</var>;</td></tr>
<tr><th id="1184">1184</th><td>	    <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a> -= <var>2</var>;</td></tr>
<tr><th id="1185">1185</th><td>	    <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a> += <var>2</var>;</td></tr>
<tr><th id="1186">1186</th><td>	  }</td></tr>
<tr><th id="1187">1187</th><td>	<b>else</b> <b>if</b> (! <a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<var>1</var>], <q>"--audit"</q>) &amp;&amp; <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a> &gt; <var>2</var>)</td></tr>
<tr><th id="1188">1188</th><td>	  {</td></tr>
<tr><th id="1189">1189</th><td>	    <a class="tu ref fn" href="#process_dl_audit" title='process_dl_audit' data-use='c' data-ref="process_dl_audit" data-ref-filename="process_dl_audit">process_dl_audit</a> (<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<var>2</var>]);</td></tr>
<tr><th id="1190">1190</th><td></td></tr>
<tr><th id="1191">1191</th><td>	    <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_skip_args" title='_dl_skip_args' data-ref="_dl_skip_args" data-ref-filename="_dl_skip_args">_dl_skip_args</a> += <var>2</var>;</td></tr>
<tr><th id="1192">1192</th><td>	    <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a> -= <var>2</var>;</td></tr>
<tr><th id="1193">1193</th><td>	    <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a> += <var>2</var>;</td></tr>
<tr><th id="1194">1194</th><td>	  }</td></tr>
<tr><th id="1195">1195</th><td>	<b>else</b> <b>if</b> (! <a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<var>1</var>], <q>"--preload"</q>) &amp;&amp; <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a> &gt; <var>2</var>)</td></tr>
<tr><th id="1196">1196</th><td>	  {</td></tr>
<tr><th id="1197">1197</th><td>	    <a class="tu ref" href="#preloadarg" title='preloadarg' data-use='w' data-ref="preloadarg" data-ref-filename="preloadarg">preloadarg</a> = <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<var>2</var>];</td></tr>
<tr><th id="1198">1198</th><td>	    <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_skip_args" title='_dl_skip_args' data-ref="_dl_skip_args" data-ref-filename="_dl_skip_args">_dl_skip_args</a> += <var>2</var>;</td></tr>
<tr><th id="1199">1199</th><td>	    <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a> -= <var>2</var>;</td></tr>
<tr><th id="1200">1200</th><td>	    <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a> += <var>2</var>;</td></tr>
<tr><th id="1201">1201</th><td>	  }</td></tr>
<tr><th id="1202">1202</th><td>	<b>else</b></td></tr>
<tr><th id="1203">1203</th><td>	  <b>break</b>;</td></tr>
<tr><th id="1204">1204</th><td></td></tr>
<tr><th id="1205">1205</th><td>      <i>/* If we have no further argument the program was called incorrectly.</i></td></tr>
<tr><th id="1206">1206</th><td><i>	 Grant the user some education.  */</i></td></tr>
<tr><th id="1207">1207</th><td>      <b>if</b> (<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a> &lt; <var>2</var>)</td></tr>
<tr><th id="1208">1208</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#760" title="do { _dl_dprintf (2, &quot;Usage: ld.so [OPTION]... EXECUTABLE-FILE [ARGS-FOR-PROGRAM...]\nYou have invoked `ld.so&apos;, the helper program for shared library executables.\nThis program usually lives in the file `/lib/ld.so&apos;, and special directives\nin executable files using ELF shared libraries tell the system&apos;s program\nloader to load the helper program from this file.  This helper program loads\nthe shared libraries needed by the program executable, prepares the program\nto run, and runs it.  You may invoke this helper program directly from the\ncommand line to load and run an ELF executable file; this is like executing\nthat file itself, but always uses this helper program from the file you\nspecified, instead of the helper program file specified in the executable\nfile you run.  This is mostly of use for maintainers to test new versions\nof this helper program; chances are you did not intend to run this program.\n\n  --list                list all dependencies and how they are resolved\n  --verify              verify that given object really is a dynamically linked\n			object we can handle\n  --inhibit-cache       Do not use &quot; &quot;/etc&quot; &quot;/ld.so.cache&quot; &quot;\n  --library-path PATH   use given PATH instead of content of the environment\n			variable LD_LIBRARY_PATH\n  --inhibit-rpath LIST  ignore RUNPATH and RPATH information in object names\n			in LIST\n  --audit LIST          use objects named in LIST as auditors\n  --preload LIST        preload objects named in LIST\n&quot;); exit_internal (127); } while (1)" data-ref="_M/_dl_fatal_printf">_dl_fatal_printf</a> (<q>"\</q></td></tr>
<tr><th id="1209">1209</th><td><q>Usage: ld.so [OPTION]... EXECUTABLE-FILE [ARGS-FOR-PROGRAM...]\n\</q></td></tr>
<tr><th id="1210">1210</th><td><q>You have invoked `ld.so', the helper program for shared library executables.\n\</q></td></tr>
<tr><th id="1211">1211</th><td><q>This program usually lives in the file `/lib/ld.so', and special directives\n\</q></td></tr>
<tr><th id="1212">1212</th><td><q>in executable files using ELF shared libraries tell the system's program\n\</q></td></tr>
<tr><th id="1213">1213</th><td><q>loader to load the helper program from this file.  This helper program loads\n\</q></td></tr>
<tr><th id="1214">1214</th><td><q>the shared libraries needed by the program executable, prepares the program\n\</q></td></tr>
<tr><th id="1215">1215</th><td><q>to run, and runs it.  You may invoke this helper program directly from the\n\</q></td></tr>
<tr><th id="1216">1216</th><td><q>command line to load and run an ELF executable file; this is like executing\n\</q></td></tr>
<tr><th id="1217">1217</th><td><q>that file itself, but always uses this helper program from the file you\n\</q></td></tr>
<tr><th id="1218">1218</th><td><q>specified, instead of the helper program file specified in the executable\n\</q></td></tr>
<tr><th id="1219">1219</th><td><q>file you run.  This is mostly of use for maintainers to test new versions\n\</q></td></tr>
<tr><th id="1220">1220</th><td><q>of this helper program; chances are you did not intend to run this program.\n\</q></td></tr>
<tr><th id="1221">1221</th><td><q>\n\</q></td></tr>
<tr><th id="1222">1222</th><td><q>  --list                list all dependencies and how they are resolved\n\</q></td></tr>
<tr><th id="1223">1223</th><td><q>  --verify              verify that given object really is a dynamically linked\n\</q></td></tr>
<tr><th id="1224">1224</th><td><q>			object we can handle\n\</q></td></tr>
<tr><th id="1225">1225</th><td><q>  --inhibit-cache       Do not use "</q> <a class="macro" href="../sysdeps/generic/dl-cache.h.html#31" title="&quot;/etc&quot; &quot;/ld.so.cache&quot;" data-ref="_M/LD_SO_CACHE">LD_SO_CACHE</a> <q>"\n\</q></td></tr>
<tr><th id="1226">1226</th><td><q>  --library-path PATH   use given PATH instead of content of the environment\n\</q></td></tr>
<tr><th id="1227">1227</th><td><q>			variable LD_LIBRARY_PATH\n\</q></td></tr>
<tr><th id="1228">1228</th><td><q>  --inhibit-rpath LIST  ignore RUNPATH and RPATH information in object names\n\</q></td></tr>
<tr><th id="1229">1229</th><td><q>			in LIST\n\</q></td></tr>
<tr><th id="1230">1230</th><td><q>  --audit LIST          use objects named in LIST as auditors\n\</q></td></tr>
<tr><th id="1231">1231</th><td><q>  --preload LIST        preload objects named in LIST\n"</q>);</td></tr>
<tr><th id="1232">1232</th><td></td></tr>
<tr><th id="1233">1233</th><td>      ++<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_skip_args" title='_dl_skip_args' data-ref="_dl_skip_args" data-ref-filename="_dl_skip_args">_dl_skip_args</a>;</td></tr>
<tr><th id="1234">1234</th><td>      --<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a>;</td></tr>
<tr><th id="1235">1235</th><td>      ++<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>;</td></tr>
<tr><th id="1236">1236</th><td></td></tr>
<tr><th id="1237">1237</th><td>      <i>/* The initialization of _dl_stack_flags done below assumes the</i></td></tr>
<tr><th id="1238">1238</th><td><i>	 executable's PT_GNU_STACK may have been honored by the kernel, and</i></td></tr>
<tr><th id="1239">1239</th><td><i>	 so a PT_GNU_STACK with PF_X set means the stack started out with</i></td></tr>
<tr><th id="1240">1240</th><td><i>	 execute permission.  However, this is not really true if the</i></td></tr>
<tr><th id="1241">1241</th><td><i>	 dynamic linker is the executable the kernel loaded.  For this</i></td></tr>
<tr><th id="1242">1242</th><td><i>	 case, we must reinitialize _dl_stack_flags to match the dynamic</i></td></tr>
<tr><th id="1243">1243</th><td><i>	 linker itself.  If the dynamic linker was built with a</i></td></tr>
<tr><th id="1244">1244</th><td><i>	 PT_GNU_STACK, then the kernel may have loaded us with a</i></td></tr>
<tr><th id="1245">1245</th><td><i>	 nonexecutable stack that we will have to make executable when we</i></td></tr>
<tr><th id="1246">1246</th><td><i>	 load the program below unless it has a PT_GNU_STACK indicating</i></td></tr>
<tr><th id="1247">1247</th><td><i>	 nonexecutable stack is ok.  */</i></td></tr>
<tr><th id="1248">1248</th><td></td></tr>
<tr><th id="1249">1249</th><td>      <b>for</b> (<a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a> = <a class="local col6 ref" href="#116phdr" title='phdr' data-ref="116phdr" data-ref-filename="116phdr">phdr</a>; <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a> &lt; &amp;<a class="local col6 ref" href="#116phdr" title='phdr' data-ref="116phdr" data-ref-filename="116phdr">phdr</a>[<a class="local col7 ref" href="#117phnum" title='phnum' data-ref="117phnum" data-ref-filename="117phnum">phnum</a>]; ++<a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>)</td></tr>
<tr><th id="1250">1250</th><td>	<b>if</b> (<a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_type" title='(anonymous struct)::p_type' data-ref="(anonymous)::p_type" data-ref-filename="(anonymous)..p_type">p_type</a> == <a class="macro" href="elf.h.html#722" title="0x6474e551" data-ref="_M/PT_GNU_STACK">PT_GNU_STACK</a>)</td></tr>
<tr><th id="1251">1251</th><td>	  {</td></tr>
<tr><th id="1252">1252</th><td>	    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_stack_flags" data-ref="_M/GL">GL</a>(dl_stack_flags) = <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_flags" title='(anonymous struct)::p_flags' data-ref="(anonymous)::p_flags" data-ref-filename="(anonymous)..p_flags">p_flags</a>;</td></tr>
<tr><th id="1253">1253</th><td>	    <b>break</b>;</td></tr>
<tr><th id="1254">1254</th><td>	  }</td></tr>
<tr><th id="1255">1255</th><td></td></tr>
<tr><th id="1256">1256</th><td>      <b>if</b> (<a class="ref fn" href="#168" title='__builtin_expect' data-ref="__builtin_expect" data-ref-filename="__builtin_expect">__builtin_expect</a> (<a class="local col1 ref" href="#121mode" title='mode' data-ref="121mode" data-ref-filename="121mode">mode</a>, <a class="enum" href="#normal" title='normal' data-ref="normal" data-ref-filename="normal">normal</a>) == <a class="enum" href="#verify" title='verify' data-ref="verify" data-ref-filename="verify">verify</a>)</td></tr>
<tr><th id="1257">1257</th><td>	{</td></tr>
<tr><th id="1258">1258</th><td>	  <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="130objname" title='objname' data-type='const char *' data-ref="130objname" data-ref-filename="130objname">objname</dfn>;</td></tr>
<tr><th id="1259">1259</th><td>	  <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="131err_str" title='err_str' data-type='const char *' data-ref="131err_str" data-ref-filename="131err_str">err_str</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1260">1260</th><td>	  <b>struct</b> <a class="type" href="#map_args" title='map_args' data-ref="map_args" data-ref-filename="map_args">map_args</a> <dfn class="local col2 decl" id="132args" title='args' data-type='struct map_args' data-ref="132args" data-ref-filename="132args">args</dfn>;</td></tr>
<tr><th id="1261">1261</th><td>	  <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col3 decl" id="133malloced" title='malloced' data-type='_Bool' data-ref="133malloced" data-ref-filename="133malloced">malloced</dfn>;</td></tr>
<tr><th id="1262">1262</th><td></td></tr>
<tr><th id="1263">1263</th><td>	  <a class="local col2 ref" href="#132args" title='args' data-ref="132args" data-ref-filename="132args">args</a>.<a class="tu ref field" href="#map_args::str" title='map_args::str' data-use='w' data-ref="map_args::str" data-ref-filename="map_args..str">str</a> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#708" title="_dl_argv[0]" data-ref="_M/rtld_progname">rtld_progname</a>;</td></tr>
<tr><th id="1264">1264</th><td>	  <a class="local col2 ref" href="#132args" title='args' data-ref="132args" data-ref-filename="132args">args</a>.<a class="tu ref field" href="#map_args::loader" title='map_args::loader' data-use='w' data-ref="map_args::loader" data-ref-filename="map_args..loader">loader</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1265">1265</th><td>	  <a class="local col2 ref" href="#132args" title='args' data-ref="132args" data-ref-filename="132args">args</a>.<a class="tu ref field" href="#map_args::mode" title='map_args::mode' data-use='w' data-ref="map_args::mode" data-ref-filename="map_args..mode">mode</a> = <a class="macro" href="../include/dlfcn.h.html#10" title="0x20000000" data-ref="_M/__RTLD_OPENEXEC">__RTLD_OPENEXEC</a>;</td></tr>
<tr><th id="1266">1266</th><td>	  (<em>void</em>) <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_catch_error" title='_dl_catch_error' data-ref="_dl_catch_error" data-ref-filename="_dl_catch_error">_dl_catch_error</a> (&amp;<a class="local col0 ref" href="#130objname" title='objname' data-ref="130objname" data-ref-filename="130objname">objname</a>, &amp;<a class="local col1 ref" href="#131err_str" title='err_str' data-ref="131err_str" data-ref-filename="131err_str">err_str</a>, &amp;<a class="local col3 ref" href="#133malloced" title='malloced' data-ref="133malloced" data-ref-filename="133malloced">malloced</a>, <a class="tu ref fn" href="#map_doit" title='map_doit' data-use='r' data-ref="map_doit" data-ref-filename="map_doit">map_doit</a>,</td></tr>
<tr><th id="1267">1267</th><td>				  &amp;<a class="local col2 ref" href="#132args" title='args' data-ref="132args" data-ref-filename="132args">args</a>);</td></tr>
<tr><th id="1268">1268</th><td>	  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((err_str != ((void*)0)), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="local col1 ref" href="#131err_str" title='err_str' data-ref="131err_str" data-ref-filename="131err_str">err_str</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>))</td></tr>
<tr><th id="1269">1269</th><td>	    <i>/* We don't free the returned string, the programs stops</i></td></tr>
<tr><th id="1270">1270</th><td><i>	       anyway.  */</i></td></tr>
<tr><th id="1271">1271</th><td>	    <a class="macro" href="#99" title="exit_internal" data-ref="_M/_exit">_exit</a> (<a class="macro" href="../stdlib/stdlib.h.html#91" title="1" data-ref="_M/EXIT_FAILURE">EXIT_FAILURE</a>);</td></tr>
<tr><th id="1272">1272</th><td>	}</td></tr>
<tr><th id="1273">1273</th><td>      <b>else</b></td></tr>
<tr><th id="1274">1274</th><td>	{</td></tr>
<tr><th id="1275">1275</th><td>	  <a class="macro" href="#59" title="hp_timing_t start" data-ref="_M/RTLD_TIMING_VAR">RTLD_TIMING_VAR</a> (<dfn class="local col4 decl" id="134start" title='start' data-type='hp_timing_t' data-ref="134start" data-ref-filename="134start">start</dfn>);</td></tr>
<tr><th id="1276">1276</th><td>	  <a class="tu ref fn" href="#rtld_timer_start" title='rtld_timer_start' data-use='c' data-ref="rtld_timer_start" data-ref-filename="rtld_timer_start">rtld_timer_start</a> (&amp;<a class="local col4 ref" href="#1275" title='start' data-ref="134start" data-ref-filename="134start">start</a>);</td></tr>
<tr><th id="1277">1277</th><td>	  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_map_object" title='_dl_map_object' data-ref="_dl_map_object" data-ref-filename="_dl_map_object">_dl_map_object</a> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#708" title="_dl_argv[0]" data-ref="_M/rtld_progname">rtld_progname</a>, <a class="enum" href="../include/link.h.html#link_map::lt_executable" title='link_map::lt_executable' data-ref="link_map::lt_executable" data-ref-filename="link_map..lt_executable">lt_executable</a>, <var>0</var>,</td></tr>
<tr><th id="1278">1278</th><td>			  <a class="macro" href="../include/dlfcn.h.html#10" title="0x20000000" data-ref="_M/__RTLD_OPENEXEC">__RTLD_OPENEXEC</a>, <a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>);</td></tr>
<tr><th id="1279">1279</th><td>	  <a class="tu ref fn" href="#rtld_timer_stop" title='rtld_timer_stop' data-use='c' data-ref="rtld_timer_stop" data-ref-filename="rtld_timer_stop">rtld_timer_stop</a> (&amp;<a class="tu ref" href="#352" title='load_time' data-use='a' data-ref="load_time" data-ref-filename="load_time">load_time</a>, <a class="local col4 ref" href="#1275" title='start' data-ref="134start" data-ref-filename="134start">start</a>);</td></tr>
<tr><th id="1280">1280</th><td>	}</td></tr>
<tr><th id="1281">1281</th><td></td></tr>
<tr><th id="1282">1282</th><td>      <i>/* Now the map for the main executable is available.  */</i></td></tr>
<tr><th id="1283">1283</th><td>      <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_loaded" title='link_namespaces::_ns_loaded' data-ref="link_namespaces::_ns_loaded" data-ref-filename="link_namespaces.._ns_loaded">_ns_loaded</a>;</td></tr>
<tr><th id="1284">1284</th><td></td></tr>
<tr><th id="1285">1285</th><td>      <b>if</b> (<a class="ref fn" href="#168" title='__builtin_expect' data-ref="__builtin_expect" data-ref-filename="__builtin_expect">__builtin_expect</a> (<a class="local col1 ref" href="#121mode" title='mode' data-ref="121mode" data-ref-filename="121mode">mode</a>, <a class="enum" href="#normal" title='normal' data-ref="normal" data-ref-filename="normal">normal</a>) == <a class="enum" href="#normal" title='normal' data-ref="normal" data-ref-filename="normal">normal</a></td></tr>
<tr><th id="1286">1286</th><td>	  &amp;&amp; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#866" title="14" data-ref="_M/DT_SONAME">DT_SONAME</a>] != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span></td></tr>
<tr><th id="1287">1287</th><td>	  &amp;&amp; <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#866" title="14" data-ref="_M/DT_SONAME">DT_SONAME</a>] != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span></td></tr>
<tr><th id="1288">1288</th><td>	  &amp;&amp; <a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> ((<em>const</em> <em>char</em> *) <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#80" title="(&amp;_rtld_local._dl_rtld_map)-&gt;l_info[5]-&gt;d_un.d_ptr" data-ref="_M/D_PTR">D_PTR</a> (&amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map), <a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#857" title="5" data-ref="_M/DT_STRTAB">DT_STRTAB</a>])</td></tr>
<tr><th id="1289">1289</th><td>		     + <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#866" title="14" data-ref="_M/DT_SONAME">DT_SONAME</a>]-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_val" title='(anonymous struct)::(anonymous union)::d_val' data-ref="(anonymousstruct)::(anonymous)::d_val" data-ref-filename="(anonymousstruct)..(anonymous)..d_val">d_val</a>,</td></tr>
<tr><th id="1290">1290</th><td>		     (<em>const</em> <em>char</em> *) <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#80" title="(main_map)-&gt;l_info[5]-&gt;d_un.d_ptr" data-ref="_M/D_PTR">D_PTR</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>, <a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#857" title="5" data-ref="_M/DT_STRTAB">DT_STRTAB</a>])</td></tr>
<tr><th id="1291">1291</th><td>		     + <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#866" title="14" data-ref="_M/DT_SONAME">DT_SONAME</a>]-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_val" title='(anonymous struct)::(anonymous union)::d_val' data-ref="(anonymousstruct)::(anonymous)::d_val" data-ref-filename="(anonymousstruct)..(anonymous)..d_val">d_val</a>) == <var>0</var>)</td></tr>
<tr><th id="1292">1292</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#760" title="do { _dl_dprintf (2, &quot;loader cannot load itself\n&quot;); exit_internal (127); } while (1)" data-ref="_M/_dl_fatal_printf">_dl_fatal_printf</a> (<q>"loader cannot load itself\n"</q>);</td></tr>
<tr><th id="1293">1293</th><td></td></tr>
<tr><th id="1294">1294</th><td>      <a class="local col6 ref" href="#116phdr" title='phdr' data-ref="116phdr" data-ref-filename="116phdr">phdr</a> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_phdr" title='link_map::l_phdr' data-ref="link_map::l_phdr" data-ref-filename="link_map..l_phdr">l_phdr</a>;</td></tr>
<tr><th id="1295">1295</th><td>      <a class="local col7 ref" href="#117phnum" title='phnum' data-ref="117phnum" data-ref-filename="117phnum">phnum</a> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_phnum" title='link_map::l_phnum' data-ref="link_map::l_phnum" data-ref-filename="link_map..l_phnum">l_phnum</a>;</td></tr>
<tr><th id="1296">1296</th><td>      <i>/* We overwrite here a pointer to a malloc()ed string.  But since</i></td></tr>
<tr><th id="1297">1297</th><td><i>	 the malloc() implementation used at this point is the dummy</i></td></tr>
<tr><th id="1298">1298</th><td><i>	 implementations which has no real free() function it does not</i></td></tr>
<tr><th id="1299">1299</th><td><i>	 makes sense to free the old string first.  */</i></td></tr>
<tr><th id="1300">1300</th><td>      <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_name" title='link_map::l_name' data-ref="link_map::l_name" data-ref-filename="link_map..l_name">l_name</a> = (<em>char</em> *) <q>""</q>;</td></tr>
<tr><th id="1301">1301</th><td>      *<a class="local col8 ref" href="#118user_entry" title='user_entry' data-ref="118user_entry" data-ref-filename="118user_entry">user_entry</a> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_entry" title='link_map::l_entry' data-ref="link_map::l_entry" data-ref-filename="link_map..l_entry">l_entry</a>;</td></tr>
<tr><th id="1302">1302</th><td></td></tr>
<tr><th id="1303">1303</th><td><u>#<span data-ppcond="1303">ifdef</span> <a class="macro" href="../sysdeps/unix/sysv/linux/ldsodefs.h.html#22" data-ref="_M/HAVE_AUX_VECTOR">HAVE_AUX_VECTOR</a></u></td></tr>
<tr><th id="1304">1304</th><td>      <i>/* Adjust the on-stack auxiliary vector so that it looks like the</i></td></tr>
<tr><th id="1305">1305</th><td><i>	 binary was executed directly.  */</i></td></tr>
<tr><th id="1306">1306</th><td>      <b>for</b> (<a class="macro" href="link.h.html#30" title="Elf64_auxv_t" data-ref="_M/ElfW">ElfW</a>(auxv_t) *<dfn class="local col5 decl" id="135av" title='av' data-type='Elf64_auxv_t *' data-ref="135av" data-ref-filename="135av">av</dfn> = <a class="local col9 ref" href="#119auxv" title='auxv' data-ref="119auxv" data-ref-filename="119auxv">auxv</a>; <a class="local col5 ref" href="#135av" title='av' data-ref="135av" data-ref-filename="135av">av</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::a_type" title='(anonymous struct)::a_type' data-ref="(anonymous)::a_type" data-ref-filename="(anonymous)..a_type">a_type</a> != <a class="macro" href="elf.h.html#1161" title="0" data-ref="_M/AT_NULL">AT_NULL</a>; <a class="local col5 ref" href="#135av" title='av' data-ref="135av" data-ref-filename="135av">av</a>++)</td></tr>
<tr><th id="1307">1307</th><td>	<b>switch</b> (<a class="local col5 ref" href="#135av" title='av' data-ref="135av" data-ref-filename="135av">av</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::a_type" title='(anonymous struct)::a_type' data-ref="(anonymous)::a_type" data-ref-filename="(anonymous)..a_type">a_type</a>)</td></tr>
<tr><th id="1308">1308</th><td>	  {</td></tr>
<tr><th id="1309">1309</th><td>	  <b>case</b> <a class="macro" href="elf.h.html#1164" title="3" data-ref="_M/AT_PHDR">AT_PHDR</a>:</td></tr>
<tr><th id="1310">1310</th><td>	    <a class="local col5 ref" href="#135av" title='av' data-ref="135av" data-ref-filename="135av">av</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::a_un" title='(anonymous struct)::a_un' data-ref="(anonymous)::a_un" data-ref-filename="(anonymous)..a_un">a_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::a_val" title='(anonymous struct)::(anonymous union)::a_val' data-ref="(anonymousstruct)::(anonymous)::a_val" data-ref-filename="(anonymousstruct)..(anonymous)..a_val">a_val</a> = (<a class="typedef" href="../stdlib/stdint.h.html#uintptr_t" title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</a>) <a class="local col6 ref" href="#116phdr" title='phdr' data-ref="116phdr" data-ref-filename="116phdr">phdr</a>;</td></tr>
<tr><th id="1311">1311</th><td>	    <b>break</b>;</td></tr>
<tr><th id="1312">1312</th><td>	  <b>case</b> <a class="macro" href="elf.h.html#1166" title="5" data-ref="_M/AT_PHNUM">AT_PHNUM</a>:</td></tr>
<tr><th id="1313">1313</th><td>	    <a class="local col5 ref" href="#135av" title='av' data-ref="135av" data-ref-filename="135av">av</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::a_un" title='(anonymous struct)::a_un' data-ref="(anonymous)::a_un" data-ref-filename="(anonymous)..a_un">a_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::a_val" title='(anonymous struct)::(anonymous union)::a_val' data-ref="(anonymousstruct)::(anonymous)::a_val" data-ref-filename="(anonymousstruct)..(anonymous)..a_val">a_val</a> = <a class="local col7 ref" href="#117phnum" title='phnum' data-ref="117phnum" data-ref-filename="117phnum">phnum</a>;</td></tr>
<tr><th id="1314">1314</th><td>	    <b>break</b>;</td></tr>
<tr><th id="1315">1315</th><td>	  <b>case</b> <a class="macro" href="elf.h.html#1170" title="9" data-ref="_M/AT_ENTRY">AT_ENTRY</a>:</td></tr>
<tr><th id="1316">1316</th><td>	    <a class="local col5 ref" href="#135av" title='av' data-ref="135av" data-ref-filename="135av">av</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::a_un" title='(anonymous struct)::a_un' data-ref="(anonymous)::a_un" data-ref-filename="(anonymous)..a_un">a_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::a_val" title='(anonymous struct)::(anonymous union)::a_val' data-ref="(anonymousstruct)::(anonymous)::a_val" data-ref-filename="(anonymousstruct)..(anonymous)..a_val">a_val</a> = *<a class="local col8 ref" href="#118user_entry" title='user_entry' data-ref="118user_entry" data-ref-filename="118user_entry">user_entry</a>;</td></tr>
<tr><th id="1317">1317</th><td>	    <b>break</b>;</td></tr>
<tr><th id="1318">1318</th><td>	  <b>case</b> <a class="macro" href="elf.h.html#1205" title="31" data-ref="_M/AT_EXECFN">AT_EXECFN</a>:</td></tr>
<tr><th id="1319">1319</th><td>	    <a class="local col5 ref" href="#135av" title='av' data-ref="135av" data-ref-filename="135av">av</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::a_un" title='(anonymous struct)::a_un' data-ref="(anonymous)::a_un" data-ref-filename="(anonymous)..a_un">a_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::a_val" title='(anonymous struct)::(anonymous union)::a_val' data-ref="(anonymousstruct)::(anonymous)::a_val" data-ref-filename="(anonymousstruct)..(anonymous)..a_val">a_val</a> = (<a class="typedef" href="../stdlib/stdint.h.html#uintptr_t" title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</a>) <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<var>0</var>];</td></tr>
<tr><th id="1320">1320</th><td>	    <b>break</b>;</td></tr>
<tr><th id="1321">1321</th><td>	  }</td></tr>
<tr><th id="1322">1322</th><td><u>#<span data-ppcond="1303">endif</span></u></td></tr>
<tr><th id="1323">1323</th><td>    }</td></tr>
<tr><th id="1324">1324</th><td>  <b>else</b></td></tr>
<tr><th id="1325">1325</th><td>    {</td></tr>
<tr><th id="1326">1326</th><td>      <i>/* Create a link_map for the executable itself.</i></td></tr>
<tr><th id="1327">1327</th><td><i>	 This will be what dlopen on "" returns.  */</i></td></tr>
<tr><th id="1328">1328</th><td>      <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_new_object" title='_dl_new_object' data-ref="_dl_new_object" data-ref-filename="_dl_new_object">_dl_new_object</a> ((<em>char</em> *) <q>""</q>, <q>""</q>, <a class="enum" href="../include/link.h.html#link_map::lt_executable" title='link_map::lt_executable' data-ref="link_map::lt_executable" data-ref-filename="link_map..lt_executable">lt_executable</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,</td></tr>
<tr><th id="1329">1329</th><td>				 <a class="macro" href="../include/dlfcn.h.html#10" title="0x20000000" data-ref="_M/__RTLD_OPENEXEC">__RTLD_OPENEXEC</a>, <a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>);</td></tr>
<tr><th id="1330">1330</th><td>      <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((main_map != ((void*)0)) ? 1 : 0), __extension__ ({ if (main_map != ((void*)0)) ; else __assert_fail (&quot;main_map != NULL&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 1330, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1331">1331</th><td>      <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_phdr" title='link_map::l_phdr' data-ref="link_map::l_phdr" data-ref-filename="link_map..l_phdr">l_phdr</a> = <a class="local col6 ref" href="#116phdr" title='phdr' data-ref="116phdr" data-ref-filename="116phdr">phdr</a>;</td></tr>
<tr><th id="1332">1332</th><td>      <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_phnum" title='link_map::l_phnum' data-ref="link_map::l_phnum" data-ref-filename="link_map..l_phnum">l_phnum</a> = <a class="local col7 ref" href="#117phnum" title='phnum' data-ref="117phnum" data-ref-filename="117phnum">phnum</a>;</td></tr>
<tr><th id="1333">1333</th><td>      <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_entry" title='link_map::l_entry' data-ref="link_map::l_entry" data-ref-filename="link_map..l_entry">l_entry</a> = *<a class="local col8 ref" href="#118user_entry" title='user_entry' data-ref="118user_entry" data-ref-filename="118user_entry">user_entry</a>;</td></tr>
<tr><th id="1334">1334</th><td></td></tr>
<tr><th id="1335">1335</th><td>      <i>/* Even though the link map is not yet fully initialized we can add</i></td></tr>
<tr><th id="1336">1336</th><td><i>	 it to the map list since there are no possible users running yet.  */</i></td></tr>
<tr><th id="1337">1337</th><td>      <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_add_to_namespace_list" title='_dl_add_to_namespace_list' data-ref="_dl_add_to_namespace_list" data-ref-filename="_dl_add_to_namespace_list">_dl_add_to_namespace_list</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>, <a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>);</td></tr>
<tr><th id="1338">1338</th><td>      <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((main_map == _rtld_local._dl_ns[0]._ns_loaded) ? 1 : 0), __extension__ ({ if (main_map == _rtld_local._dl_ns[0]._ns_loaded) ; else __assert_fail (&quot;main_map == GL(dl_ns)[LM_ID_BASE]._ns_loaded&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 1338, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a> == <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_loaded" title='link_namespaces::_ns_loaded' data-ref="link_namespaces::_ns_loaded" data-ref-filename="link_namespaces.._ns_loaded">_ns_loaded</a>);</td></tr>
<tr><th id="1339">1339</th><td></td></tr>
<tr><th id="1340">1340</th><td>      <i>/* At this point we are in a bit of trouble.  We would have to</i></td></tr>
<tr><th id="1341">1341</th><td><i>	 fill in the values for l_dev and l_ino.  But in general we</i></td></tr>
<tr><th id="1342">1342</th><td><i>	 do not know where the file is.  We also do not handle AT_EXECFD</i></td></tr>
<tr><th id="1343">1343</th><td><i>	 even if it would be passed up.</i></td></tr>
<tr><th id="1344">1344</th><td><i></i></td></tr>
<tr><th id="1345">1345</th><td><i>	 We leave the values here defined to 0.  This is normally no</i></td></tr>
<tr><th id="1346">1346</th><td><i>	 problem as the program code itself is normally no shared</i></td></tr>
<tr><th id="1347">1347</th><td><i>	 object and therefore cannot be loaded dynamically.  Nothing</i></td></tr>
<tr><th id="1348">1348</th><td><i>	 prevent the use of dynamic binaries and in these situations</i></td></tr>
<tr><th id="1349">1349</th><td><i>	 we might get problems.  We might not be able to find out</i></td></tr>
<tr><th id="1350">1350</th><td><i>	 whether the object is already loaded.  But since there is no</i></td></tr>
<tr><th id="1351">1351</th><td><i>	 easy way out and because the dynamic binary must also not</i></td></tr>
<tr><th id="1352">1352</th><td><i>	 have an SONAME we ignore this program for now.  If it becomes</i></td></tr>
<tr><th id="1353">1353</th><td><i>	 a problem we can force people using SONAMEs.  */</i></td></tr>
<tr><th id="1354">1354</th><td></td></tr>
<tr><th id="1355">1355</th><td>      <i>/* We delay initializing the path structure until we got the dynamic</i></td></tr>
<tr><th id="1356">1356</th><td><i>	 information for the program.  */</i></td></tr>
<tr><th id="1357">1357</th><td>    }</td></tr>
<tr><th id="1358">1358</th><td></td></tr>
<tr><th id="1359">1359</th><td>  <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_map_end" title='link_map::l_map_end' data-ref="link_map::l_map_end" data-ref-filename="link_map..l_map_end">l_map_end</a> = <var>0</var>;</td></tr>
<tr><th id="1360">1360</th><td>  <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_text_end" title='link_map::l_text_end' data-ref="link_map::l_text_end" data-ref-filename="link_map..l_text_end">l_text_end</a> = <var>0</var>;</td></tr>
<tr><th id="1361">1361</th><td>  <i>/* Perhaps the executable has no PT_LOAD header entries at all.  */</i></td></tr>
<tr><th id="1362">1362</th><td>  <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_map_start" title='link_map::l_map_start' data-ref="link_map::l_map_start" data-ref-filename="link_map..l_map_start">l_map_start</a> = ~<var>0</var>;</td></tr>
<tr><th id="1363">1363</th><td>  <i>/* And it was opened directly.  */</i></td></tr>
<tr><th id="1364">1364</th><td>  ++<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_direct_opencount" title='link_map::l_direct_opencount' data-ref="link_map::l_direct_opencount" data-ref-filename="link_map..l_direct_opencount">l_direct_opencount</a>;</td></tr>
<tr><th id="1365">1365</th><td></td></tr>
<tr><th id="1366">1366</th><td>  <i>/* Scan the program header table for the dynamic section.  */</i></td></tr>
<tr><th id="1367">1367</th><td>  <b>for</b> (<a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a> = <a class="local col6 ref" href="#116phdr" title='phdr' data-ref="116phdr" data-ref-filename="116phdr">phdr</a>; <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a> &lt; &amp;<a class="local col6 ref" href="#116phdr" title='phdr' data-ref="116phdr" data-ref-filename="116phdr">phdr</a>[<a class="local col7 ref" href="#117phnum" title='phnum' data-ref="117phnum" data-ref-filename="117phnum">phnum</a>]; ++<a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>)</td></tr>
<tr><th id="1368">1368</th><td>    <b>switch</b> (<a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_type" title='(anonymous struct)::p_type' data-ref="(anonymous)::p_type" data-ref-filename="(anonymous)..p_type">p_type</a>)</td></tr>
<tr><th id="1369">1369</th><td>      {</td></tr>
<tr><th id="1370">1370</th><td>      <b>case</b> <a class="macro" href="elf.h.html#717" title="6" data-ref="_M/PT_PHDR">PT_PHDR</a>:</td></tr>
<tr><th id="1371">1371</th><td>	<i>/* Find out the load address.  */</i></td></tr>
<tr><th id="1372">1372</th><td>	<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr)) <a class="local col6 ref" href="#116phdr" title='phdr' data-ref="116phdr" data-ref-filename="116phdr">phdr</a> - <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_vaddr" title='(anonymous struct)::p_vaddr' data-ref="(anonymous)::p_vaddr" data-ref-filename="(anonymous)..p_vaddr">p_vaddr</a>;</td></tr>
<tr><th id="1373">1373</th><td>	<b>break</b>;</td></tr>
<tr><th id="1374">1374</th><td>      <b>case</b> <a class="macro" href="elf.h.html#713" title="2" data-ref="_M/PT_DYNAMIC">PT_DYNAMIC</a>:</td></tr>
<tr><th id="1375">1375</th><td>	<i>/* This tells us where to find the dynamic section,</i></td></tr>
<tr><th id="1376">1376</th><td><i>	   which tells us everything we need to do.  */</i></td></tr>
<tr><th id="1377">1377</th><td>	<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_ld" title='link_map::l_ld' data-ref="link_map::l_ld" data-ref-filename="link_map..l_ld">l_ld</a> = (<em>void</em> *) <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a> + <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_vaddr" title='(anonymous struct)::p_vaddr' data-ref="(anonymous)::p_vaddr" data-ref-filename="(anonymous)..p_vaddr">p_vaddr</a>;</td></tr>
<tr><th id="1378">1378</th><td>	<b>break</b>;</td></tr>
<tr><th id="1379">1379</th><td>      <b>case</b> <a class="macro" href="elf.h.html#714" title="3" data-ref="_M/PT_INTERP">PT_INTERP</a>:</td></tr>
<tr><th id="1380">1380</th><td>	<i>/* This "interpreter segment" was used by the program loader to</i></td></tr>
<tr><th id="1381">1381</th><td><i>	   find the program interpreter, which is this program itself, the</i></td></tr>
<tr><th id="1382">1382</th><td><i>	   dynamic linker.  We note what name finds us, so that a future</i></td></tr>
<tr><th id="1383">1383</th><td><i>	   dlopen call or DT_NEEDED entry, for something that wants to link</i></td></tr>
<tr><th id="1384">1384</th><td><i>	   against the dynamic linker as a shared library, will know that</i></td></tr>
<tr><th id="1385">1385</th><td><i>	   the shared object is already loaded.  */</i></td></tr>
<tr><th id="1386">1386</th><td>	<a class="tu ref" href="#_dl_rtld_libname" title='_dl_rtld_libname' data-use='m' data-ref="_dl_rtld_libname" data-ref-filename="_dl_rtld_libname">_dl_rtld_libname</a>.<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::name" title='libname_list::name' data-ref="libname_list::name" data-ref-filename="libname_list..name">name</a> = ((<em>const</em> <em>char</em> *) <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a></td></tr>
<tr><th id="1387">1387</th><td>				 + <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_vaddr" title='(anonymous struct)::p_vaddr' data-ref="(anonymous)::p_vaddr" data-ref-filename="(anonymous)..p_vaddr">p_vaddr</a>);</td></tr>
<tr><th id="1388">1388</th><td>	<i>/* _dl_rtld_libname.next = NULL;	Already zero.  */</i></td></tr>
<tr><th id="1389">1389</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_libname" title='link_map::l_libname' data-ref="link_map::l_libname" data-ref-filename="link_map..l_libname">l_libname</a> = &amp;<a class="tu ref" href="#_dl_rtld_libname" title='_dl_rtld_libname' data-use='a' data-ref="_dl_rtld_libname" data-ref-filename="_dl_rtld_libname">_dl_rtld_libname</a>;</td></tr>
<tr><th id="1390">1390</th><td></td></tr>
<tr><th id="1391">1391</th><td>	<i>/* Ordinarilly, we would get additional names for the loader from</i></td></tr>
<tr><th id="1392">1392</th><td><i>	   our DT_SONAME.  This can't happen if we were actually linked as</i></td></tr>
<tr><th id="1393">1393</th><td><i>	   a static executable (detect this case when we have no DYNAMIC).</i></td></tr>
<tr><th id="1394">1394</th><td><i>	   If so, assume the filename component of the interpreter path to</i></td></tr>
<tr><th id="1395">1395</th><td><i>	   be our SONAME, and add it to our name list.  */</i></td></tr>
<tr><th id="1396">1396</th><td>	<b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_ld" title='link_map::l_ld' data-ref="link_map::l_ld" data-ref-filename="link_map..l_ld">l_ld</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1397">1397</th><td>	  {</td></tr>
<tr><th id="1398">1398</th><td>	    <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="136p" title='p' data-type='const char *' data-ref="136p" data-ref-filename="136p">p</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1399">1399</th><td>	    <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="137cp" title='cp' data-type='const char *' data-ref="137cp" data-ref-filename="137cp">cp</dfn> = <a class="tu ref" href="#_dl_rtld_libname" title='_dl_rtld_libname' data-use='m' data-ref="_dl_rtld_libname" data-ref-filename="_dl_rtld_libname">_dl_rtld_libname</a>.<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::name" title='libname_list::name' data-ref="libname_list::name" data-ref-filename="libname_list..name">name</a>;</td></tr>
<tr><th id="1400">1400</th><td></td></tr>
<tr><th id="1401">1401</th><td>	    <i>/* Find the filename part of the path.  */</i></td></tr>
<tr><th id="1402">1402</th><td>	    <b>while</b> (*<a class="local col7 ref" href="#137cp" title='cp' data-ref="137cp" data-ref-filename="137cp">cp</a> != <kbd>'\0'</kbd>)</td></tr>
<tr><th id="1403">1403</th><td>	      <b>if</b> (*<a class="local col7 ref" href="#137cp" title='cp' data-ref="137cp" data-ref-filename="137cp">cp</a>++ == <kbd>'/'</kbd>)</td></tr>
<tr><th id="1404">1404</th><td>		<a class="local col6 ref" href="#136p" title='p' data-ref="136p" data-ref-filename="136p">p</a> = <a class="local col7 ref" href="#137cp" title='cp' data-ref="137cp" data-ref-filename="137cp">cp</a>;</td></tr>
<tr><th id="1405">1405</th><td></td></tr>
<tr><th id="1406">1406</th><td>	    <b>if</b> (<a class="local col6 ref" href="#136p" title='p' data-ref="136p" data-ref-filename="136p">p</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1407">1407</th><td>	      {</td></tr>
<tr><th id="1408">1408</th><td>		<a class="tu ref" href="#_dl_rtld_libname2" title='_dl_rtld_libname2' data-use='m' data-ref="_dl_rtld_libname2" data-ref-filename="_dl_rtld_libname2">_dl_rtld_libname2</a>.<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::name" title='libname_list::name' data-ref="libname_list::name" data-ref-filename="libname_list..name">name</a> = <a class="local col6 ref" href="#136p" title='p' data-ref="136p" data-ref-filename="136p">p</a>;</td></tr>
<tr><th id="1409">1409</th><td>		<i>/* _dl_rtld_libname2.next = NULL;  Already zero.  */</i></td></tr>
<tr><th id="1410">1410</th><td>		<a class="tu ref" href="#_dl_rtld_libname" title='_dl_rtld_libname' data-use='m' data-ref="_dl_rtld_libname" data-ref-filename="_dl_rtld_libname">_dl_rtld_libname</a>.<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::next" title='libname_list::next' data-ref="libname_list::next" data-ref-filename="libname_list..next">next</a> = &amp;<a class="tu ref" href="#_dl_rtld_libname2" title='_dl_rtld_libname2' data-use='a' data-ref="_dl_rtld_libname2" data-ref-filename="_dl_rtld_libname2">_dl_rtld_libname2</a>;</td></tr>
<tr><th id="1411">1411</th><td>	      }</td></tr>
<tr><th id="1412">1412</th><td>	  }</td></tr>
<tr><th id="1413">1413</th><td></td></tr>
<tr><th id="1414">1414</th><td>	<a class="local col5 ref" href="#125has_interp" title='has_interp' data-ref="125has_interp" data-ref-filename="125has_interp">has_interp</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="1415">1415</th><td>	<b>break</b>;</td></tr>
<tr><th id="1416">1416</th><td>      <b>case</b> <a class="macro" href="elf.h.html#712" title="1" data-ref="_M/PT_LOAD">PT_LOAD</a>:</td></tr>
<tr><th id="1417">1417</th><td>	{</td></tr>
<tr><th id="1418">1418</th><td>	  <a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr) <dfn class="local col8 decl" id="138mapstart" title='mapstart' data-type='Elf64_Addr' data-ref="138mapstart" data-ref-filename="138mapstart">mapstart</dfn>;</td></tr>
<tr><th id="1419">1419</th><td>	  <a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr) <dfn class="local col9 decl" id="139allocend" title='allocend' data-type='Elf64_Addr' data-ref="139allocend" data-ref-filename="139allocend">allocend</dfn>;</td></tr>
<tr><th id="1420">1420</th><td></td></tr>
<tr><th id="1421">1421</th><td>	  <i>/* Remember where the main program starts in memory.  */</i></td></tr>
<tr><th id="1422">1422</th><td>	  <a class="local col8 ref" href="#138mapstart" title='mapstart' data-ref="138mapstart" data-ref-filename="138mapstart">mapstart</a> = (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a></td></tr>
<tr><th id="1423">1423</th><td>		      + (<a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_vaddr" title='(anonymous struct)::p_vaddr' data-ref="(anonymous)::p_vaddr" data-ref-filename="(anonymous)..p_vaddr">p_vaddr</a> &amp; ~(<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_pagesize" data-ref="_M/GLRO">GLRO</a>(dl_pagesize) - <var>1</var>)));</td></tr>
<tr><th id="1424">1424</th><td>	  <b>if</b> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_map_start" title='link_map::l_map_start' data-ref="link_map::l_map_start" data-ref-filename="link_map..l_map_start">l_map_start</a> &gt; <a class="local col8 ref" href="#138mapstart" title='mapstart' data-ref="138mapstart" data-ref-filename="138mapstart">mapstart</a>)</td></tr>
<tr><th id="1425">1425</th><td>	    <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_map_start" title='link_map::l_map_start' data-ref="link_map::l_map_start" data-ref-filename="link_map..l_map_start">l_map_start</a> = <a class="local col8 ref" href="#138mapstart" title='mapstart' data-ref="138mapstart" data-ref-filename="138mapstart">mapstart</a>;</td></tr>
<tr><th id="1426">1426</th><td></td></tr>
<tr><th id="1427">1427</th><td>	  <i>/* Also where it ends.  */</i></td></tr>
<tr><th id="1428">1428</th><td>	  <a class="local col9 ref" href="#139allocend" title='allocend' data-ref="139allocend" data-ref-filename="139allocend">allocend</a> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a> + <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_vaddr" title='(anonymous struct)::p_vaddr' data-ref="(anonymous)::p_vaddr" data-ref-filename="(anonymous)..p_vaddr">p_vaddr</a> + <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_memsz" title='(anonymous struct)::p_memsz' data-ref="(anonymous)::p_memsz" data-ref-filename="(anonymous)..p_memsz">p_memsz</a>;</td></tr>
<tr><th id="1429">1429</th><td>	  <b>if</b> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_map_end" title='link_map::l_map_end' data-ref="link_map::l_map_end" data-ref-filename="link_map..l_map_end">l_map_end</a> &lt; <a class="local col9 ref" href="#139allocend" title='allocend' data-ref="139allocend" data-ref-filename="139allocend">allocend</a>)</td></tr>
<tr><th id="1430">1430</th><td>	    <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_map_end" title='link_map::l_map_end' data-ref="link_map::l_map_end" data-ref-filename="link_map..l_map_end">l_map_end</a> = <a class="local col9 ref" href="#139allocend" title='allocend' data-ref="139allocend" data-ref-filename="139allocend">allocend</a>;</td></tr>
<tr><th id="1431">1431</th><td>	  <b>if</b> ((<a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_flags" title='(anonymous struct)::p_flags' data-ref="(anonymous)::p_flags" data-ref-filename="(anonymous)..p_flags">p_flags</a> &amp; <a class="macro" href="elf.h.html#734" title="(1 &lt;&lt; 0)" data-ref="_M/PF_X">PF_X</a>) &amp;&amp; <a class="local col9 ref" href="#139allocend" title='allocend' data-ref="139allocend" data-ref-filename="139allocend">allocend</a> &gt; <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_text_end" title='link_map::l_text_end' data-ref="link_map::l_text_end" data-ref-filename="link_map..l_text_end">l_text_end</a>)</td></tr>
<tr><th id="1432">1432</th><td>	    <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_text_end" title='link_map::l_text_end' data-ref="link_map::l_text_end" data-ref-filename="link_map..l_text_end">l_text_end</a> = <a class="local col9 ref" href="#139allocend" title='allocend' data-ref="139allocend" data-ref-filename="139allocend">allocend</a>;</td></tr>
<tr><th id="1433">1433</th><td>	}</td></tr>
<tr><th id="1434">1434</th><td>	<b>break</b>;</td></tr>
<tr><th id="1435">1435</th><td></td></tr>
<tr><th id="1436">1436</th><td>      <b>case</b> <a class="macro" href="elf.h.html#718" title="7" data-ref="_M/PT_TLS">PT_TLS</a>:</td></tr>
<tr><th id="1437">1437</th><td>	<b>if</b> (<a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_memsz" title='(anonymous struct)::p_memsz' data-ref="(anonymous)::p_memsz" data-ref-filename="(anonymous)..p_memsz">p_memsz</a> &gt; <var>0</var>)</td></tr>
<tr><th id="1438">1438</th><td>	  {</td></tr>
<tr><th id="1439">1439</th><td>	    <i>/* Note that in the case the dynamic linker we duplicate work</i></td></tr>
<tr><th id="1440">1440</th><td><i>	       here since we read the PT_TLS entry already in</i></td></tr>
<tr><th id="1441">1441</th><td><i>	       _dl_start_final.  But the result is repeatable so do not</i></td></tr>
<tr><th id="1442">1442</th><td><i>	       check for this special but unimportant case.  */</i></td></tr>
<tr><th id="1443">1443</th><td>	    <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_blocksize" title='link_map::l_tls_blocksize' data-ref="link_map::l_tls_blocksize" data-ref-filename="link_map..l_tls_blocksize">l_tls_blocksize</a> = <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_memsz" title='(anonymous struct)::p_memsz' data-ref="(anonymous)::p_memsz" data-ref-filename="(anonymous)..p_memsz">p_memsz</a>;</td></tr>
<tr><th id="1444">1444</th><td>	    <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_align" title='link_map::l_tls_align' data-ref="link_map::l_tls_align" data-ref-filename="link_map..l_tls_align">l_tls_align</a> = <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_align" title='(anonymous struct)::p_align' data-ref="(anonymous)::p_align" data-ref-filename="(anonymous)..p_align">p_align</a>;</td></tr>
<tr><th id="1445">1445</th><td>	    <b>if</b> (<a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_align" title='(anonymous struct)::p_align' data-ref="(anonymous)::p_align" data-ref-filename="(anonymous)..p_align">p_align</a> == <var>0</var>)</td></tr>
<tr><th id="1446">1446</th><td>	      <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_firstbyte_offset" title='link_map::l_tls_firstbyte_offset' data-ref="link_map::l_tls_firstbyte_offset" data-ref-filename="link_map..l_tls_firstbyte_offset">l_tls_firstbyte_offset</a> = <var>0</var>;</td></tr>
<tr><th id="1447">1447</th><td>	    <b>else</b></td></tr>
<tr><th id="1448">1448</th><td>	      <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_firstbyte_offset" title='link_map::l_tls_firstbyte_offset' data-ref="link_map::l_tls_firstbyte_offset" data-ref-filename="link_map..l_tls_firstbyte_offset">l_tls_firstbyte_offset</a> = (<a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_vaddr" title='(anonymous struct)::p_vaddr' data-ref="(anonymous)::p_vaddr" data-ref-filename="(anonymous)..p_vaddr">p_vaddr</a></td></tr>
<tr><th id="1449">1449</th><td>						  &amp; (<a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_align" title='(anonymous struct)::p_align' data-ref="(anonymous)::p_align" data-ref-filename="(anonymous)..p_align">p_align</a> - <var>1</var>));</td></tr>
<tr><th id="1450">1450</th><td>	    <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_initimage_size" title='link_map::l_tls_initimage_size' data-ref="link_map::l_tls_initimage_size" data-ref-filename="link_map..l_tls_initimage_size">l_tls_initimage_size</a> = <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_filesz" title='(anonymous struct)::p_filesz' data-ref="(anonymous)::p_filesz" data-ref-filename="(anonymous)..p_filesz">p_filesz</a>;</td></tr>
<tr><th id="1451">1451</th><td>	    <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_initimage" title='link_map::l_tls_initimage' data-ref="link_map::l_tls_initimage" data-ref-filename="link_map..l_tls_initimage">l_tls_initimage</a> = (<em>void</em> *) <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_vaddr" title='(anonymous struct)::p_vaddr' data-ref="(anonymous)::p_vaddr" data-ref-filename="(anonymous)..p_vaddr">p_vaddr</a>;</td></tr>
<tr><th id="1452">1452</th><td></td></tr>
<tr><th id="1453">1453</th><td>	    <i>/* This image gets the ID one.  */</i></td></tr>
<tr><th id="1454">1454</th><td>	    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_tls_max_dtv_idx" data-ref="_M/GL">GL</a>(dl_tls_max_dtv_idx) = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_modid" title='link_map::l_tls_modid' data-ref="link_map::l_tls_modid" data-ref-filename="link_map..l_tls_modid">l_tls_modid</a> = <var>1</var>;</td></tr>
<tr><th id="1455">1455</th><td>	  }</td></tr>
<tr><th id="1456">1456</th><td>	<b>break</b>;</td></tr>
<tr><th id="1457">1457</th><td></td></tr>
<tr><th id="1458">1458</th><td>      <b>case</b> <a class="macro" href="elf.h.html#722" title="0x6474e551" data-ref="_M/PT_GNU_STACK">PT_GNU_STACK</a>:</td></tr>
<tr><th id="1459">1459</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_stack_flags" data-ref="_M/GL">GL</a>(dl_stack_flags) = <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_flags" title='(anonymous struct)::p_flags' data-ref="(anonymous)::p_flags" data-ref-filename="(anonymous)..p_flags">p_flags</a>;</td></tr>
<tr><th id="1460">1460</th><td>	<b>break</b>;</td></tr>
<tr><th id="1461">1461</th><td></td></tr>
<tr><th id="1462">1462</th><td>      <b>case</b> <a class="macro" href="elf.h.html#723" title="0x6474e552" data-ref="_M/PT_GNU_RELRO">PT_GNU_RELRO</a>:</td></tr>
<tr><th id="1463">1463</th><td>	<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_relro_addr" title='link_map::l_relro_addr' data-ref="link_map::l_relro_addr" data-ref-filename="link_map..l_relro_addr">l_relro_addr</a> = <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_vaddr" title='(anonymous struct)::p_vaddr' data-ref="(anonymous)::p_vaddr" data-ref-filename="(anonymous)..p_vaddr">p_vaddr</a>;</td></tr>
<tr><th id="1464">1464</th><td>	<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_relro_size" title='link_map::l_relro_size' data-ref="link_map::l_relro_size" data-ref-filename="link_map..l_relro_size">l_relro_size</a> = <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::p_memsz" title='(anonymous struct)::p_memsz' data-ref="(anonymous)::p_memsz" data-ref-filename="(anonymous)..p_memsz">p_memsz</a>;</td></tr>
<tr><th id="1465">1465</th><td>	<b>break</b>;</td></tr>
<tr><th id="1466">1466</th><td></td></tr>
<tr><th id="1467">1467</th><td>      <b>case</b> <a class="macro" href="elf.h.html#715" title="4" data-ref="_M/PT_NOTE">PT_NOTE</a>:</td></tr>
<tr><th id="1468">1468</th><td>	<b>if</b> (<a class="ref fn" href="../sysdeps/x86/dl-prop.h.html#_rtld_process_pt_note" title='_rtld_process_pt_note' data-ref="_rtld_process_pt_note" data-ref-filename="_rtld_process_pt_note">_rtld_process_pt_note</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>, <a class="local col0 ref" href="#120ph" title='ph' data-ref="120ph" data-ref-filename="120ph">ph</a>))</td></tr>
<tr><th id="1469">1469</th><td>	  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#755" title="_dl_dprintf (2, &quot;ERROR: &apos;%s&apos;: cannot process note segment.\n&quot;, _dl_argv[0])" data-ref="_M/_dl_error_printf">_dl_error_printf</a> (<q>"\</q></td></tr>
<tr><th id="1470">1470</th><td><q>ERROR: '%s': cannot process note segment.\n"</q>, <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<var>0</var>]);</td></tr>
<tr><th id="1471">1471</th><td>	<b>break</b>;</td></tr>
<tr><th id="1472">1472</th><td>      }</td></tr>
<tr><th id="1473">1473</th><td></td></tr>
<tr><th id="1474">1474</th><td>  <i>/* Adjust the address of the TLS initialization image in case</i></td></tr>
<tr><th id="1475">1475</th><td><i>     the executable is actually an ET_DYN object.  */</i></td></tr>
<tr><th id="1476">1476</th><td>  <b>if</b> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_initimage" title='link_map::l_tls_initimage' data-ref="link_map::l_tls_initimage" data-ref-filename="link_map..l_tls_initimage">l_tls_initimage</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1477">1477</th><td>    <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_initimage" title='link_map::l_tls_initimage' data-ref="link_map::l_tls_initimage" data-ref-filename="link_map..l_tls_initimage">l_tls_initimage</a></td></tr>
<tr><th id="1478">1478</th><td>      = (<em>char</em> *) <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_initimage" title='link_map::l_tls_initimage' data-ref="link_map::l_tls_initimage" data-ref-filename="link_map..l_tls_initimage">l_tls_initimage</a> + <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a>;</td></tr>
<tr><th id="1479">1479</th><td>  <b>if</b> (! <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_map_end" title='link_map::l_map_end' data-ref="link_map::l_map_end" data-ref-filename="link_map..l_map_end">l_map_end</a>)</td></tr>
<tr><th id="1480">1480</th><td>    <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_map_end" title='link_map::l_map_end' data-ref="link_map::l_map_end" data-ref-filename="link_map..l_map_end">l_map_end</a> = ~<var>0</var>;</td></tr>
<tr><th id="1481">1481</th><td>  <b>if</b> (! <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_text_end" title='link_map::l_text_end' data-ref="link_map::l_text_end" data-ref-filename="link_map..l_text_end">l_text_end</a>)</td></tr>
<tr><th id="1482">1482</th><td>    <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_text_end" title='link_map::l_text_end' data-ref="link_map::l_text_end" data-ref-filename="link_map..l_text_end">l_text_end</a> = ~<var>0</var>;</td></tr>
<tr><th id="1483">1483</th><td>  <b>if</b> (! <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_libname" title='link_map::l_libname' data-ref="link_map::l_libname" data-ref-filename="link_map..l_libname">l_libname</a> &amp;&amp; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_name" title='link_map::l_name' data-ref="link_map::l_name" data-ref-filename="link_map..l_name">l_name</a>)</td></tr>
<tr><th id="1484">1484</th><td>    {</td></tr>
<tr><th id="1485">1485</th><td>      <i>/* We were invoked directly, so the program might not have a</i></td></tr>
<tr><th id="1486">1486</th><td><i>	 PT_INTERP.  */</i></td></tr>
<tr><th id="1487">1487</th><td>      <a class="tu ref" href="#_dl_rtld_libname" title='_dl_rtld_libname' data-use='m' data-ref="_dl_rtld_libname" data-ref-filename="_dl_rtld_libname">_dl_rtld_libname</a>.<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::name" title='libname_list::name' data-ref="libname_list::name" data-ref-filename="libname_list..name">name</a> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_name" title='link_map::l_name' data-ref="link_map::l_name" data-ref-filename="link_map..l_name">l_name</a>;</td></tr>
<tr><th id="1488">1488</th><td>      <i>/* _dl_rtld_libname.next = NULL;	Already zero.  */</i></td></tr>
<tr><th id="1489">1489</th><td>      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_libname" title='link_map::l_libname' data-ref="link_map::l_libname" data-ref-filename="link_map..l_libname">l_libname</a> =  &amp;<a class="tu ref" href="#_dl_rtld_libname" title='_dl_rtld_libname' data-use='a' data-ref="_dl_rtld_libname" data-ref-filename="_dl_rtld_libname">_dl_rtld_libname</a>;</td></tr>
<tr><th id="1490">1490</th><td>    }</td></tr>
<tr><th id="1491">1491</th><td>  <b>else</b></td></tr>
<tr><th id="1492">1492</th><td>    <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((_rtld_local._dl_rtld_map.l_libname) ? 1 : 0), __extension__ ({ if (_rtld_local._dl_rtld_map.l_libname) ; else __assert_fail (&quot;GL(dl_rtld_map).l_libname&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 1492, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_libname" title='link_map::l_libname' data-ref="link_map::l_libname" data-ref-filename="link_map..l_libname">l_libname</a>); <i>/* How else did we get here?  */</i></td></tr>
<tr><th id="1493">1493</th><td></td></tr>
<tr><th id="1494">1494</th><td>  <i>/* If the current libname is different from the SONAME, add the</i></td></tr>
<tr><th id="1495">1495</th><td><i>     latter as well.  */</i></td></tr>
<tr><th id="1496">1496</th><td>  <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#866" title="14" data-ref="_M/DT_SONAME">DT_SONAME</a>] != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span></td></tr>
<tr><th id="1497">1497</th><td>      &amp;&amp; <a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_libname" title='link_map::l_libname' data-ref="link_map::l_libname" data-ref-filename="link_map..l_libname">l_libname</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::name" title='libname_list::name' data-ref="libname_list::name" data-ref-filename="libname_list..name">name</a>,</td></tr>
<tr><th id="1498">1498</th><td>		 (<em>const</em> <em>char</em> *) <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#80" title="(&amp;_rtld_local._dl_rtld_map)-&gt;l_info[5]-&gt;d_un.d_ptr" data-ref="_M/D_PTR">D_PTR</a> (&amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map), <a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#857" title="5" data-ref="_M/DT_STRTAB">DT_STRTAB</a>])</td></tr>
<tr><th id="1499">1499</th><td>		 + <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#866" title="14" data-ref="_M/DT_SONAME">DT_SONAME</a>]-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_val" title='(anonymous struct)::(anonymous union)::d_val' data-ref="(anonymousstruct)::(anonymous)::d_val" data-ref-filename="(anonymousstruct)..(anonymous)..d_val">d_val</a>) != <var>0</var>)</td></tr>
<tr><th id="1500">1500</th><td>    {</td></tr>
<tr><th id="1501">1501</th><td>      <em>static</em> <b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#libname_list" title='libname_list' data-ref="libname_list" data-ref-filename="libname_list">libname_list</a> <dfn class="local col0 decl" id="140newname" title='newname' data-type='struct libname_list' data-ref="140newname" data-ref-filename="140newname">newname</dfn>;</td></tr>
<tr><th id="1502">1502</th><td>      <a class="local col0 ref" href="#140newname" title='newname' data-ref="140newname" data-ref-filename="140newname">newname</a>.<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::name" title='libname_list::name' data-ref="libname_list::name" data-ref-filename="libname_list..name">name</a> = ((<em>char</em> *) <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#80" title="(&amp;_rtld_local._dl_rtld_map)-&gt;l_info[5]-&gt;d_un.d_ptr" data-ref="_M/D_PTR">D_PTR</a> (&amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map), <a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#857" title="5" data-ref="_M/DT_STRTAB">DT_STRTAB</a>])</td></tr>
<tr><th id="1503">1503</th><td>		      + <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#866" title="14" data-ref="_M/DT_SONAME">DT_SONAME</a>]-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_ptr" title='(anonymous struct)::(anonymous union)::d_ptr' data-ref="(anonymousstruct)::(anonymous)::d_ptr" data-ref-filename="(anonymousstruct)..(anonymous)..d_ptr">d_ptr</a>);</td></tr>
<tr><th id="1504">1504</th><td>      <a class="local col0 ref" href="#140newname" title='newname' data-ref="140newname" data-ref-filename="140newname">newname</a>.<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::next" title='libname_list::next' data-ref="libname_list::next" data-ref-filename="libname_list..next">next</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1505">1505</th><td>      <a class="local col0 ref" href="#140newname" title='newname' data-ref="140newname" data-ref-filename="140newname">newname</a>.<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::dont_free" title='libname_list::dont_free' data-ref="libname_list::dont_free" data-ref-filename="libname_list..dont_free">dont_free</a> = <var>1</var>;</td></tr>
<tr><th id="1506">1506</th><td></td></tr>
<tr><th id="1507">1507</th><td>      <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((_rtld_local._dl_rtld_map.l_libname-&gt;next == ((void*)0)) ? 1 : 0), __extension__ ({ if (_rtld_local._dl_rtld_map.l_libname-&gt;next == ((void*)0)) ; else __assert_fail (&quot;GL(dl_rtld_map).l_libname-&gt;next == NULL&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 1507, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_libname" title='link_map::l_libname' data-ref="link_map::l_libname" data-ref-filename="link_map..l_libname">l_libname</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::next" title='libname_list::next' data-ref="libname_list::next" data-ref-filename="libname_list..next">next</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1508">1508</th><td>      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_libname" title='link_map::l_libname' data-ref="link_map::l_libname" data-ref-filename="link_map..l_libname">l_libname</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::next" title='libname_list::next' data-ref="libname_list::next" data-ref-filename="libname_list..next">next</a> = &amp;<a class="local col0 ref" href="#140newname" title='newname' data-ref="140newname" data-ref-filename="140newname">newname</a>;</td></tr>
<tr><th id="1509">1509</th><td>    }</td></tr>
<tr><th id="1510">1510</th><td>  <i>/* The ld.so must be relocated since otherwise loading audit modules</i></td></tr>
<tr><th id="1511">1511</th><td><i>     will fail since they reuse the very same ld.so.  */</i></td></tr>
<tr><th id="1512">1512</th><td>  <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((_rtld_local._dl_rtld_map.l_relocated) ? 1 : 0), __extension__ ({ if (_rtld_local._dl_rtld_map.l_relocated) ; else __assert_fail (&quot;GL(dl_rtld_map).l_relocated&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 1512, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_relocated" title='link_map::l_relocated' data-ref="link_map::l_relocated" data-ref-filename="link_map..l_relocated">l_relocated</a>);</td></tr>
<tr><th id="1513">1513</th><td></td></tr>
<tr><th id="1514">1514</th><td>  <b>if</b> (! <a class="local col8 ref" href="#128rtld_is_main" title='rtld_is_main' data-ref="128rtld_is_main" data-ref-filename="128rtld_is_main">rtld_is_main</a>)</td></tr>
<tr><th id="1515">1515</th><td>    {</td></tr>
<tr><th id="1516">1516</th><td>      <i>/* Extract the contents of the dynamic section for easy access.  */</i></td></tr>
<tr><th id="1517">1517</th><td>      <a class="ref fn" href="get-dynamic-info.h.html#elf_get_dynamic_info" title='elf_get_dynamic_info' data-ref="elf_get_dynamic_info" data-ref-filename="elf_get_dynamic_info">elf_get_dynamic_info</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1518">1518</th><td>      <i>/* Set up our cache of pointers into the hash table.  */</i></td></tr>
<tr><th id="1519">1519</th><td>      <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_setup_hash" title='_dl_setup_hash' data-ref="_dl_setup_hash" data-ref-filename="_dl_setup_hash">_dl_setup_hash</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>);</td></tr>
<tr><th id="1520">1520</th><td>    }</td></tr>
<tr><th id="1521">1521</th><td></td></tr>
<tr><th id="1522">1522</th><td>  <b>if</b> (<a class="ref fn" href="#168" title='__builtin_expect' data-ref="__builtin_expect" data-ref-filename="__builtin_expect">__builtin_expect</a> (<a class="local col1 ref" href="#121mode" title='mode' data-ref="121mode" data-ref-filename="121mode">mode</a>, <a class="enum" href="#normal" title='normal' data-ref="normal" data-ref-filename="normal">normal</a>) == <a class="enum" href="#verify" title='verify' data-ref="verify" data-ref-filename="verify">verify</a>)</td></tr>
<tr><th id="1523">1523</th><td>    {</td></tr>
<tr><th id="1524">1524</th><td>      <i>/* We were called just to verify that this is a dynamic</i></td></tr>
<tr><th id="1525">1525</th><td><i>	 executable using us as the program interpreter.  Exit with an</i></td></tr>
<tr><th id="1526">1526</th><td><i>	 error if we were not able to load the binary or no interpreter</i></td></tr>
<tr><th id="1527">1527</th><td><i>	 is specified (i.e., this is no dynamically linked binary.  */</i></td></tr>
<tr><th id="1528">1528</th><td>      <b>if</b> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_ld" title='link_map::l_ld' data-ref="link_map::l_ld" data-ref-filename="link_map..l_ld">l_ld</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1529">1529</th><td>	<a class="macro" href="#99" title="exit_internal" data-ref="_M/_exit">_exit</a> (<var>1</var>);</td></tr>
<tr><th id="1530">1530</th><td></td></tr>
<tr><th id="1531">1531</th><td>      <i>/* We allow here some platform specific code.  */</i></td></tr>
<tr><th id="1532">1532</th><td><u>#<span data-ppcond="1532">ifdef</span> <span class="macro" data-ref="_M/DISTINGUISH_LIB_VERSIONS">DISTINGUISH_LIB_VERSIONS</span></u></td></tr>
<tr><th id="1533">1533</th><td>      DISTINGUISH_LIB_VERSIONS;</td></tr>
<tr><th id="1534">1534</th><td><u>#<span data-ppcond="1532">endif</span></u></td></tr>
<tr><th id="1535">1535</th><td>      <a class="macro" href="#99" title="exit_internal" data-ref="_M/_exit">_exit</a> (<a class="local col5 ref" href="#125has_interp" title='has_interp' data-ref="125has_interp" data-ref-filename="125has_interp">has_interp</a> ? <var>0</var> : <var>2</var>);</td></tr>
<tr><th id="1536">1536</th><td>    }</td></tr>
<tr><th id="1537">1537</th><td></td></tr>
<tr><th id="1538">1538</th><td>  <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> **<dfn class="local col1 decl" id="141first_preload" title='first_preload' data-type='struct link_map **' data-ref="141first_preload" data-ref-filename="141first_preload">first_preload</dfn> = &amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>;</td></tr>
<tr><th id="1539">1539</th><td>  <i>/* Set up the data structures for the system-supplied DSO early,</i></td></tr>
<tr><th id="1540">1540</th><td><i>     so they can influence _dl_init_paths.  */</i></td></tr>
<tr><th id="1541">1541</th><td>  <a class="ref fn" href="setup-vdso.h.html#setup_vdso" title='setup_vdso' data-ref="setup_vdso" data-ref-filename="setup_vdso">setup_vdso</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>, &amp;<a class="local col1 ref" href="#141first_preload" title='first_preload' data-ref="141first_preload" data-ref-filename="141first_preload">first_preload</a>);</td></tr>
<tr><th id="1542">1542</th><td></td></tr>
<tr><th id="1543">1543</th><td>  <i>/* With vDSO setup we can initialize the function pointers.  */</i></td></tr>
<tr><th id="1544">1544</th><td>  <a class="ref fn" href="../sysdeps/unix/sysv/linux/dl-vdso-setup.h.html#setup_vdso_pointers" title='setup_vdso_pointers' data-ref="setup_vdso_pointers" data-ref-filename="setup_vdso_pointers">setup_vdso_pointers</a> ();</td></tr>
<tr><th id="1545">1545</th><td></td></tr>
<tr><th id="1546">1546</th><td><u>#<span data-ppcond="1546">ifdef</span> <a class="macro" href="../sysdeps/unix/sysv/linux/dl-osinfo.h.html#29" data-ref="_M/DL_SYSDEP_OSCHECK">DL_SYSDEP_OSCHECK</a></u></td></tr>
<tr><th id="1547">1547</th><td>  <a class="macro" href="../sysdeps/unix/sysv/linux/dl-osinfo.h.html#29" title="do { int version = _dl_discover_osversion (); if (__builtin_expect ((version &gt;= 0), 1)) { if (__builtin_expect (_rtld_local_ro._dl_osversion == 0, 1) || _rtld_local_ro._dl_osversion &gt; version) _rtld_local_ro._dl_osversion = version; if ((3 * 65536 + 2 * 256 + 0) &gt; 0 &amp;&amp; version &lt; (3 * 65536 + 2 * 256 + 0)) do { _dl_dprintf (2, &quot;FATAL: kernel too old\n&quot;); exit_internal (127); } while (1); } else if ((3 * 65536 + 2 * 256 + 0) &gt; 0) do { _dl_dprintf (2, &quot;FATAL: cannot determine kernel version\n&quot;); exit_internal (127); } while (1); } while (0)" data-ref="_M/DL_SYSDEP_OSCHECK">DL_SYSDEP_OSCHECK</a> (_dl_fatal_printf);</td></tr>
<tr><th id="1548">1548</th><td><u>#<span data-ppcond="1546">endif</span></u></td></tr>
<tr><th id="1549">1549</th><td></td></tr>
<tr><th id="1550">1550</th><td>  <i>/* Initialize the data structures for the search paths for shared</i></td></tr>
<tr><th id="1551">1551</th><td><i>     objects.  */</i></td></tr>
<tr><th id="1552">1552</th><td>  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_init_paths" title='_dl_init_paths' data-ref="_dl_init_paths" data-ref-filename="_dl_init_paths">_dl_init_paths</a> (<a class="tu ref" href="#library_path" title='library_path' data-use='r' data-ref="library_path" data-ref-filename="library_path">library_path</a>);</td></tr>
<tr><th id="1553">1553</th><td></td></tr>
<tr><th id="1554">1554</th><td>  <i>/* Initialize _r_debug.  */</i></td></tr>
<tr><th id="1555">1555</th><td>  <b>struct</b> <a class="type" href="link.h.html#r_debug" title='r_debug' data-ref="r_debug" data-ref-filename="r_debug">r_debug</a> *<dfn class="local col2 decl" id="142r" title='r' data-type='struct r_debug *' data-ref="142r" data-ref-filename="142r">r</dfn> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_debug_initialize" title='_dl_debug_initialize' data-ref="_dl_debug_initialize" data-ref-filename="_dl_debug_initialize">_dl_debug_initialize</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a>,</td></tr>
<tr><th id="1556">1556</th><td>					    <a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>);</td></tr>
<tr><th id="1557">1557</th><td>  <a class="local col2 ref" href="#142r" title='r' data-ref="142r" data-ref-filename="142r">r</a>-&gt;<a class="ref field" href="link.h.html#r_debug::r_state" title='r_debug::r_state' data-ref="r_debug::r_state" data-ref-filename="r_debug..r_state">r_state</a> = <a class="enum" href="link.h.html#r_debug::RT_CONSISTENT" title='r_debug::RT_CONSISTENT' data-ref="r_debug::RT_CONSISTENT" data-ref-filename="r_debug..RT_CONSISTENT">RT_CONSISTENT</a>;</td></tr>
<tr><th id="1558">1558</th><td></td></tr>
<tr><th id="1559">1559</th><td>  <i>/* Put the link_map for ourselves on the chain so it can be found by</i></td></tr>
<tr><th id="1560">1560</th><td><i>     name.  Note that at this point the global chain of link maps contains</i></td></tr>
<tr><th id="1561">1561</th><td><i>     exactly one element, which is pointed to by dl_loaded.  */</i></td></tr>
<tr><th id="1562">1562</th><td>  <b>if</b> (! <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_name" title='link_map::l_name' data-ref="link_map::l_name" data-ref-filename="link_map..l_name">l_name</a>)</td></tr>
<tr><th id="1563">1563</th><td>    <i>/* If not invoked directly, the dynamic linker shared object file was</i></td></tr>
<tr><th id="1564">1564</th><td><i>       found by the PT_INTERP name.  */</i></td></tr>
<tr><th id="1565">1565</th><td>    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_name" title='link_map::l_name' data-ref="link_map::l_name" data-ref-filename="link_map..l_name">l_name</a> = (<em>char</em> *) <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_libname" title='link_map::l_libname' data-ref="link_map::l_libname" data-ref-filename="link_map..l_libname">l_libname</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::name" title='libname_list::name' data-ref="libname_list::name" data-ref-filename="libname_list..name">name</a>;</td></tr>
<tr><th id="1566">1566</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_type" title='link_map::l_type' data-ref="link_map::l_type" data-ref-filename="link_map..l_type">l_type</a> = <a class="enum" href="../include/link.h.html#link_map::lt_library" title='link_map::lt_library' data-ref="link_map::lt_library" data-ref-filename="link_map..lt_library">lt_library</a>;</td></tr>
<tr><th id="1567">1567</th><td>  <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a> = &amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map);</td></tr>
<tr><th id="1568">1568</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_prev" title='link_map::l_prev' data-ref="link_map::l_prev" data-ref-filename="link_map..l_prev">l_prev</a> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>;</td></tr>
<tr><th id="1569">1569</th><td>  ++<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_nloaded" title='link_namespaces::_ns_nloaded' data-ref="link_namespaces::_ns_nloaded" data-ref-filename="link_namespaces.._ns_nloaded">_ns_nloaded</a>;</td></tr>
<tr><th id="1570">1570</th><td>  ++<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_load_adds" data-ref="_M/GL">GL</a>(dl_load_adds);</td></tr>
<tr><th id="1571">1571</th><td></td></tr>
<tr><th id="1572">1572</th><td>  <i>/* If LD_USE_LOAD_BIAS env variable has not been seen, default</i></td></tr>
<tr><th id="1573">1573</th><td><i>     to not using bias for non-prelinked PIEs and libraries</i></td></tr>
<tr><th id="1574">1574</th><td><i>     and using it for executables or prelinked PIEs or libraries.  */</i></td></tr>
<tr><th id="1575">1575</th><td>  <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_use_load_bias" data-ref="_M/GLRO">GLRO</a>(dl_use_load_bias) == (<a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr)) -<var>2</var>)</td></tr>
<tr><th id="1576">1576</th><td>    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_use_load_bias" data-ref="_M/GLRO">GLRO</a>(dl_use_load_bias) = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a> == <var>0</var> ? -<var>1</var> : <var>0</var>;</td></tr>
<tr><th id="1577">1577</th><td></td></tr>
<tr><th id="1578">1578</th><td>  <i>/* Set up the program header information for the dynamic linker</i></td></tr>
<tr><th id="1579">1579</th><td><i>     itself.  It is needed in the dl_iterate_phdr callbacks.  */</i></td></tr>
<tr><th id="1580">1580</th><td>  <em>const</em> <a class="macro" href="link.h.html#30" title="Elf64_Ehdr" data-ref="_M/ElfW">ElfW</a>(Ehdr) *<dfn class="local col3 decl" id="143rtld_ehdr" title='rtld_ehdr' data-type='const Elf64_Ehdr *' data-ref="143rtld_ehdr" data-ref-filename="143rtld_ehdr">rtld_ehdr</dfn>;</td></tr>
<tr><th id="1581">1581</th><td></td></tr>
<tr><th id="1582">1582</th><td>  <i>/* Starting from binutils-2.23, the linker will define the magic symbol</i></td></tr>
<tr><th id="1583">1583</th><td><i>     __ehdr_start to point to our own ELF header if it is visible in a</i></td></tr>
<tr><th id="1584">1584</th><td><i>     segment that also includes the phdrs.  If that's not available, we use</i></td></tr>
<tr><th id="1585">1585</th><td><i>     the old method that assumes the beginning of the file is part of the</i></td></tr>
<tr><th id="1586">1586</th><td><i>     lowest-addressed PT_LOAD segment.  */</i></td></tr>
<tr><th id="1587">1587</th><td><u>#<span data-ppcond="1587">ifdef</span> <span class="macro" data-ref="_M/HAVE_EHDR_START">HAVE_EHDR_START</span></u></td></tr>
<tr><th id="1588">1588</th><td>  <b>extern</b> <em>const</em> <a class="macro" href="link.h.html#30" title="Elf64_Ehdr" data-ref="_M/ElfW">ElfW</a>(Ehdr) <dfn class="decl" id="__ehdr_start" title='__ehdr_start' data-ref="__ehdr_start" data-ref-filename="__ehdr_start">__ehdr_start</dfn> <b>__attribute__</b> ((visibility (<q>"hidden"</q>)));</td></tr>
<tr><th id="1589">1589</th><td>  <a class="local col3 ref" href="#143rtld_ehdr" title='rtld_ehdr' data-ref="143rtld_ehdr" data-ref-filename="143rtld_ehdr">rtld_ehdr</a> = &amp;<a class="ref" href="#__ehdr_start" title='__ehdr_start' data-ref="__ehdr_start" data-ref-filename="__ehdr_start">__ehdr_start</a>;</td></tr>
<tr><th id="1590">1590</th><td><u>#<span data-ppcond="1587">else</span></u></td></tr>
<tr><th id="1591">1591</th><td>  rtld_ehdr = (<em>void</em> *) GL(dl_rtld_map).l_map_start;</td></tr>
<tr><th id="1592">1592</th><td><u>#<span data-ppcond="1587">endif</span></u></td></tr>
<tr><th id="1593">1593</th><td>  <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((rtld_ehdr-&gt;e_ehsize == sizeof *rtld_ehdr) ? 1 : 0), __extension__ ({ if (rtld_ehdr-&gt;e_ehsize == sizeof *rtld_ehdr) ; else __assert_fail (&quot;rtld_ehdr-&gt;e_ehsize == sizeof *rtld_ehdr&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 1593, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="local col3 ref" href="#143rtld_ehdr" title='rtld_ehdr' data-ref="143rtld_ehdr" data-ref-filename="143rtld_ehdr">rtld_ehdr</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::e_ehsize" title='(anonymous struct)::e_ehsize' data-ref="(anonymous)::e_ehsize" data-ref-filename="(anonymous)..e_ehsize">e_ehsize</a> == <b>sizeof</b> *<a class="local col3 ref" href="#143rtld_ehdr" title='rtld_ehdr' data-ref="143rtld_ehdr" data-ref-filename="143rtld_ehdr">rtld_ehdr</a>);</td></tr>
<tr><th id="1594">1594</th><td>  <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((rtld_ehdr-&gt;e_phentsize == sizeof (Elf64_Phdr)) ? 1 : 0), __extension__ ({ if (rtld_ehdr-&gt;e_phentsize == sizeof (Elf64_Phdr)) ; else __assert_fail (&quot;rtld_ehdr-&gt;e_phentsize == sizeof (ElfW(Phdr))&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 1594, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="local col3 ref" href="#143rtld_ehdr" title='rtld_ehdr' data-ref="143rtld_ehdr" data-ref-filename="143rtld_ehdr">rtld_ehdr</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::e_phentsize" title='(anonymous struct)::e_phentsize' data-ref="(anonymous)::e_phentsize" data-ref-filename="(anonymous)..e_phentsize">e_phentsize</a> == <b>sizeof</b> (<a class="macro" href="link.h.html#30" title="Elf64_Phdr" data-ref="_M/ElfW">ElfW</a>(Phdr)));</td></tr>
<tr><th id="1595">1595</th><td></td></tr>
<tr><th id="1596">1596</th><td>  <em>const</em> <a class="macro" href="link.h.html#30" title="Elf64_Phdr" data-ref="_M/ElfW">ElfW</a>(Phdr) *<dfn class="local col4 decl" id="144rtld_phdr" title='rtld_phdr' data-type='const Elf64_Phdr *' data-ref="144rtld_phdr" data-ref-filename="144rtld_phdr">rtld_phdr</dfn> = (<em>const</em> <em>void</em> *) <a class="local col3 ref" href="#143rtld_ehdr" title='rtld_ehdr' data-ref="143rtld_ehdr" data-ref-filename="143rtld_ehdr">rtld_ehdr</a> + <a class="local col3 ref" href="#143rtld_ehdr" title='rtld_ehdr' data-ref="143rtld_ehdr" data-ref-filename="143rtld_ehdr">rtld_ehdr</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::e_phoff" title='(anonymous struct)::e_phoff' data-ref="(anonymous)::e_phoff" data-ref-filename="(anonymous)..e_phoff">e_phoff</a>;</td></tr>
<tr><th id="1597">1597</th><td></td></tr>
<tr><th id="1598">1598</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_phdr" title='link_map::l_phdr' data-ref="link_map::l_phdr" data-ref-filename="link_map..l_phdr">l_phdr</a> = <a class="local col4 ref" href="#144rtld_phdr" title='rtld_phdr' data-ref="144rtld_phdr" data-ref-filename="144rtld_phdr">rtld_phdr</a>;</td></tr>
<tr><th id="1599">1599</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_phnum" title='link_map::l_phnum' data-ref="link_map::l_phnum" data-ref-filename="link_map..l_phnum">l_phnum</a> = <a class="local col3 ref" href="#143rtld_ehdr" title='rtld_ehdr' data-ref="143rtld_ehdr" data-ref-filename="143rtld_ehdr">rtld_ehdr</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::e_phnum" title='(anonymous struct)::e_phnum' data-ref="(anonymous)::e_phnum" data-ref-filename="(anonymous)..e_phnum">e_phnum</a>;</td></tr>
<tr><th id="1600">1600</th><td></td></tr>
<tr><th id="1601">1601</th><td></td></tr>
<tr><th id="1602">1602</th><td>  <i>/* PT_GNU_RELRO is usually the last phdr.  */</i></td></tr>
<tr><th id="1603">1603</th><td>  <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col5 decl" id="145cnt" title='cnt' data-type='size_t' data-ref="145cnt" data-ref-filename="145cnt">cnt</dfn> = <a class="local col3 ref" href="#143rtld_ehdr" title='rtld_ehdr' data-ref="143rtld_ehdr" data-ref-filename="143rtld_ehdr">rtld_ehdr</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::e_phnum" title='(anonymous struct)::e_phnum' data-ref="(anonymous)::e_phnum" data-ref-filename="(anonymous)..e_phnum">e_phnum</a>;</td></tr>
<tr><th id="1604">1604</th><td>  <b>while</b> (<a class="local col5 ref" href="#145cnt" title='cnt' data-ref="145cnt" data-ref-filename="145cnt">cnt</a>-- &gt; <var>0</var>)</td></tr>
<tr><th id="1605">1605</th><td>    <b>if</b> (<a class="local col4 ref" href="#144rtld_phdr" title='rtld_phdr' data-ref="144rtld_phdr" data-ref-filename="144rtld_phdr">rtld_phdr</a>[<a class="local col5 ref" href="#145cnt" title='cnt' data-ref="145cnt" data-ref-filename="145cnt">cnt</a>].<a class="ref field" href="elf.h.html#(anonymous)::p_type" title='(anonymous struct)::p_type' data-ref="(anonymous)::p_type" data-ref-filename="(anonymous)..p_type">p_type</a> == <a class="macro" href="elf.h.html#723" title="0x6474e552" data-ref="_M/PT_GNU_RELRO">PT_GNU_RELRO</a>)</td></tr>
<tr><th id="1606">1606</th><td>      {</td></tr>
<tr><th id="1607">1607</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_relro_addr" title='link_map::l_relro_addr' data-ref="link_map::l_relro_addr" data-ref-filename="link_map..l_relro_addr">l_relro_addr</a> = <a class="local col4 ref" href="#144rtld_phdr" title='rtld_phdr' data-ref="144rtld_phdr" data-ref-filename="144rtld_phdr">rtld_phdr</a>[<a class="local col5 ref" href="#145cnt" title='cnt' data-ref="145cnt" data-ref-filename="145cnt">cnt</a>].<a class="ref field" href="elf.h.html#(anonymous)::p_vaddr" title='(anonymous struct)::p_vaddr' data-ref="(anonymous)::p_vaddr" data-ref-filename="(anonymous)..p_vaddr">p_vaddr</a>;</td></tr>
<tr><th id="1608">1608</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_relro_size" title='link_map::l_relro_size' data-ref="link_map::l_relro_size" data-ref-filename="link_map..l_relro_size">l_relro_size</a> = <a class="local col4 ref" href="#144rtld_phdr" title='rtld_phdr' data-ref="144rtld_phdr" data-ref-filename="144rtld_phdr">rtld_phdr</a>[<a class="local col5 ref" href="#145cnt" title='cnt' data-ref="145cnt" data-ref-filename="145cnt">cnt</a>].<a class="ref field" href="elf.h.html#(anonymous)::p_memsz" title='(anonymous struct)::p_memsz' data-ref="(anonymous)::p_memsz" data-ref-filename="(anonymous)..p_memsz">p_memsz</a>;</td></tr>
<tr><th id="1609">1609</th><td>	<b>break</b>;</td></tr>
<tr><th id="1610">1610</th><td>      }</td></tr>
<tr><th id="1611">1611</th><td></td></tr>
<tr><th id="1612">1612</th><td>  <i>/* Add the dynamic linker to the TLS list if it also uses TLS.  */</i></td></tr>
<tr><th id="1613">1613</th><td>  <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_tls_blocksize" title='link_map::l_tls_blocksize' data-ref="link_map::l_tls_blocksize" data-ref-filename="link_map..l_tls_blocksize">l_tls_blocksize</a> != <var>0</var>)</td></tr>
<tr><th id="1614">1614</th><td>    <i>/* Assign a module ID.  Do this before loading any audit modules.  */</i></td></tr>
<tr><th id="1615">1615</th><td>    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_tls_modid" title='link_map::l_tls_modid' data-ref="link_map::l_tls_modid" data-ref-filename="link_map..l_tls_modid">l_tls_modid</a> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_next_tls_modid" title='_dl_next_tls_modid' data-ref="_dl_next_tls_modid" data-ref-filename="_dl_next_tls_modid">_dl_next_tls_modid</a> ();</td></tr>
<tr><th id="1616">1616</th><td></td></tr>
<tr><th id="1617">1617</th><td>  <i>/* If we have auditing DSOs to load, do it now.  */</i></td></tr>
<tr><th id="1618">1618</th><td>  <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col6 decl" id="146need_security_init" title='need_security_init' data-type='_Bool' data-ref="146need_security_init" data-ref-filename="146need_security_init">need_security_init</dfn> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="1619">1619</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((audit_list != ((void*)0)), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="tu ref" href="#audit_list" title='audit_list' data-use='r' data-ref="audit_list" data-ref-filename="audit_list">audit_list</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1620">1620</th><td>      || <a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((audit_list_string != ((void*)0)), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="ref" href="#audit_list_string" title='audit_list_string' data-ref="audit_list_string" data-ref-filename="audit_list_string">audit_list_string</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>))</td></tr>
<tr><th id="1621">1621</th><td>    {</td></tr>
<tr><th id="1622">1622</th><td>      <i>/* Since we start using the auditing DSOs right away we need to</i></td></tr>
<tr><th id="1623">1623</th><td><i>	 initialize the data structures now.  */</i></td></tr>
<tr><th id="1624">1624</th><td>      <a class="local col9 ref" href="#129tcbp" title='tcbp' data-ref="129tcbp" data-ref-filename="129tcbp">tcbp</a> = <a class="tu ref fn" href="#init_tls" title='init_tls' data-use='c' data-ref="init_tls" data-ref-filename="init_tls">init_tls</a> ();</td></tr>
<tr><th id="1625">1625</th><td></td></tr>
<tr><th id="1626">1626</th><td>      <i>/* Initialize security features.  We need to do it this early</i></td></tr>
<tr><th id="1627">1627</th><td><i>	 since otherwise the constructors of the audit libraries will</i></td></tr>
<tr><th id="1628">1628</th><td><i>	 use different values (especially the pointer guard) and will</i></td></tr>
<tr><th id="1629">1629</th><td><i>	 fail later on.  */</i></td></tr>
<tr><th id="1630">1630</th><td>      <a class="tu ref fn" href="#security_init" title='security_init' data-use='c' data-ref="security_init" data-ref-filename="security_init">security_init</a> ();</td></tr>
<tr><th id="1631">1631</th><td>      <a class="local col6 ref" href="#146need_security_init" title='need_security_init' data-ref="146need_security_init" data-ref-filename="146need_security_init">need_security_init</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1632">1632</th><td></td></tr>
<tr><th id="1633">1633</th><td>      <a class="tu ref fn" href="#load_audit_modules" title='load_audit_modules' data-use='c' data-ref="load_audit_modules" data-ref-filename="load_audit_modules">load_audit_modules</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>);</td></tr>
<tr><th id="1634">1634</th><td>    }</td></tr>
<tr><th id="1635">1635</th><td></td></tr>
<tr><th id="1636">1636</th><td>  <i>/* Keep track of the currently loaded modules to count how many</i></td></tr>
<tr><th id="1637">1637</th><td><i>     non-audit modules which use TLS are loaded.  */</i></td></tr>
<tr><th id="1638">1638</th><td>  <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col7 decl" id="147count_modids" title='count_modids' data-type='size_t' data-ref="147count_modids" data-ref-filename="147count_modids">count_modids</dfn> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_count_modids" title='_dl_count_modids' data-ref="_dl_count_modids" data-ref-filename="_dl_count_modids">_dl_count_modids</a> ();</td></tr>
<tr><th id="1639">1639</th><td></td></tr>
<tr><th id="1640">1640</th><td>  <i>/* Set up debugging before the debugger is notified for the first time.  */</i></td></tr>
<tr><th id="1641">1641</th><td><u>#<span data-ppcond="1641">ifdef</span> <span class="macro" data-ref="_M/ELF_MACHINE_DEBUG_SETUP">ELF_MACHINE_DEBUG_SETUP</span></u></td></tr>
<tr><th id="1642">1642</th><td>  <i>/* Some machines (e.g. MIPS) don't use DT_DEBUG in this way.  */</i></td></tr>
<tr><th id="1643">1643</th><td>  ELF_MACHINE_DEBUG_SETUP (main_map, r);</td></tr>
<tr><th id="1644">1644</th><td>  ELF_MACHINE_DEBUG_SETUP (&amp;GL(dl_rtld_map), r);</td></tr>
<tr><th id="1645">1645</th><td><u>#<span data-ppcond="1641">else</span></u></td></tr>
<tr><th id="1646">1646</th><td>  <b>if</b> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#873" title="21" data-ref="_M/DT_DEBUG">DT_DEBUG</a>] != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1647">1647</th><td>    <i>/* There is a DT_DEBUG entry in the dynamic section.  Fill it in</i></td></tr>
<tr><th id="1648">1648</th><td><i>       with the run-time address of the r_debug structure  */</i></td></tr>
<tr><th id="1649">1649</th><td>    <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#873" title="21" data-ref="_M/DT_DEBUG">DT_DEBUG</a>]-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_ptr" title='(anonymous struct)::(anonymous union)::d_ptr' data-ref="(anonymousstruct)::(anonymous)::d_ptr" data-ref-filename="(anonymousstruct)..(anonymous)..d_ptr">d_ptr</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr)) <a class="local col2 ref" href="#142r" title='r' data-ref="142r" data-ref-filename="142r">r</a>;</td></tr>
<tr><th id="1650">1650</th><td></td></tr>
<tr><th id="1651">1651</th><td>  <i>/* Fill in the pointer in the dynamic linker's own dynamic section, in</i></td></tr>
<tr><th id="1652">1652</th><td><i>     case you run gdb on the dynamic linker directly.  */</i></td></tr>
<tr><th id="1653">1653</th><td>  <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#873" title="21" data-ref="_M/DT_DEBUG">DT_DEBUG</a>] != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1654">1654</th><td>    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#873" title="21" data-ref="_M/DT_DEBUG">DT_DEBUG</a>]-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_ptr" title='(anonymous struct)::(anonymous union)::d_ptr' data-ref="(anonymousstruct)::(anonymous)::d_ptr" data-ref-filename="(anonymousstruct)..(anonymous)..d_ptr">d_ptr</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr)) <a class="local col2 ref" href="#142r" title='r' data-ref="142r" data-ref-filename="142r">r</a>;</td></tr>
<tr><th id="1655">1655</th><td><u>#<span data-ppcond="1641">endif</span></u></td></tr>
<tr><th id="1656">1656</th><td></td></tr>
<tr><th id="1657">1657</th><td>  <i>/* We start adding objects.  */</i></td></tr>
<tr><th id="1658">1658</th><td>  <a class="local col2 ref" href="#142r" title='r' data-ref="142r" data-ref-filename="142r">r</a>-&gt;<a class="ref field" href="link.h.html#r_debug::r_state" title='r_debug::r_state' data-ref="r_debug::r_state" data-ref-filename="r_debug..r_state">r_state</a> = <a class="enum" href="link.h.html#r_debug::RT_ADD" title='r_debug::RT_ADD' data-ref="r_debug::RT_ADD" data-ref-filename="r_debug..RT_ADD">RT_ADD</a>;</td></tr>
<tr><th id="1659">1659</th><td>  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#__GI__dl_debug_state" title='_dl_debug_state' data-ref="__GI__dl_debug_state" data-ref-filename="__GI__dl_debug_state">_dl_debug_state</a> ();</td></tr>
<tr><th id="1660">1660</th><td>  <a class="macro" href="../include/stap-probe.h.html#61" title="do {} while (0)" data-ref="_M/LIBC_PROBE">LIBC_PROBE</a> (init_start, <var>2</var>, <a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>, r);</td></tr>
<tr><th id="1661">1661</th><td></td></tr>
<tr><th id="1662">1662</th><td>  <i>/* Auditing checkpoint: we are ready to signal that the initial map</i></td></tr>
<tr><th id="1663">1663</th><td><i>     is being constructed.  */</i></td></tr>
<tr><th id="1664">1664</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((_rtld_local_ro._dl_naudit &gt; 0), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_naudit" data-ref="_M/GLRO">GLRO</a>(dl_naudit) &gt; <var>0</var>))</td></tr>
<tr><th id="1665">1665</th><td>    {</td></tr>
<tr><th id="1666">1666</th><td>      <b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces" title='audit_ifaces' data-ref="audit_ifaces" data-ref-filename="audit_ifaces">audit_ifaces</a> *<dfn class="local col8 decl" id="148afct" title='afct' data-type='struct audit_ifaces *' data-ref="148afct" data-ref-filename="148afct">afct</dfn> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_audit" data-ref="_M/GLRO">GLRO</a>(dl_audit);</td></tr>
<tr><th id="1667">1667</th><td>      <b>for</b> (<em>unsigned</em> <em>int</em> <dfn class="local col9 decl" id="149cnt" title='cnt' data-type='unsigned int' data-ref="149cnt" data-ref-filename="149cnt">cnt</dfn> = <var>0</var>; <a class="local col9 ref" href="#149cnt" title='cnt' data-ref="149cnt" data-ref-filename="149cnt">cnt</a> &lt; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_naudit" data-ref="_M/GLRO">GLRO</a>(dl_naudit); ++<a class="local col9 ref" href="#149cnt" title='cnt' data-ref="149cnt" data-ref-filename="149cnt">cnt</a>)</td></tr>
<tr><th id="1668">1668</th><td>	{</td></tr>
<tr><th id="1669">1669</th><td>	  <b>if</b> (<a class="local col8 ref" href="#148afct" title='afct' data-ref="148afct" data-ref-filename="148afct">afct</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces::activity" title='audit_ifaces::activity' data-ref="audit_ifaces::activity" data-ref-filename="audit_ifaces..activity">activity</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1670">1670</th><td>	    <a class="local col8 ref" href="#148afct" title='afct' data-ref="148afct" data-ref-filename="148afct">afct</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces::activity" title='audit_ifaces::activity' data-ref="audit_ifaces::activity" data-ref-filename="audit_ifaces..activity">activity</a> (&amp;<a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#link_map_audit_state" title='link_map_audit_state' data-ref="link_map_audit_state" data-ref-filename="link_map_audit_state">link_map_audit_state</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>, <a class="local col9 ref" href="#149cnt" title='cnt' data-ref="149cnt" data-ref-filename="149cnt">cnt</a>)-&gt;<a class="ref field" href="../include/link.h.html#auditstate::cookie" title='auditstate::cookie' data-ref="auditstate::cookie" data-ref-filename="auditstate..cookie">cookie</a>,</td></tr>
<tr><th id="1671">1671</th><td>			    <a class="enum" href="link.h.html#LA_ACT_ADD" title='LA_ACT_ADD' data-ref="LA_ACT_ADD" data-ref-filename="LA_ACT_ADD">LA_ACT_ADD</a>);</td></tr>
<tr><th id="1672">1672</th><td></td></tr>
<tr><th id="1673">1673</th><td>	  <a class="local col8 ref" href="#148afct" title='afct' data-ref="148afct" data-ref-filename="148afct">afct</a> = <a class="local col8 ref" href="#148afct" title='afct' data-ref="148afct" data-ref-filename="148afct">afct</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces::next" title='audit_ifaces::next' data-ref="audit_ifaces::next" data-ref-filename="audit_ifaces..next">next</a>;</td></tr>
<tr><th id="1674">1674</th><td>	}</td></tr>
<tr><th id="1675">1675</th><td>    }</td></tr>
<tr><th id="1676">1676</th><td></td></tr>
<tr><th id="1677">1677</th><td>  <i>/* We have two ways to specify objects to preload: via environment</i></td></tr>
<tr><th id="1678">1678</th><td><i>     variable and via the file /etc/ld.so.preload.  The latter can also</i></td></tr>
<tr><th id="1679">1679</th><td><i>     be used when security is enabled.  */</i></td></tr>
<tr><th id="1680">1680</th><td>  <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((*first_preload == ((void*)0)) ? 1 : 0), __extension__ ({ if (*first_preload == ((void*)0)) ; else __assert_fail (&quot;*first_preload == NULL&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 1680, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (*<a class="local col1 ref" href="#141first_preload" title='first_preload' data-ref="141first_preload" data-ref-filename="141first_preload">first_preload</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1681">1681</th><td>  <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> **<dfn class="local col0 decl" id="150preloads" title='preloads' data-type='struct link_map **' data-ref="150preloads" data-ref-filename="150preloads">preloads</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1682">1682</th><td>  <em>unsigned</em> <em>int</em> <dfn class="local col1 decl" id="151npreloads" title='npreloads' data-type='unsigned int' data-ref="151npreloads" data-ref-filename="151npreloads">npreloads</dfn> = <var>0</var>;</td></tr>
<tr><th id="1683">1683</th><td></td></tr>
<tr><th id="1684">1684</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((preloadlist != ((void*)0)), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="tu ref" href="#preloadlist" title='preloadlist' data-use='r' data-ref="preloadlist" data-ref-filename="preloadlist">preloadlist</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>))</td></tr>
<tr><th id="1685">1685</th><td>    {</td></tr>
<tr><th id="1686">1686</th><td>      <a class="macro" href="#59" title="hp_timing_t start" data-ref="_M/RTLD_TIMING_VAR">RTLD_TIMING_VAR</a> (<dfn class="local col2 decl" id="152start" title='start' data-type='hp_timing_t' data-ref="152start" data-ref-filename="152start">start</dfn>);</td></tr>
<tr><th id="1687">1687</th><td>      <a class="tu ref fn" href="#rtld_timer_start" title='rtld_timer_start' data-use='c' data-ref="rtld_timer_start" data-ref-filename="rtld_timer_start">rtld_timer_start</a> (&amp;<a class="local col2 ref" href="#1686" title='start' data-ref="152start" data-ref-filename="152start">start</a>);</td></tr>
<tr><th id="1688">1688</th><td>      <a class="local col1 ref" href="#151npreloads" title='npreloads' data-ref="151npreloads" data-ref-filename="151npreloads">npreloads</a> += <a class="ref fn" href="#handle_preload_list" title='handle_preload_list' data-ref="handle_preload_list" data-ref-filename="handle_preload_list">handle_preload_list</a> (<a class="tu ref" href="#preloadlist" title='preloadlist' data-use='r' data-ref="preloadlist" data-ref-filename="preloadlist">preloadlist</a>, <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>, <q>"LD_PRELOAD"</q>);</td></tr>
<tr><th id="1689">1689</th><td>      <a class="tu ref fn" href="#rtld_timer_accum" title='rtld_timer_accum' data-use='c' data-ref="rtld_timer_accum" data-ref-filename="rtld_timer_accum">rtld_timer_accum</a> (&amp;<a class="tu ref" href="#352" title='load_time' data-use='a' data-ref="load_time" data-ref-filename="load_time">load_time</a>, <a class="local col2 ref" href="#1686" title='start' data-ref="152start" data-ref-filename="152start">start</a>);</td></tr>
<tr><th id="1690">1690</th><td>    }</td></tr>
<tr><th id="1691">1691</th><td></td></tr>
<tr><th id="1692">1692</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((preloadarg != ((void*)0)), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="tu ref" href="#preloadarg" title='preloadarg' data-use='r' data-ref="preloadarg" data-ref-filename="preloadarg">preloadarg</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>))</td></tr>
<tr><th id="1693">1693</th><td>    {</td></tr>
<tr><th id="1694">1694</th><td>      <a class="macro" href="#59" title="hp_timing_t start" data-ref="_M/RTLD_TIMING_VAR">RTLD_TIMING_VAR</a> (<dfn class="local col3 decl" id="153start" title='start' data-type='hp_timing_t' data-ref="153start" data-ref-filename="153start">start</dfn>);</td></tr>
<tr><th id="1695">1695</th><td>      <a class="tu ref fn" href="#rtld_timer_start" title='rtld_timer_start' data-use='c' data-ref="rtld_timer_start" data-ref-filename="rtld_timer_start">rtld_timer_start</a> (&amp;<a class="local col3 ref" href="#1694" title='start' data-ref="153start" data-ref-filename="153start">start</a>);</td></tr>
<tr><th id="1696">1696</th><td>      <a class="local col1 ref" href="#151npreloads" title='npreloads' data-ref="151npreloads" data-ref-filename="151npreloads">npreloads</a> += <a class="ref fn" href="#handle_preload_list" title='handle_preload_list' data-ref="handle_preload_list" data-ref-filename="handle_preload_list">handle_preload_list</a> (<a class="tu ref" href="#preloadarg" title='preloadarg' data-use='r' data-ref="preloadarg" data-ref-filename="preloadarg">preloadarg</a>, <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>, <q>"--preload"</q>);</td></tr>
<tr><th id="1697">1697</th><td>      <a class="tu ref fn" href="#rtld_timer_accum" title='rtld_timer_accum' data-use='c' data-ref="rtld_timer_accum" data-ref-filename="rtld_timer_accum">rtld_timer_accum</a> (&amp;<a class="tu ref" href="#352" title='load_time' data-use='a' data-ref="load_time" data-ref-filename="load_time">load_time</a>, <a class="local col3 ref" href="#1694" title='start' data-ref="153start" data-ref-filename="153start">start</a>);</td></tr>
<tr><th id="1698">1698</th><td>    }</td></tr>
<tr><th id="1699">1699</th><td></td></tr>
<tr><th id="1700">1700</th><td>  <i>/* There usually is no ld.so.preload file, it should only be used</i></td></tr>
<tr><th id="1701">1701</th><td><i>     for emergencies and testing.  So the open call etc should usually</i></td></tr>
<tr><th id="1702">1702</th><td><i>     fail.  Using access() on a non-existing file is faster than using</i></td></tr>
<tr><th id="1703">1703</th><td><i>     open().  So we do this first.  If it succeeds we do almost twice</i></td></tr>
<tr><th id="1704">1704</th><td><i>     the work but this does not matter, since it is not for production</i></td></tr>
<tr><th id="1705">1705</th><td><i>     use.  */</i></td></tr>
<tr><th id="1706">1706</th><td>  <em>static</em> <em>const</em> <em>char</em> <dfn class="local col4 decl" id="154preload_file" title='preload_file' data-type='const char [19]' data-ref="154preload_file" data-ref-filename="154preload_file">preload_file</dfn>[] = <q>"/etc/ld.so.preload"</q>;</td></tr>
<tr><th id="1707">1707</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((__access (preload_file, 4) == 0), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="ref fn" href="../include/unistd.h.html#__access" title='__access' data-ref="__access" data-ref-filename="__access">__access</a> (<a class="local col4 ref" href="#154preload_file" title='preload_file' data-ref="154preload_file" data-ref-filename="154preload_file">preload_file</a>, <a class="macro" href="../posix/unistd.h.html#281" title="4" data-ref="_M/R_OK">R_OK</a>) == <var>0</var>))</td></tr>
<tr><th id="1708">1708</th><td>    {</td></tr>
<tr><th id="1709">1709</th><td>      <i>/* Read the contents of the file.  */</i></td></tr>
<tr><th id="1710">1710</th><td>      <a class="local col4 ref" href="#124file" title='file' data-ref="124file" data-ref-filename="124file">file</a> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_sysdep_read_whole_file" title='_dl_sysdep_read_whole_file' data-ref="_dl_sysdep_read_whole_file" data-ref-filename="_dl_sysdep_read_whole_file">_dl_sysdep_read_whole_file</a> (<a class="local col4 ref" href="#154preload_file" title='preload_file' data-ref="154preload_file" data-ref-filename="154preload_file">preload_file</a>, &amp;<a class="local col3 ref" href="#123file_size" title='file_size' data-ref="123file_size" data-ref-filename="123file_size">file_size</a>,</td></tr>
<tr><th id="1711">1711</th><td>					 <a class="macro" href="../sysdeps/unix/sysv/linux/bits/mman-linux.h.html#32" title="0x1" data-ref="_M/PROT_READ">PROT_READ</a> | <a class="macro" href="../sysdeps/unix/sysv/linux/bits/mman-linux.h.html#33" title="0x2" data-ref="_M/PROT_WRITE">PROT_WRITE</a>);</td></tr>
<tr><th id="1712">1712</th><td>      <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((file != ((void *) -1)), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="local col4 ref" href="#124file" title='file' data-ref="124file" data-ref-filename="124file">file</a> != <a class="macro" href="../misc/sys/mman.h.html#44" title="((void *) -1)" data-ref="_M/MAP_FAILED">MAP_FAILED</a>))</td></tr>
<tr><th id="1713">1713</th><td>	{</td></tr>
<tr><th id="1714">1714</th><td>	  <i>/* Parse the file.  It contains names of libraries to be loaded,</i></td></tr>
<tr><th id="1715">1715</th><td><i>	     separated by white spaces or `:'.  It may also contain</i></td></tr>
<tr><th id="1716">1716</th><td><i>	     comments introduced by `#'.  */</i></td></tr>
<tr><th id="1717">1717</th><td>	  <em>char</em> *<dfn class="local col5 decl" id="155problem" title='problem' data-type='char *' data-ref="155problem" data-ref-filename="155problem">problem</dfn>;</td></tr>
<tr><th id="1718">1718</th><td>	  <em>char</em> *<dfn class="local col6 decl" id="156runp" title='runp' data-type='char *' data-ref="156runp" data-ref-filename="156runp">runp</dfn>;</td></tr>
<tr><th id="1719">1719</th><td>	  <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col7 decl" id="157rest" title='rest' data-type='size_t' data-ref="157rest" data-ref-filename="157rest">rest</dfn>;</td></tr>
<tr><th id="1720">1720</th><td></td></tr>
<tr><th id="1721">1721</th><td>	  <i>/* Eliminate comments.  */</i></td></tr>
<tr><th id="1722">1722</th><td>	  <a class="local col6 ref" href="#156runp" title='runp' data-ref="156runp" data-ref-filename="156runp">runp</a> = <a class="local col4 ref" href="#124file" title='file' data-ref="124file" data-ref-filename="124file">file</a>;</td></tr>
<tr><th id="1723">1723</th><td>	  <a class="local col7 ref" href="#157rest" title='rest' data-ref="157rest" data-ref-filename="157rest">rest</a> = <a class="local col3 ref" href="#123file_size" title='file_size' data-ref="123file_size" data-ref-filename="123file_size">file_size</a>;</td></tr>
<tr><th id="1724">1724</th><td>	  <b>while</b> (<a class="local col7 ref" href="#157rest" title='rest' data-ref="157rest" data-ref-filename="157rest">rest</a> &gt; <var>0</var>)</td></tr>
<tr><th id="1725">1725</th><td>	    {</td></tr>
<tr><th id="1726">1726</th><td>	      <em>char</em> *<dfn class="local col8 decl" id="158comment" title='comment' data-type='char *' data-ref="158comment" data-ref-filename="158comment">comment</dfn> = <a class="ref fn" href="../string/string.h.html#memchr" title='memchr' data-ref="memchr" data-ref-filename="memchr">memchr</a> (<a class="local col6 ref" href="#156runp" title='runp' data-ref="156runp" data-ref-filename="156runp">runp</a>, <kbd>'#'</kbd>, <a class="local col7 ref" href="#157rest" title='rest' data-ref="157rest" data-ref-filename="157rest">rest</a>);</td></tr>
<tr><th id="1727">1727</th><td>	      <b>if</b> (<a class="local col8 ref" href="#158comment" title='comment' data-ref="158comment" data-ref-filename="158comment">comment</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1728">1728</th><td>		<b>break</b>;</td></tr>
<tr><th id="1729">1729</th><td></td></tr>
<tr><th id="1730">1730</th><td>	      <a class="local col7 ref" href="#157rest" title='rest' data-ref="157rest" data-ref-filename="157rest">rest</a> -= <a class="local col8 ref" href="#158comment" title='comment' data-ref="158comment" data-ref-filename="158comment">comment</a> - <a class="local col6 ref" href="#156runp" title='runp' data-ref="156runp" data-ref-filename="156runp">runp</a>;</td></tr>
<tr><th id="1731">1731</th><td>	      <b>do</b></td></tr>
<tr><th id="1732">1732</th><td>		*<a class="local col8 ref" href="#158comment" title='comment' data-ref="158comment" data-ref-filename="158comment">comment</a> = <kbd>' '</kbd>;</td></tr>
<tr><th id="1733">1733</th><td>	      <b>while</b> (--<a class="local col7 ref" href="#157rest" title='rest' data-ref="157rest" data-ref-filename="157rest">rest</a> &gt; <var>0</var> &amp;&amp; *++<a class="local col8 ref" href="#158comment" title='comment' data-ref="158comment" data-ref-filename="158comment">comment</a> != <kbd>'\n'</kbd>);</td></tr>
<tr><th id="1734">1734</th><td>	    }</td></tr>
<tr><th id="1735">1735</th><td></td></tr>
<tr><th id="1736">1736</th><td>	  <i>/* We have one problematic case: if we have a name at the end of</i></td></tr>
<tr><th id="1737">1737</th><td><i>	     the file without a trailing terminating characters, we cannot</i></td></tr>
<tr><th id="1738">1738</th><td><i>	     place the \0.  Handle the case separately.  */</i></td></tr>
<tr><th id="1739">1739</th><td>	  <b>if</b> (<a class="local col4 ref" href="#124file" title='file' data-ref="124file" data-ref-filename="124file">file</a>[<a class="local col3 ref" href="#123file_size" title='file_size' data-ref="123file_size" data-ref-filename="123file_size">file_size</a> - <var>1</var>] != <kbd>' '</kbd> &amp;&amp; <a class="local col4 ref" href="#124file" title='file' data-ref="124file" data-ref-filename="124file">file</a>[<a class="local col3 ref" href="#123file_size" title='file_size' data-ref="123file_size" data-ref-filename="123file_size">file_size</a> - <var>1</var>] != <kbd>'\t'</kbd></td></tr>
<tr><th id="1740">1740</th><td>	      &amp;&amp; <a class="local col4 ref" href="#124file" title='file' data-ref="124file" data-ref-filename="124file">file</a>[<a class="local col3 ref" href="#123file_size" title='file_size' data-ref="123file_size" data-ref-filename="123file_size">file_size</a> - <var>1</var>] != <kbd>'\n'</kbd> &amp;&amp; <a class="local col4 ref" href="#124file" title='file' data-ref="124file" data-ref-filename="124file">file</a>[<a class="local col3 ref" href="#123file_size" title='file_size' data-ref="123file_size" data-ref-filename="123file_size">file_size</a> - <var>1</var>] != <kbd>':'</kbd>)</td></tr>
<tr><th id="1741">1741</th><td>	    {</td></tr>
<tr><th id="1742">1742</th><td>	      <a class="local col5 ref" href="#155problem" title='problem' data-ref="155problem" data-ref-filename="155problem">problem</a> = &amp;<a class="local col4 ref" href="#124file" title='file' data-ref="124file" data-ref-filename="124file">file</a>[<a class="local col3 ref" href="#123file_size" title='file_size' data-ref="123file_size" data-ref-filename="123file_size">file_size</a>];</td></tr>
<tr><th id="1743">1743</th><td>	      <b>while</b> (<a class="local col5 ref" href="#155problem" title='problem' data-ref="155problem" data-ref-filename="155problem">problem</a> &gt; <a class="local col4 ref" href="#124file" title='file' data-ref="124file" data-ref-filename="124file">file</a> &amp;&amp; <a class="local col5 ref" href="#155problem" title='problem' data-ref="155problem" data-ref-filename="155problem">problem</a>[-<var>1</var>] != <kbd>' '</kbd></td></tr>
<tr><th id="1744">1744</th><td>		     &amp;&amp; <a class="local col5 ref" href="#155problem" title='problem' data-ref="155problem" data-ref-filename="155problem">problem</a>[-<var>1</var>] != <kbd>'\t'</kbd></td></tr>
<tr><th id="1745">1745</th><td>		     &amp;&amp; <a class="local col5 ref" href="#155problem" title='problem' data-ref="155problem" data-ref-filename="155problem">problem</a>[-<var>1</var>] != <kbd>'\n'</kbd> &amp;&amp; <a class="local col5 ref" href="#155problem" title='problem' data-ref="155problem" data-ref-filename="155problem">problem</a>[-<var>1</var>] != <kbd>':'</kbd>)</td></tr>
<tr><th id="1746">1746</th><td>		--<a class="local col5 ref" href="#155problem" title='problem' data-ref="155problem" data-ref-filename="155problem">problem</a>;</td></tr>
<tr><th id="1747">1747</th><td></td></tr>
<tr><th id="1748">1748</th><td>	      <b>if</b> (<a class="local col5 ref" href="#155problem" title='problem' data-ref="155problem" data-ref-filename="155problem">problem</a> &gt; <a class="local col4 ref" href="#124file" title='file' data-ref="124file" data-ref-filename="124file">file</a>)</td></tr>
<tr><th id="1749">1749</th><td>		<a class="local col5 ref" href="#155problem" title='problem' data-ref="155problem" data-ref-filename="155problem">problem</a>[-<var>1</var>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="1750">1750</th><td>	    }</td></tr>
<tr><th id="1751">1751</th><td>	  <b>else</b></td></tr>
<tr><th id="1752">1752</th><td>	    {</td></tr>
<tr><th id="1753">1753</th><td>	      <a class="local col5 ref" href="#155problem" title='problem' data-ref="155problem" data-ref-filename="155problem">problem</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1754">1754</th><td>	      <a class="local col4 ref" href="#124file" title='file' data-ref="124file" data-ref-filename="124file">file</a>[<a class="local col3 ref" href="#123file_size" title='file_size' data-ref="123file_size" data-ref-filename="123file_size">file_size</a> - <var>1</var>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="1755">1755</th><td>	    }</td></tr>
<tr><th id="1756">1756</th><td></td></tr>
<tr><th id="1757">1757</th><td>	  <a class="macro" href="#59" title="hp_timing_t start" data-ref="_M/RTLD_TIMING_VAR">RTLD_TIMING_VAR</a> (<dfn class="local col9 decl" id="159start" title='start' data-type='hp_timing_t' data-ref="159start" data-ref-filename="159start">start</dfn>);</td></tr>
<tr><th id="1758">1758</th><td>	  <a class="tu ref fn" href="#rtld_timer_start" title='rtld_timer_start' data-use='c' data-ref="rtld_timer_start" data-ref-filename="rtld_timer_start">rtld_timer_start</a> (&amp;<a class="local col9 ref" href="#1757" title='start' data-ref="159start" data-ref-filename="159start">start</a>);</td></tr>
<tr><th id="1759">1759</th><td></td></tr>
<tr><th id="1760">1760</th><td>	  <b>if</b> (<a class="local col4 ref" href="#124file" title='file' data-ref="124file" data-ref-filename="124file">file</a> != <a class="local col5 ref" href="#155problem" title='problem' data-ref="155problem" data-ref-filename="155problem">problem</a>)</td></tr>
<tr><th id="1761">1761</th><td>	    {</td></tr>
<tr><th id="1762">1762</th><td>	      <em>char</em> *<dfn class="local col0 decl" id="160p" title='p' data-type='char *' data-ref="160p" data-ref-filename="160p">p</dfn>;</td></tr>
<tr><th id="1763">1763</th><td>	      <a class="local col6 ref" href="#156runp" title='runp' data-ref="156runp" data-ref-filename="156runp">runp</a> = <a class="local col4 ref" href="#124file" title='file' data-ref="124file" data-ref-filename="124file">file</a>;</td></tr>
<tr><th id="1764">1764</th><td>	      <b>while</b> ((<a class="local col0 ref" href="#160p" title='p' data-ref="160p" data-ref-filename="160p">p</a> = <a class="ref fn" href="../string/string.h.html#strsep" title='strsep' data-ref="strsep" data-ref-filename="strsep">strsep</a> (&amp;<a class="local col6 ref" href="#156runp" title='runp' data-ref="156runp" data-ref-filename="156runp">runp</a>, <q>": \t\n"</q>)) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1765">1765</th><td>		<b>if</b> (<a class="local col0 ref" href="#160p" title='p' data-ref="160p" data-ref-filename="160p">p</a>[<var>0</var>] != <kbd>'\0'</kbd>)</td></tr>
<tr><th id="1766">1766</th><td>		  <a class="local col1 ref" href="#151npreloads" title='npreloads' data-ref="151npreloads" data-ref-filename="151npreloads">npreloads</a> += <a class="tu ref fn" href="#do_preload" title='do_preload' data-use='c' data-ref="do_preload" data-ref-filename="do_preload">do_preload</a> (<a class="local col0 ref" href="#160p" title='p' data-ref="160p" data-ref-filename="160p">p</a>, <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>, <a class="local col4 ref" href="#154preload_file" title='preload_file' data-ref="154preload_file" data-ref-filename="154preload_file">preload_file</a>);</td></tr>
<tr><th id="1767">1767</th><td>	    }</td></tr>
<tr><th id="1768">1768</th><td></td></tr>
<tr><th id="1769">1769</th><td>	  <b>if</b> (<a class="local col5 ref" href="#155problem" title='problem' data-ref="155problem" data-ref-filename="155problem">problem</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1770">1770</th><td>	    {</td></tr>
<tr><th id="1771">1771</th><td>	      <em>char</em> *<dfn class="local col1 decl" id="161p" title='p' data-type='char *' data-ref="161p" data-ref-filename="161p">p</dfn> = <a class="macro" href="../string/string.h.html#191" title="(__extension__ ({ const char *__old = (problem); size_t __len = strnlen (__old, (file_size - (problem - file))); char *__new = (char *) __builtin_alloca (__len + 1); __new[__len] = &apos;\0&apos;; (char *) memcpy (__new, __old, __len); }))" data-ref="_M/strndupa">strndupa</a> (<a class="local col5 ref" href="#155problem" title='problem' data-ref="155problem" data-ref-filename="155problem">problem</a>, <a class="local col3 ref" href="#123file_size" title='file_size' data-ref="123file_size" data-ref-filename="123file_size">file_size</a> - (<a class="local col5 ref" href="#155problem" title='problem' data-ref="155problem" data-ref-filename="155problem">problem</a> - <a class="local col4 ref" href="#124file" title='file' data-ref="124file" data-ref-filename="124file">file</a>));</td></tr>
<tr><th id="1772">1772</th><td></td></tr>
<tr><th id="1773">1773</th><td>	      <a class="local col1 ref" href="#151npreloads" title='npreloads' data-ref="151npreloads" data-ref-filename="151npreloads">npreloads</a> += <a class="tu ref fn" href="#do_preload" title='do_preload' data-use='c' data-ref="do_preload" data-ref-filename="do_preload">do_preload</a> (<a class="local col1 ref" href="#161p" title='p' data-ref="161p" data-ref-filename="161p">p</a>, <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>, <a class="local col4 ref" href="#154preload_file" title='preload_file' data-ref="154preload_file" data-ref-filename="154preload_file">preload_file</a>);</td></tr>
<tr><th id="1774">1774</th><td>	    }</td></tr>
<tr><th id="1775">1775</th><td></td></tr>
<tr><th id="1776">1776</th><td>	  <a class="tu ref fn" href="#rtld_timer_accum" title='rtld_timer_accum' data-use='c' data-ref="rtld_timer_accum" data-ref-filename="rtld_timer_accum">rtld_timer_accum</a> (&amp;<a class="tu ref" href="#352" title='load_time' data-use='a' data-ref="load_time" data-ref-filename="load_time">load_time</a>, <a class="local col9 ref" href="#1757" title='start' data-ref="159start" data-ref-filename="159start">start</a>);</td></tr>
<tr><th id="1777">1777</th><td></td></tr>
<tr><th id="1778">1778</th><td>	  <i>/* We don't need the file anymore.  */</i></td></tr>
<tr><th id="1779">1779</th><td>	  <a class="ref fn" href="../include/sys/mman.h.html#__munmap" title='__munmap' data-ref="__munmap" data-ref-filename="__munmap">__munmap</a> (<a class="local col4 ref" href="#124file" title='file' data-ref="124file" data-ref-filename="124file">file</a>, <a class="local col3 ref" href="#123file_size" title='file_size' data-ref="123file_size" data-ref-filename="123file_size">file_size</a>);</td></tr>
<tr><th id="1780">1780</th><td>	}</td></tr>
<tr><th id="1781">1781</th><td>    }</td></tr>
<tr><th id="1782">1782</th><td></td></tr>
<tr><th id="1783">1783</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((*first_preload != ((void*)0)), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (*<a class="local col1 ref" href="#141first_preload" title='first_preload' data-ref="141first_preload" data-ref-filename="141first_preload">first_preload</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>))</td></tr>
<tr><th id="1784">1784</th><td>    {</td></tr>
<tr><th id="1785">1785</th><td>      <i>/* Set up PRELOADS with a vector of the preloaded libraries.  */</i></td></tr>
<tr><th id="1786">1786</th><td>      <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col2 decl" id="162l" title='l' data-type='struct link_map *' data-ref="162l" data-ref-filename="162l">l</dfn> = *<a class="local col1 ref" href="#141first_preload" title='first_preload' data-ref="141first_preload" data-ref-filename="141first_preload">first_preload</a>;</td></tr>
<tr><th id="1787">1787</th><td>      <a class="local col0 ref" href="#150preloads" title='preloads' data-ref="150preloads" data-ref-filename="150preloads">preloads</a> = <a class="macro" href="../include/alloca.h.html#15" title="__builtin_alloca (npreloads * sizeof preloads[0])" data-ref="_M/__alloca">__alloca</a> (<a class="local col1 ref" href="#151npreloads" title='npreloads' data-ref="151npreloads" data-ref-filename="151npreloads">npreloads</a> * <b>sizeof</b> <a class="local col0 ref" href="#150preloads" title='preloads' data-ref="150preloads" data-ref-filename="150preloads">preloads</a>[<var>0</var>]);</td></tr>
<tr><th id="1788">1788</th><td>      <a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a> = <var>0</var>;</td></tr>
<tr><th id="1789">1789</th><td>      <b>do</b></td></tr>
<tr><th id="1790">1790</th><td>	{</td></tr>
<tr><th id="1791">1791</th><td>	  <a class="local col0 ref" href="#150preloads" title='preloads' data-ref="150preloads" data-ref-filename="150preloads">preloads</a>[<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a>++] = <a class="local col2 ref" href="#162l" title='l' data-ref="162l" data-ref-filename="162l">l</a>;</td></tr>
<tr><th id="1792">1792</th><td>	  <a class="local col2 ref" href="#162l" title='l' data-ref="162l" data-ref-filename="162l">l</a> = <a class="local col2 ref" href="#162l" title='l' data-ref="162l" data-ref-filename="162l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>;</td></tr>
<tr><th id="1793">1793</th><td>	} <b>while</b> (<a class="local col2 ref" href="#162l" title='l' data-ref="162l" data-ref-filename="162l">l</a>);</td></tr>
<tr><th id="1794">1794</th><td>      <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((i == npreloads) ? 1 : 0), __extension__ ({ if (i == npreloads) ; else __assert_fail (&quot;i == npreloads&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 1794, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a> == <a class="local col1 ref" href="#151npreloads" title='npreloads' data-ref="151npreloads" data-ref-filename="151npreloads">npreloads</a>);</td></tr>
<tr><th id="1795">1795</th><td>    }</td></tr>
<tr><th id="1796">1796</th><td></td></tr>
<tr><th id="1797">1797</th><td>  <i>/* Load all the libraries specified by DT_NEEDED entries.  If LD_PRELOAD</i></td></tr>
<tr><th id="1798">1798</th><td><i>     specified some libraries to load, these are inserted before the actual</i></td></tr>
<tr><th id="1799">1799</th><td><i>     dependencies in the executable's searchlist for symbol resolution.  */</i></td></tr>
<tr><th id="1800">1800</th><td>  {</td></tr>
<tr><th id="1801">1801</th><td>    <a class="macro" href="#59" title="hp_timing_t start" data-ref="_M/RTLD_TIMING_VAR">RTLD_TIMING_VAR</a> (<dfn class="local col3 decl" id="163start" title='start' data-type='hp_timing_t' data-ref="163start" data-ref-filename="163start">start</dfn>);</td></tr>
<tr><th id="1802">1802</th><td>    <a class="tu ref fn" href="#rtld_timer_start" title='rtld_timer_start' data-use='c' data-ref="rtld_timer_start" data-ref-filename="rtld_timer_start">rtld_timer_start</a> (&amp;<a class="local col3 ref" href="#1801" title='start' data-ref="163start" data-ref-filename="163start">start</a>);</td></tr>
<tr><th id="1803">1803</th><td>    <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_map_object_deps" title='_dl_map_object_deps' data-ref="_dl_map_object_deps" data-ref-filename="_dl_map_object_deps">_dl_map_object_deps</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>, <a class="local col0 ref" href="#150preloads" title='preloads' data-ref="150preloads" data-ref-filename="150preloads">preloads</a>, <a class="local col1 ref" href="#151npreloads" title='npreloads' data-ref="151npreloads" data-ref-filename="151npreloads">npreloads</a>, <a class="local col1 ref" href="#121mode" title='mode' data-ref="121mode" data-ref-filename="121mode">mode</a> == <a class="enum" href="#trace" title='trace' data-ref="trace" data-ref-filename="trace">trace</a>, <var>0</var>);</td></tr>
<tr><th id="1804">1804</th><td>    <a class="tu ref fn" href="#rtld_timer_accum" title='rtld_timer_accum' data-use='c' data-ref="rtld_timer_accum" data-ref-filename="rtld_timer_accum">rtld_timer_accum</a> (&amp;<a class="tu ref" href="#352" title='load_time' data-use='a' data-ref="load_time" data-ref-filename="load_time">load_time</a>, <a class="local col3 ref" href="#1801" title='start' data-ref="163start" data-ref-filename="163start">start</a>);</td></tr>
<tr><th id="1805">1805</th><td>  }</td></tr>
<tr><th id="1806">1806</th><td></td></tr>
<tr><th id="1807">1807</th><td>  <i>/* Mark all objects as being in the global scope.  */</i></td></tr>
<tr><th id="1808">1808</th><td>  <b>for</b> (<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>.<a class="ref field" href="../include/link.h.html#r_scope_elem::r_nlist" title='r_scope_elem::r_nlist' data-ref="r_scope_elem::r_nlist" data-ref-filename="r_scope_elem..r_nlist">r_nlist</a>; <a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a> &gt; <var>0</var>; )</td></tr>
<tr><th id="1809">1809</th><td>    <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>.<a class="ref field" href="../include/link.h.html#r_scope_elem::r_list" title='r_scope_elem::r_list' data-ref="r_scope_elem::r_list" data-ref-filename="r_scope_elem..r_list">r_list</a>[--<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a>]-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_global" title='link_map::l_global' data-ref="link_map::l_global" data-ref-filename="link_map..l_global">l_global</a> = <var>1</var>;</td></tr>
<tr><th id="1810">1810</th><td></td></tr>
<tr><th id="1811">1811</th><td>  <i>/* Remove _dl_rtld_map from the chain.  */</i></td></tr>
<tr><th id="1812">1812</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_prev" title='link_map::l_prev' data-ref="link_map::l_prev" data-ref-filename="link_map..l_prev">l_prev</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>;</td></tr>
<tr><th id="1813">1813</th><td>  <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1814">1814</th><td>    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_prev" title='link_map::l_prev' data-ref="link_map::l_prev" data-ref-filename="link_map..l_prev">l_prev</a> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_prev" title='link_map::l_prev' data-ref="link_map::l_prev" data-ref-filename="link_map..l_prev">l_prev</a>;</td></tr>
<tr><th id="1815">1815</th><td></td></tr>
<tr><th id="1816">1816</th><td>  <b>for</b> (<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a> = <var>1</var>; <a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a> &lt; <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>.<a class="ref field" href="../include/link.h.html#r_scope_elem::r_nlist" title='r_scope_elem::r_nlist' data-ref="r_scope_elem::r_nlist" data-ref-filename="r_scope_elem..r_nlist">r_nlist</a>; ++<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a>)</td></tr>
<tr><th id="1817">1817</th><td>    <b>if</b> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>.<a class="ref field" href="../include/link.h.html#r_scope_elem::r_list" title='r_scope_elem::r_list' data-ref="r_scope_elem::r_list" data-ref-filename="r_scope_elem..r_list">r_list</a>[<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a>] == &amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map))</td></tr>
<tr><th id="1818">1818</th><td>      <b>break</b>;</td></tr>
<tr><th id="1819">1819</th><td></td></tr>
<tr><th id="1820">1820</th><td>  <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col4 decl" id="164rtld_multiple_ref" title='rtld_multiple_ref' data-type='_Bool' data-ref="164rtld_multiple_ref" data-ref-filename="164rtld_multiple_ref">rtld_multiple_ref</dfn> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1821">1821</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#403" title="__builtin_expect ((i &lt; main_map-&gt;l_searchlist.r_nlist), 1)" data-ref="_M/__glibc_likely">__glibc_likely</a> (<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a> &lt; <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>.<a class="ref field" href="../include/link.h.html#r_scope_elem::r_nlist" title='r_scope_elem::r_nlist' data-ref="r_scope_elem::r_nlist" data-ref-filename="r_scope_elem..r_nlist">r_nlist</a>))</td></tr>
<tr><th id="1822">1822</th><td>    {</td></tr>
<tr><th id="1823">1823</th><td>      <i>/* Some DT_NEEDED entry referred to the interpreter object itself, so</i></td></tr>
<tr><th id="1824">1824</th><td><i>	 put it back in the list of visible objects.  We insert it into the</i></td></tr>
<tr><th id="1825">1825</th><td><i>	 chain in symbol search order because gdb uses the chain's order as</i></td></tr>
<tr><th id="1826">1826</th><td><i>	 its symbol search order.  */</i></td></tr>
<tr><th id="1827">1827</th><td>      <a class="local col4 ref" href="#164rtld_multiple_ref" title='rtld_multiple_ref' data-ref="164rtld_multiple_ref" data-ref-filename="164rtld_multiple_ref">rtld_multiple_ref</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="1828">1828</th><td></td></tr>
<tr><th id="1829">1829</th><td>      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_prev" title='link_map::l_prev' data-ref="link_map::l_prev" data-ref-filename="link_map..l_prev">l_prev</a> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>.<a class="ref field" href="../include/link.h.html#r_scope_elem::r_list" title='r_scope_elem::r_list' data-ref="r_scope_elem::r_list" data-ref-filename="r_scope_elem..r_list">r_list</a>[<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a> - <var>1</var>];</td></tr>
<tr><th id="1830">1830</th><td>      <b>if</b> (<a class="ref fn" href="#168" title='__builtin_expect' data-ref="__builtin_expect" data-ref-filename="__builtin_expect">__builtin_expect</a> (<a class="local col1 ref" href="#121mode" title='mode' data-ref="121mode" data-ref-filename="121mode">mode</a>, <a class="enum" href="#normal" title='normal' data-ref="normal" data-ref-filename="normal">normal</a>) == <a class="enum" href="#normal" title='normal' data-ref="normal" data-ref-filename="normal">normal</a>)</td></tr>
<tr><th id="1831">1831</th><td>	{</td></tr>
<tr><th id="1832">1832</th><td>	  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a> = (<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a> + <var>1</var> &lt; <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>.<a class="ref field" href="../include/link.h.html#r_scope_elem::r_nlist" title='r_scope_elem::r_nlist' data-ref="r_scope_elem::r_nlist" data-ref-filename="r_scope_elem..r_nlist">r_nlist</a></td></tr>
<tr><th id="1833">1833</th><td>				    ? <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>.<a class="ref field" href="../include/link.h.html#r_scope_elem::r_list" title='r_scope_elem::r_list' data-ref="r_scope_elem::r_list" data-ref-filename="r_scope_elem..r_list">r_list</a>[<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a> + <var>1</var>]</td></tr>
<tr><th id="1834">1834</th><td>				    : <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1835">1835</th><td><u>#<span data-ppcond="1835">ifdef</span> <a class="macro" href="../sysdeps/unix/sysv/linux/dl-sysdep.h.html#26" data-ref="_M/NEED_DL_SYSINFO_DSO">NEED_DL_SYSINFO_DSO</a></u></td></tr>
<tr><th id="1836">1836</th><td>	  <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_sysinfo_map" data-ref="_M/GLRO">GLRO</a>(dl_sysinfo_map) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span></td></tr>
<tr><th id="1837">1837</th><td>	      &amp;&amp; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_prev" title='link_map::l_prev' data-ref="link_map::l_prev" data-ref-filename="link_map..l_prev">l_prev</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a> == <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_sysinfo_map" data-ref="_M/GLRO">GLRO</a>(dl_sysinfo_map)</td></tr>
<tr><th id="1838">1838</th><td>	      &amp;&amp; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a> != <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_sysinfo_map" data-ref="_M/GLRO">GLRO</a>(dl_sysinfo_map))</td></tr>
<tr><th id="1839">1839</th><td>	    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_prev" title='link_map::l_prev' data-ref="link_map::l_prev" data-ref-filename="link_map..l_prev">l_prev</a> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_sysinfo_map" data-ref="_M/GLRO">GLRO</a>(dl_sysinfo_map);</td></tr>
<tr><th id="1840">1840</th><td><u>#<span data-ppcond="1835">endif</span></u></td></tr>
<tr><th id="1841">1841</th><td>	}</td></tr>
<tr><th id="1842">1842</th><td>      <b>else</b></td></tr>
<tr><th id="1843">1843</th><td>	<i>/* In trace mode there might be an invisible object (which we</i></td></tr>
<tr><th id="1844">1844</th><td><i>	   could not find) after the previous one in the search list.</i></td></tr>
<tr><th id="1845">1845</th><td><i>	   In this case it doesn't matter much where we put the</i></td></tr>
<tr><th id="1846">1846</th><td><i>	   interpreter object, so we just initialize the list pointer so</i></td></tr>
<tr><th id="1847">1847</th><td><i>	   that the assertion below holds.  */</i></td></tr>
<tr><th id="1848">1848</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_prev" title='link_map::l_prev' data-ref="link_map::l_prev" data-ref-filename="link_map..l_prev">l_prev</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>;</td></tr>
<tr><th id="1849">1849</th><td></td></tr>
<tr><th id="1850">1850</th><td>      <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((_rtld_local._dl_rtld_map.l_prev-&gt;l_next == _rtld_local._dl_rtld_map.l_next) ? 1 : 0), __extension__ ({ if (_rtld_local._dl_rtld_map.l_prev-&gt;l_next == _rtld_local._dl_rtld_map.l_next) ; else __assert_fail (&quot;GL(dl_rtld_map).l_prev-&gt;l_next == GL(dl_rtld_map).l_next&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 1850, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_prev" title='link_map::l_prev' data-ref="link_map::l_prev" data-ref-filename="link_map..l_prev">l_prev</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a> == <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>);</td></tr>
<tr><th id="1851">1851</th><td>      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_prev" title='link_map::l_prev' data-ref="link_map::l_prev" data-ref-filename="link_map..l_prev">l_prev</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a> = &amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map);</td></tr>
<tr><th id="1852">1852</th><td>      <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1853">1853</th><td>	{</td></tr>
<tr><th id="1854">1854</th><td>	  <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((_rtld_local._dl_rtld_map.l_next-&gt;l_prev == _rtld_local._dl_rtld_map.l_prev) ? 1 : 0), __extension__ ({ if (_rtld_local._dl_rtld_map.l_next-&gt;l_prev == _rtld_local._dl_rtld_map.l_prev) ; else __assert_fail (&quot;GL(dl_rtld_map).l_next-&gt;l_prev == GL(dl_rtld_map).l_prev&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 1854, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_prev" title='link_map::l_prev' data-ref="link_map::l_prev" data-ref-filename="link_map..l_prev">l_prev</a> == <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_prev" title='link_map::l_prev' data-ref="link_map::l_prev" data-ref-filename="link_map..l_prev">l_prev</a>);</td></tr>
<tr><th id="1855">1855</th><td>	  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_prev" title='link_map::l_prev' data-ref="link_map::l_prev" data-ref-filename="link_map..l_prev">l_prev</a> = &amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map);</td></tr>
<tr><th id="1856">1856</th><td>	}</td></tr>
<tr><th id="1857">1857</th><td>    }</td></tr>
<tr><th id="1858">1858</th><td></td></tr>
<tr><th id="1859">1859</th><td>  <i>/* Now let us see whether all libraries are available in the</i></td></tr>
<tr><th id="1860">1860</th><td><i>     versions we need.  */</i></td></tr>
<tr><th id="1861">1861</th><td>  {</td></tr>
<tr><th id="1862">1862</th><td>    <b>struct</b> <a class="type" href="#version_check_args" title='version_check_args' data-ref="version_check_args" data-ref-filename="version_check_args">version_check_args</a> <dfn class="local col5 decl" id="165args" title='args' data-type='struct version_check_args' data-ref="165args" data-ref-filename="165args">args</dfn>;</td></tr>
<tr><th id="1863">1863</th><td>    <a class="local col5 ref" href="#165args" title='args' data-ref="165args" data-ref-filename="165args">args</a>.<a class="tu ref field" href="#version_check_args::doexit" title='version_check_args::doexit' data-use='w' data-ref="version_check_args::doexit" data-ref-filename="version_check_args..doexit">doexit</a> = <a class="local col1 ref" href="#121mode" title='mode' data-ref="121mode" data-ref-filename="121mode">mode</a> == <a class="enum" href="#normal" title='normal' data-ref="normal" data-ref-filename="normal">normal</a>;</td></tr>
<tr><th id="1864">1864</th><td>    <a class="local col5 ref" href="#165args" title='args' data-ref="165args" data-ref-filename="165args">args</a>.<a class="tu ref field" href="#version_check_args::dotrace" title='version_check_args::dotrace' data-use='w' data-ref="version_check_args::dotrace" data-ref-filename="version_check_args..dotrace">dotrace</a> = <a class="local col1 ref" href="#121mode" title='mode' data-ref="121mode" data-ref-filename="121mode">mode</a> == <a class="enum" href="#trace" title='trace' data-ref="trace" data-ref-filename="trace">trace</a>;</td></tr>
<tr><th id="1865">1865</th><td>    <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_receive_error" title='_dl_receive_error' data-ref="_dl_receive_error" data-ref-filename="_dl_receive_error">_dl_receive_error</a> (<a class="tu ref fn" href="#print_missing_version" title='print_missing_version' data-use='r' data-ref="print_missing_version" data-ref-filename="print_missing_version">print_missing_version</a>, <a class="tu ref fn" href="#version_check_doit" title='version_check_doit' data-use='r' data-ref="version_check_doit" data-ref-filename="version_check_doit">version_check_doit</a>, &amp;<a class="local col5 ref" href="#165args" title='args' data-ref="165args" data-ref-filename="165args">args</a>);</td></tr>
<tr><th id="1866">1866</th><td>  }</td></tr>
<tr><th id="1867">1867</th><td></td></tr>
<tr><th id="1868">1868</th><td>  <i>/* We do not initialize any of the TLS functionality unless any of the</i></td></tr>
<tr><th id="1869">1869</th><td><i>     initial modules uses TLS.  This makes dynamic loading of modules with</i></td></tr>
<tr><th id="1870">1870</th><td><i>     TLS impossible, but to support it requires either eagerly doing setup</i></td></tr>
<tr><th id="1871">1871</th><td><i>     now or lazily doing it later.  Doing it now makes us incompatible with</i></td></tr>
<tr><th id="1872">1872</th><td><i>     an old kernel that can't perform TLS_INIT_TP, even if no TLS is ever</i></td></tr>
<tr><th id="1873">1873</th><td><i>     used.  Trying to do it lazily is too hairy to try when there could be</i></td></tr>
<tr><th id="1874">1874</th><td><i>     multiple threads (from a non-TLS-using libpthread).  */</i></td></tr>
<tr><th id="1875">1875</th><td>  <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col6 decl" id="166was_tls_init_tp_called" title='was_tls_init_tp_called' data-type='_Bool' data-ref="166was_tls_init_tp_called" data-ref-filename="166was_tls_init_tp_called">was_tls_init_tp_called</dfn> = <a class="tu ref" href="#tls_init_tp_called" title='tls_init_tp_called' data-use='r' data-ref="tls_init_tp_called" data-ref-filename="tls_init_tp_called">tls_init_tp_called</a>;</td></tr>
<tr><th id="1876">1876</th><td>  <b>if</b> (<a class="local col9 ref" href="#129tcbp" title='tcbp' data-ref="129tcbp" data-ref-filename="129tcbp">tcbp</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1877">1877</th><td>    <a class="local col9 ref" href="#129tcbp" title='tcbp' data-ref="129tcbp" data-ref-filename="129tcbp">tcbp</a> = <a class="tu ref fn" href="#init_tls" title='init_tls' data-use='c' data-ref="init_tls" data-ref-filename="init_tls">init_tls</a> ();</td></tr>
<tr><th id="1878">1878</th><td></td></tr>
<tr><th id="1879">1879</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#403" title="__builtin_expect ((need_security_init), 1)" data-ref="_M/__glibc_likely">__glibc_likely</a> (<a class="local col6 ref" href="#146need_security_init" title='need_security_init' data-ref="146need_security_init" data-ref-filename="146need_security_init">need_security_init</a>))</td></tr>
<tr><th id="1880">1880</th><td>    <i>/* Initialize security features.  But only if we have not done it</i></td></tr>
<tr><th id="1881">1881</th><td><i>       earlier.  */</i></td></tr>
<tr><th id="1882">1882</th><td>    <a class="tu ref fn" href="#security_init" title='security_init' data-use='c' data-ref="security_init" data-ref-filename="security_init">security_init</a> ();</td></tr>
<tr><th id="1883">1883</th><td></td></tr>
<tr><th id="1884">1884</th><td>  <b>if</b> (<a class="ref fn" href="#168" title='__builtin_expect' data-ref="__builtin_expect" data-ref-filename="__builtin_expect">__builtin_expect</a> (<a class="local col1 ref" href="#121mode" title='mode' data-ref="121mode" data-ref-filename="121mode">mode</a>, <a class="enum" href="#normal" title='normal' data-ref="normal" data-ref-filename="normal">normal</a>) != <a class="enum" href="#normal" title='normal' data-ref="normal" data-ref-filename="normal">normal</a>)</td></tr>
<tr><th id="1885">1885</th><td>    {</td></tr>
<tr><th id="1886">1886</th><td>      <i>/* We were run just to list the shared libraries.  It is</i></td></tr>
<tr><th id="1887">1887</th><td><i>	 important that we do this before real relocation, because the</i></td></tr>
<tr><th id="1888">1888</th><td><i>	 functions we call below for output may no longer work properly</i></td></tr>
<tr><th id="1889">1889</th><td><i>	 after relocation.  */</i></td></tr>
<tr><th id="1890">1890</th><td>      <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col7 decl" id="167l" title='l' data-type='struct link_map *' data-ref="167l" data-ref-filename="167l">l</dfn>;</td></tr>
<tr><th id="1891">1891</th><td></td></tr>
<tr><th id="1892">1892</th><td>      <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_debug_mask" data-ref="_M/GLRO">GLRO</a>(dl_debug_mask) &amp; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#513" title="(1 &lt;&lt; 11)" data-ref="_M/DL_DEBUG_PRELINK">DL_DEBUG_PRELINK</a>)</td></tr>
<tr><th id="1893">1893</th><td>	{</td></tr>
<tr><th id="1894">1894</th><td>	  <b>struct</b> <a class="type" href="../include/link.h.html#r_scope_elem" title='r_scope_elem' data-ref="r_scope_elem" data-ref-filename="r_scope_elem">r_scope_elem</a> *<dfn class="local col8 decl" id="168scope" title='scope' data-type='struct r_scope_elem *' data-ref="168scope" data-ref-filename="168scope">scope</dfn> = &amp;<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>;</td></tr>
<tr><th id="1895">1895</th><td></td></tr>
<tr><th id="1896">1896</th><td>	  <b>for</b> (<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a> = <var>0</var>; <a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a> &lt; <a class="local col8 ref" href="#168scope" title='scope' data-ref="168scope" data-ref-filename="168scope">scope</a>-&gt;<a class="ref field" href="../include/link.h.html#r_scope_elem::r_nlist" title='r_scope_elem::r_nlist' data-ref="r_scope_elem::r_nlist" data-ref-filename="r_scope_elem..r_nlist">r_nlist</a>; <a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a>++)</td></tr>
<tr><th id="1897">1897</th><td>	    {</td></tr>
<tr><th id="1898">1898</th><td>	      <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a> = <a class="local col8 ref" href="#168scope" title='scope' data-ref="168scope" data-ref-filename="168scope">scope</a>-&gt;<a class="ref field" href="../include/link.h.html#r_scope_elem::r_list" title='r_scope_elem::r_list' data-ref="r_scope_elem::r_list" data-ref-filename="r_scope_elem..r_list">r_list</a> [<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a>];</td></tr>
<tr><th id="1899">1899</th><td>	      <b>if</b> (<a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_faked" title='link_map::l_faked' data-ref="link_map::l_faked" data-ref-filename="link_map..l_faked">l_faked</a>)</td></tr>
<tr><th id="1900">1900</th><td>		{</td></tr>
<tr><th id="1901">1901</th><td>		  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;\t%s =&gt; not found\n&quot;, l-&gt;l_libname-&gt;name)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"\t%s =&gt; not found\n"</q>, <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_libname" title='link_map::l_libname' data-ref="link_map::l_libname" data-ref-filename="link_map..l_libname">l_libname</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::name" title='libname_list::name' data-ref="libname_list::name" data-ref-filename="libname_list..name">name</a>);</td></tr>
<tr><th id="1902">1902</th><td>		  <b>continue</b>;</td></tr>
<tr><th id="1903">1903</th><td>		}</td></tr>
<tr><th id="1904">1904</th><td>	      <b>if</b> (<a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_name_match_p" title='_dl_name_match_p' data-ref="_dl_name_match_p" data-ref-filename="_dl_name_match_p">_dl_name_match_p</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_trace_prelink" data-ref="_M/GLRO">GLRO</a>(dl_trace_prelink), <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>))</td></tr>
<tr><th id="1905">1905</th><td>		<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_trace_prelink_map" data-ref="_M/GLRO">GLRO</a>(dl_trace_prelink_map) = <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>;</td></tr>
<tr><th id="1906">1906</th><td>	      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;\t%s =&gt; %s (0x%0*Zx, 0x%0*Zx)&quot;, ((l-&gt;l_libname-&gt;name)[0] ? (l-&gt;l_libname-&gt;name) : (_dl_argv[0] ?: &quot;&lt;main program&gt;&quot;)), ((l-&gt;l_name)[0] ? (l-&gt;l_name) : (_dl_argv[0] ?: &quot;&lt;main program&gt;&quot;)), (int) sizeof l-&gt;l_map_start * 2, (size_t) l-&gt;l_map_start, (int) sizeof l-&gt;l_addr * 2, (size_t) l-&gt;l_addr)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"\t%s =&gt; %s (0x%0*<span class='error' title="invalid conversion specifier &apos;Z&apos;">Zx</span>, 0x%0*<span class='error' title="invalid conversion specifier &apos;Z&apos;">Zx</span>)"</q>,</td></tr>
<tr><th id="1907">1907</th><td>			  DSO_FILENAME (<a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_libname" title='link_map::l_libname' data-ref="link_map::l_libname" data-ref-filename="link_map..l_libname">l_libname</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::name" title='libname_list::name' data-ref="libname_list::name" data-ref-filename="libname_list..name">name</a>),</td></tr>
<tr><th id="1908">1908</th><td>			  DSO_FILENAME (<a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_name" title='link_map::l_name' data-ref="link_map::l_name" data-ref-filename="link_map..l_name">l_name</a>),</td></tr>
<tr><th id="1909">1909</th><td>			  <span class='error' title="data argument not used by format string">(</span><em>int</em>) <b>sizeof</b> <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_map_start" title='link_map::l_map_start' data-ref="link_map::l_map_start" data-ref-filename="link_map..l_map_start">l_map_start</a> * <var>2</var>,</td></tr>
<tr><th id="1910">1910</th><td>			  (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span>) <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_map_start" title='link_map::l_map_start' data-ref="link_map::l_map_start" data-ref-filename="link_map..l_map_start">l_map_start</a>,</td></tr>
<tr><th id="1911">1911</th><td>			  (<em>int</em>) <b>sizeof</b> <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a> * <var>2</var>,</td></tr>
<tr><th id="1912">1912</th><td>			  (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span>) <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a>);</td></tr>
<tr><th id="1913">1913</th><td></td></tr>
<tr><th id="1914">1914</th><td>	      <b>if</b> (<a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_modid" title='link_map::l_tls_modid' data-ref="link_map::l_tls_modid" data-ref-filename="link_map..l_tls_modid">l_tls_modid</a>)</td></tr>
<tr><th id="1915">1915</th><td>		<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot; TLS(0x%Zx, 0x%0*Zx)\n&quot;, l-&gt;l_tls_modid, (int) sizeof l-&gt;l_tls_offset * 2, (size_t) l-&gt;l_tls_offset)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>" TLS(0x%<span class='error' title="invalid conversion specifier &apos;Z&apos;">Zx</span>, 0x%0*<span class='error' title="invalid conversion specifier &apos;Z&apos;">Zx</span>)\n"</q>, <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_modid" title='link_map::l_tls_modid' data-ref="link_map::l_tls_modid" data-ref-filename="link_map..l_tls_modid">l_tls_modid</a>,</td></tr>
<tr><th id="1916">1916</th><td>			    <span class='error' title="data argument not used by format string">(</span><em>int</em>) <b>sizeof</b> <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_offset" title='link_map::l_tls_offset' data-ref="link_map::l_tls_offset" data-ref-filename="link_map..l_tls_offset">l_tls_offset</a> * <var>2</var>,</td></tr>
<tr><th id="1917">1917</th><td>			    (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span>) <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_offset" title='link_map::l_tls_offset' data-ref="link_map::l_tls_offset" data-ref-filename="link_map..l_tls_offset">l_tls_offset</a>);</td></tr>
<tr><th id="1918">1918</th><td>	      <b>else</b></td></tr>
<tr><th id="1919">1919</th><td>		<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;\n&quot;)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"\n"</q>);</td></tr>
<tr><th id="1920">1920</th><td>	    }</td></tr>
<tr><th id="1921">1921</th><td>	}</td></tr>
<tr><th id="1922">1922</th><td>      <b>else</b> <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_debug_mask" data-ref="_M/GLRO">GLRO</a>(dl_debug_mask) &amp; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#509" title="(1 &lt;&lt; 8)" data-ref="_M/DL_DEBUG_UNUSED">DL_DEBUG_UNUSED</a>)</td></tr>
<tr><th id="1923">1923</th><td>	{</td></tr>
<tr><th id="1924">1924</th><td>	  <i>/* Look through the dependencies of the main executable</i></td></tr>
<tr><th id="1925">1925</th><td><i>	     and determine which of them is not actually</i></td></tr>
<tr><th id="1926">1926</th><td><i>	     required.  */</i></td></tr>
<tr><th id="1927">1927</th><td>	  <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col9 decl" id="169l" title='l' data-type='struct link_map *' data-ref="169l" data-ref-filename="169l">l</dfn> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>;</td></tr>
<tr><th id="1928">1928</th><td></td></tr>
<tr><th id="1929">1929</th><td>	  <i>/* Relocate the main executable.  */</i></td></tr>
<tr><th id="1930">1930</th><td>	  <b>struct</b> <a class="type" href="#relocate_args" title='relocate_args' data-ref="relocate_args" data-ref-filename="relocate_args">relocate_args</a> <dfn class="local col0 decl" id="170args" title='args' data-type='struct relocate_args' data-ref="170args" data-ref-filename="170args">args</dfn> = { .<a class="tu ref field" href="#relocate_args::l" title='relocate_args::l' data-use='w' data-ref="relocate_args::l" data-ref-filename="relocate_args..l">l</a> = <a class="local col9 ref" href="#169l" title='l' data-ref="169l" data-ref-filename="169l">l</a>,</td></tr>
<tr><th id="1931">1931</th><td>					.<a class="tu ref field" href="#relocate_args::reloc_mode" title='relocate_args::reloc_mode' data-use='w' data-ref="relocate_args::reloc_mode" data-ref-filename="relocate_args..reloc_mode">reloc_mode</a> = ((<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_lazy" data-ref="_M/GLRO">GLRO</a>(dl_lazy)</td></tr>
<tr><th id="1932">1932</th><td>						       ? <a class="macro" href="../bits/dlfcn.h.html#24" title="0x00001" data-ref="_M/RTLD_LAZY">RTLD_LAZY</a> : <var>0</var>)</td></tr>
<tr><th id="1933">1933</th><td>						       | <a class="macro" href="../include/dlfcn.h.html#14" title="0x02000000" data-ref="_M/__RTLD_NOIFUNC">__RTLD_NOIFUNC</a>) };</td></tr>
<tr><th id="1934">1934</th><td>	  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_receive_error" title='_dl_receive_error' data-ref="_dl_receive_error" data-ref-filename="_dl_receive_error">_dl_receive_error</a> (<a class="tu ref fn" href="#print_unresolved" title='print_unresolved' data-use='r' data-ref="print_unresolved" data-ref-filename="print_unresolved">print_unresolved</a>, <a class="tu ref fn" href="#relocate_doit" title='relocate_doit' data-use='r' data-ref="relocate_doit" data-ref-filename="relocate_doit">relocate_doit</a>, &amp;<a class="local col0 ref" href="#170args" title='args' data-ref="170args" data-ref-filename="170args">args</a>);</td></tr>
<tr><th id="1935">1935</th><td></td></tr>
<tr><th id="1936">1936</th><td>	  <i>/* This loop depends on the dependencies of the executable to</i></td></tr>
<tr><th id="1937">1937</th><td><i>	     correspond in number and order to the DT_NEEDED entries.  */</i></td></tr>
<tr><th id="1938">1938</th><td>	  <a class="macro" href="link.h.html#30" title="Elf64_Dyn" data-ref="_M/ElfW">ElfW</a>(Dyn) *<dfn class="local col1 decl" id="171dyn" title='dyn' data-type='Elf64_Dyn *' data-ref="171dyn" data-ref-filename="171dyn">dyn</dfn> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_ld" title='link_map::l_ld' data-ref="link_map::l_ld" data-ref-filename="link_map..l_ld">l_ld</a>;</td></tr>
<tr><th id="1939">1939</th><td>	  <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col2 decl" id="172first" title='first' data-type='_Bool' data-ref="172first" data-ref-filename="172first">first</dfn> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="1940">1940</th><td>	  <b>while</b> (<a class="local col1 ref" href="#171dyn" title='dyn' data-ref="171dyn" data-ref-filename="171dyn">dyn</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_tag" title='(anonymous struct)::d_tag' data-ref="(anonymous)::d_tag" data-ref-filename="(anonymous)..d_tag">d_tag</a> != <a class="macro" href="elf.h.html#852" title="0" data-ref="_M/DT_NULL">DT_NULL</a>)</td></tr>
<tr><th id="1941">1941</th><td>	    {</td></tr>
<tr><th id="1942">1942</th><td>	      <b>if</b> (<a class="local col1 ref" href="#171dyn" title='dyn' data-ref="171dyn" data-ref-filename="171dyn">dyn</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_tag" title='(anonymous struct)::d_tag' data-ref="(anonymous)::d_tag" data-ref-filename="(anonymous)..d_tag">d_tag</a> == <a class="macro" href="elf.h.html#853" title="1" data-ref="_M/DT_NEEDED">DT_NEEDED</a>)</td></tr>
<tr><th id="1943">1943</th><td>		{</td></tr>
<tr><th id="1944">1944</th><td>		  <a class="local col9 ref" href="#169l" title='l' data-ref="169l" data-ref-filename="169l">l</a> = <a class="local col9 ref" href="#169l" title='l' data-ref="169l" data-ref-filename="169l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>;</td></tr>
<tr><th id="1945">1945</th><td><u>#<span data-ppcond="1945">ifdef</span> <a class="macro" href="../sysdeps/unix/sysv/linux/dl-sysdep.h.html#26" data-ref="_M/NEED_DL_SYSINFO_DSO">NEED_DL_SYSINFO_DSO</a></u></td></tr>
<tr><th id="1946">1946</th><td>		  <i>/* Skip the VDSO since it's not part of the list</i></td></tr>
<tr><th id="1947">1947</th><td><i>		     of objects we brought in via DT_NEEDED entries.  */</i></td></tr>
<tr><th id="1948">1948</th><td>		  <b>if</b> (<a class="local col9 ref" href="#169l" title='l' data-ref="169l" data-ref-filename="169l">l</a> == <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_sysinfo_map" data-ref="_M/GLRO">GLRO</a>(dl_sysinfo_map))</td></tr>
<tr><th id="1949">1949</th><td>		    <a class="local col9 ref" href="#169l" title='l' data-ref="169l" data-ref-filename="169l">l</a> = <a class="local col9 ref" href="#169l" title='l' data-ref="169l" data-ref-filename="169l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>;</td></tr>
<tr><th id="1950">1950</th><td><u>#<span data-ppcond="1945">endif</span></u></td></tr>
<tr><th id="1951">1951</th><td>		  <b>if</b> (!<a class="local col9 ref" href="#169l" title='l' data-ref="169l" data-ref-filename="169l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_used" title='link_map::l_used' data-ref="link_map::l_used" data-ref-filename="link_map..l_used">l_used</a>)</td></tr>
<tr><th id="1952">1952</th><td>		    {</td></tr>
<tr><th id="1953">1953</th><td>		      <b>if</b> (<a class="local col2 ref" href="#172first" title='first' data-ref="172first" data-ref-filename="172first">first</a>)</td></tr>
<tr><th id="1954">1954</th><td>			{</td></tr>
<tr><th id="1955">1955</th><td>			  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;Unused direct dependencies:\n&quot;)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"Unused direct dependencies:\n"</q>);</td></tr>
<tr><th id="1956">1956</th><td>			  <a class="local col2 ref" href="#172first" title='first' data-ref="172first" data-ref-filename="172first">first</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1957">1957</th><td>			}</td></tr>
<tr><th id="1958">1958</th><td></td></tr>
<tr><th id="1959">1959</th><td>		      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;\t%s\n&quot;, l-&gt;l_name)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"\t%s\n"</q>, <a class="local col9 ref" href="#169l" title='l' data-ref="169l" data-ref-filename="169l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_name" title='link_map::l_name' data-ref="link_map::l_name" data-ref-filename="link_map..l_name">l_name</a>);</td></tr>
<tr><th id="1960">1960</th><td>		    }</td></tr>
<tr><th id="1961">1961</th><td>		}</td></tr>
<tr><th id="1962">1962</th><td></td></tr>
<tr><th id="1963">1963</th><td>	      ++<a class="local col1 ref" href="#171dyn" title='dyn' data-ref="171dyn" data-ref-filename="171dyn">dyn</a>;</td></tr>
<tr><th id="1964">1964</th><td>	    }</td></tr>
<tr><th id="1965">1965</th><td></td></tr>
<tr><th id="1966">1966</th><td>	  <a class="macro" href="#99" title="exit_internal" data-ref="_M/_exit">_exit</a> (<a class="local col2 ref" href="#172first" title='first' data-ref="172first" data-ref-filename="172first">first</a> != <span class="macro" title="1" data-ref="_M/true">true</span>);</td></tr>
<tr><th id="1967">1967</th><td>	}</td></tr>
<tr><th id="1968">1968</th><td>      <b>else</b> <b>if</b> (! <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#853" title="1" data-ref="_M/DT_NEEDED">DT_NEEDED</a>])</td></tr>
<tr><th id="1969">1969</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;\tstatically linked\n&quot;)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"\tstatically linked\n"</q>);</td></tr>
<tr><th id="1970">1970</th><td>      <b>else</b></td></tr>
<tr><th id="1971">1971</th><td>	{</td></tr>
<tr><th id="1972">1972</th><td>	  <b>for</b> (<a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>; <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>; <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a> = <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>)</td></tr>
<tr><th id="1973">1973</th><td>	    <b>if</b> (<a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_faked" title='link_map::l_faked' data-ref="link_map::l_faked" data-ref-filename="link_map..l_faked">l_faked</a>)</td></tr>
<tr><th id="1974">1974</th><td>	      <i>/* The library was not found.  */</i></td></tr>
<tr><th id="1975">1975</th><td>	      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;\t%s =&gt; not found\n&quot;, l-&gt;l_libname-&gt;name)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"\t%s =&gt; not found\n"</q>, <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_libname" title='link_map::l_libname' data-ref="link_map::l_libname" data-ref-filename="link_map..l_libname">l_libname</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::name" title='libname_list::name' data-ref="libname_list::name" data-ref-filename="libname_list..name">name</a>);</td></tr>
<tr><th id="1976">1976</th><td>	    <b>else</b> <b>if</b> (<a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_libname" title='link_map::l_libname' data-ref="link_map::l_libname" data-ref-filename="link_map..l_libname">l_libname</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::name" title='libname_list::name' data-ref="libname_list::name" data-ref-filename="libname_list..name">name</a>, <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_name" title='link_map::l_name' data-ref="link_map::l_name" data-ref-filename="link_map..l_name">l_name</a>) == <var>0</var>)</td></tr>
<tr><th id="1977">1977</th><td>	      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;\t%s (0x%0*Zx)\n&quot;, l-&gt;l_libname-&gt;name, (int) sizeof l-&gt;l_map_start * 2, (size_t) l-&gt;l_map_start)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"\t%s (0x%0*<span class='error' title="invalid conversion specifier &apos;Z&apos;">Zx</span>)\n"</q>, <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_libname" title='link_map::l_libname' data-ref="link_map::l_libname" data-ref-filename="link_map..l_libname">l_libname</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::name" title='libname_list::name' data-ref="libname_list::name" data-ref-filename="libname_list..name">name</a>,</td></tr>
<tr><th id="1978">1978</th><td>			  <span class='error' title="data argument not used by format string">(</span><em>int</em>) <b>sizeof</b> <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_map_start" title='link_map::l_map_start' data-ref="link_map::l_map_start" data-ref-filename="link_map..l_map_start">l_map_start</a> * <var>2</var>,</td></tr>
<tr><th id="1979">1979</th><td>			  (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span>) <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_map_start" title='link_map::l_map_start' data-ref="link_map::l_map_start" data-ref-filename="link_map..l_map_start">l_map_start</a>);</td></tr>
<tr><th id="1980">1980</th><td>	    <b>else</b></td></tr>
<tr><th id="1981">1981</th><td>	      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;\t%s =&gt; %s (0x%0*Zx)\n&quot;, l-&gt;l_libname-&gt;name, l-&gt;l_name, (int) sizeof l-&gt;l_map_start * 2, (size_t) l-&gt;l_map_start)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"\t%s =&gt; %s (0x%0*<span class='error' title="invalid conversion specifier &apos;Z&apos;">Zx</span>)\n"</q>, <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_libname" title='link_map::l_libname' data-ref="link_map::l_libname" data-ref-filename="link_map..l_libname">l_libname</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::name" title='libname_list::name' data-ref="libname_list::name" data-ref-filename="libname_list..name">name</a>,</td></tr>
<tr><th id="1982">1982</th><td>			  <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_name" title='link_map::l_name' data-ref="link_map::l_name" data-ref-filename="link_map..l_name">l_name</a>, <span class='error' title="data argument not used by format string">(</span><em>int</em>) <b>sizeof</b> <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_map_start" title='link_map::l_map_start' data-ref="link_map::l_map_start" data-ref-filename="link_map..l_map_start">l_map_start</a> * <var>2</var>,</td></tr>
<tr><th id="1983">1983</th><td>			  (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span>) <a class="local col7 ref" href="#167l" title='l' data-ref="167l" data-ref-filename="167l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_map_start" title='link_map::l_map_start' data-ref="link_map::l_map_start" data-ref-filename="link_map..l_map_start">l_map_start</a>);</td></tr>
<tr><th id="1984">1984</th><td>	}</td></tr>
<tr><th id="1985">1985</th><td></td></tr>
<tr><th id="1986">1986</th><td>      <b>if</b> (<a class="ref fn" href="#168" title='__builtin_expect' data-ref="__builtin_expect" data-ref-filename="__builtin_expect">__builtin_expect</a> (<a class="local col1 ref" href="#121mode" title='mode' data-ref="121mode" data-ref-filename="121mode">mode</a>, <a class="enum" href="#trace" title='trace' data-ref="trace" data-ref-filename="trace">trace</a>) != <a class="enum" href="#trace" title='trace' data-ref="trace" data-ref-filename="trace">trace</a>)</td></tr>
<tr><th id="1987">1987</th><td>	<b>for</b> (<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a> = <var>1</var>; <a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a> &lt; (<em>unsigned</em> <em>int</em>) <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argc" title='_dl_argc' data-ref="_dl_argc" data-ref-filename="_dl_argc">_dl_argc</a>; ++<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a>)</td></tr>
<tr><th id="1988">1988</th><td>	  {</td></tr>
<tr><th id="1989">1989</th><td>	    <em>const</em> <a class="macro" href="link.h.html#30" title="Elf64_Sym" data-ref="_M/ElfW">ElfW</a>(Sym) *<dfn class="local col3 decl" id="173ref" title='ref' data-type='const Elf64_Sym *' data-ref="173ref" data-ref-filename="173ref">ref</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1990">1990</th><td>	    <a class="macro" href="link.h.html#30" title="Elf64_Addr" data-ref="_M/ElfW">ElfW</a>(Addr) <dfn class="local col4 decl" id="174loadbase" title='loadbase' data-type='Elf64_Addr' data-ref="174loadbase" data-ref-filename="174loadbase">loadbase</dfn>;</td></tr>
<tr><th id="1991">1991</th><td>	    <a class="typedef" href="../sysdeps/generic/ldsodefs.h.html#lookup_t" title='lookup_t' data-type='struct link_map *' data-ref="lookup_t" data-ref-filename="lookup_t">lookup_t</a> <dfn class="local col5 decl" id="175result" title='result' data-type='lookup_t' data-ref="175result" data-ref-filename="175result">result</dfn>;</td></tr>
<tr><th id="1992">1992</th><td></td></tr>
<tr><th id="1993">1993</th><td>	    <a class="local col5 ref" href="#175result" title='result' data-ref="175result" data-ref-filename="175result">result</a> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_lookup_symbol_x" title='_dl_lookup_symbol_x' data-ref="_dl_lookup_symbol_x" data-ref-filename="_dl_lookup_symbol_x">_dl_lookup_symbol_x</a> (<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a>], <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>,</td></tr>
<tr><th id="1994">1994</th><td>					  &amp;<a class="local col3 ref" href="#173ref" title='ref' data-ref="173ref" data-ref-filename="173ref">ref</a>, <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_scope" title='link_map::l_scope' data-ref="link_map::l_scope" data-ref-filename="link_map..l_scope">l_scope</a>,</td></tr>
<tr><th id="1995">1995</th><td>					  <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#148" title="1" data-ref="_M/ELF_RTYPE_CLASS_PLT">ELF_RTYPE_CLASS_PLT</a>,</td></tr>
<tr><th id="1996">1996</th><td>					  <a class="enum" href="../sysdeps/generic/ldsodefs.h.html#DL_LOOKUP_ADD_DEPENDENCY" title='DL_LOOKUP_ADD_DEPENDENCY' data-ref="DL_LOOKUP_ADD_DEPENDENCY" data-ref-filename="DL_LOOKUP_ADD_DEPENDENCY">DL_LOOKUP_ADD_DEPENDENCY</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1997">1997</th><td></td></tr>
<tr><th id="1998">1998</th><td>	    <a class="local col4 ref" href="#174loadbase" title='loadbase' data-ref="174loadbase" data-ref-filename="174loadbase">loadbase</a> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#86" title="((0) || (result) ? (result)-&gt;l_addr : 0)" data-ref="_M/LOOKUP_VALUE_ADDRESS">LOOKUP_VALUE_ADDRESS</a> (<a class="local col5 ref" href="#175result" title='result' data-ref="175result" data-ref-filename="175result">result</a>, <span class="macro" title="0" data-ref="_M/false">false</span>);</td></tr>
<tr><th id="1999">1999</th><td></td></tr>
<tr><th id="2000">2000</th><td>	    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;%s found at 0x%0*Zd in object at 0x%0*Zd\n&quot;, _dl_argv[i], (int) sizeof ref-&gt;st_value * 2, (size_t) ref-&gt;st_value, (int) sizeof loadbase * 2, (size_t) loadbase)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"%s found at 0x%0*<span class='error' title="invalid conversion specifier &apos;Z&apos;">Zd</span> in object at 0x%0*<span class='error' title="invalid conversion specifier &apos;Z&apos;">Zd</span>\n"</q>,</td></tr>
<tr><th id="2001">2001</th><td>			<a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<a class="local col6 ref" href="#126i" title='i' data-ref="126i" data-ref-filename="126i">i</a>],</td></tr>
<tr><th id="2002">2002</th><td>			<span class='error' title="data argument not used by format string">(</span><em>int</em>) <b>sizeof</b> <a class="local col3 ref" href="#173ref" title='ref' data-ref="173ref" data-ref-filename="173ref">ref</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_value" title='(anonymous struct)::st_value' data-ref="(anonymous)::st_value" data-ref-filename="(anonymous)..st_value">st_value</a> * <var>2</var>,</td></tr>
<tr><th id="2003">2003</th><td>			(<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span>) <a class="local col3 ref" href="#173ref" title='ref' data-ref="173ref" data-ref-filename="173ref">ref</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_value" title='(anonymous struct)::st_value' data-ref="(anonymous)::st_value" data-ref-filename="(anonymous)..st_value">st_value</a>,</td></tr>
<tr><th id="2004">2004</th><td>			(<em>int</em>) <b>sizeof</b> <a class="local col4 ref" href="#174loadbase" title='loadbase' data-ref="174loadbase" data-ref-filename="174loadbase">loadbase</a> * <var>2</var>, (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span>) <a class="local col4 ref" href="#174loadbase" title='loadbase' data-ref="174loadbase" data-ref-filename="174loadbase">loadbase</a>);</td></tr>
<tr><th id="2005">2005</th><td>	  }</td></tr>
<tr><th id="2006">2006</th><td>      <b>else</b></td></tr>
<tr><th id="2007">2007</th><td>	{</td></tr>
<tr><th id="2008">2008</th><td>	  <i>/* If LD_WARN is set, warn about undefined symbols.  */</i></td></tr>
<tr><th id="2009">2009</th><td>	  <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_lazy" data-ref="_M/GLRO">GLRO</a>(dl_lazy) &gt;= <var>0</var> &amp;&amp; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_verbose" data-ref="_M/GLRO">GLRO</a>(dl_verbose))</td></tr>
<tr><th id="2010">2010</th><td>	    {</td></tr>
<tr><th id="2011">2011</th><td>	      <i>/* We have to do symbol dependency testing.  */</i></td></tr>
<tr><th id="2012">2012</th><td>	      <b>struct</b> <a class="type" href="#relocate_args" title='relocate_args' data-ref="relocate_args" data-ref-filename="relocate_args">relocate_args</a> <dfn class="local col6 decl" id="176args" title='args' data-type='struct relocate_args' data-ref="176args" data-ref-filename="176args">args</dfn>;</td></tr>
<tr><th id="2013">2013</th><td>	      <em>unsigned</em> <em>int</em> <dfn class="local col7 decl" id="177i" title='i' data-type='unsigned int' data-ref="177i" data-ref-filename="177i">i</dfn>;</td></tr>
<tr><th id="2014">2014</th><td></td></tr>
<tr><th id="2015">2015</th><td>	      <a class="local col6 ref" href="#176args" title='args' data-ref="176args" data-ref-filename="176args">args</a>.<a class="tu ref field" href="#relocate_args::reloc_mode" title='relocate_args::reloc_mode' data-use='w' data-ref="relocate_args::reloc_mode" data-ref-filename="relocate_args..reloc_mode">reloc_mode</a> = ((<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_lazy" data-ref="_M/GLRO">GLRO</a>(dl_lazy) ? <a class="macro" href="../bits/dlfcn.h.html#24" title="0x00001" data-ref="_M/RTLD_LAZY">RTLD_LAZY</a> : <var>0</var>)</td></tr>
<tr><th id="2016">2016</th><td>				 | <a class="macro" href="../include/dlfcn.h.html#14" title="0x02000000" data-ref="_M/__RTLD_NOIFUNC">__RTLD_NOIFUNC</a>);</td></tr>
<tr><th id="2017">2017</th><td></td></tr>
<tr><th id="2018">2018</th><td>	      <a class="local col7 ref" href="#177i" title='i' data-ref="177i" data-ref-filename="177i">i</a> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>.<a class="ref field" href="../include/link.h.html#r_scope_elem::r_nlist" title='r_scope_elem::r_nlist' data-ref="r_scope_elem::r_nlist" data-ref-filename="r_scope_elem..r_nlist">r_nlist</a>;</td></tr>
<tr><th id="2019">2019</th><td>	      <b>while</b> (<a class="local col7 ref" href="#177i" title='i' data-ref="177i" data-ref-filename="177i">i</a>-- &gt; <var>0</var>)</td></tr>
<tr><th id="2020">2020</th><td>		{</td></tr>
<tr><th id="2021">2021</th><td>		  <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col8 decl" id="178l" title='l' data-type='struct link_map *' data-ref="178l" data-ref-filename="178l">l</dfn> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_initfini" title='link_map::l_initfini' data-ref="link_map::l_initfini" data-ref-filename="link_map..l_initfini">l_initfini</a>[<a class="local col7 ref" href="#177i" title='i' data-ref="177i" data-ref-filename="177i">i</a>];</td></tr>
<tr><th id="2022">2022</th><td>		  <b>if</b> (<a class="local col8 ref" href="#178l" title='l' data-ref="178l" data-ref-filename="178l">l</a> != &amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map) &amp;&amp; ! <a class="local col8 ref" href="#178l" title='l' data-ref="178l" data-ref-filename="178l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_faked" title='link_map::l_faked' data-ref="link_map::l_faked" data-ref-filename="link_map..l_faked">l_faked</a>)</td></tr>
<tr><th id="2023">2023</th><td>		    {</td></tr>
<tr><th id="2024">2024</th><td>		      <a class="local col6 ref" href="#176args" title='args' data-ref="176args" data-ref-filename="176args">args</a>.<a class="tu ref field" href="#relocate_args::l" title='relocate_args::l' data-use='w' data-ref="relocate_args::l" data-ref-filename="relocate_args..l">l</a> = <a class="local col8 ref" href="#178l" title='l' data-ref="178l" data-ref-filename="178l">l</a>;</td></tr>
<tr><th id="2025">2025</th><td>		      <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_receive_error" title='_dl_receive_error' data-ref="_dl_receive_error" data-ref-filename="_dl_receive_error">_dl_receive_error</a> (<a class="tu ref fn" href="#print_unresolved" title='print_unresolved' data-use='r' data-ref="print_unresolved" data-ref-filename="print_unresolved">print_unresolved</a>, <a class="tu ref fn" href="#relocate_doit" title='relocate_doit' data-use='r' data-ref="relocate_doit" data-ref-filename="relocate_doit">relocate_doit</a>,</td></tr>
<tr><th id="2026">2026</th><td>					 &amp;<a class="local col6 ref" href="#176args" title='args' data-ref="176args" data-ref-filename="176args">args</a>);</td></tr>
<tr><th id="2027">2027</th><td>		    }</td></tr>
<tr><th id="2028">2028</th><td>		}</td></tr>
<tr><th id="2029">2029</th><td></td></tr>
<tr><th id="2030">2030</th><td>	      <b>if</b> ((<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_debug_mask" data-ref="_M/GLRO">GLRO</a>(dl_debug_mask) &amp; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#513" title="(1 &lt;&lt; 11)" data-ref="_M/DL_DEBUG_PRELINK">DL_DEBUG_PRELINK</a>)</td></tr>
<tr><th id="2031">2031</th><td>		  &amp;&amp; <a class="local col4 ref" href="#164rtld_multiple_ref" title='rtld_multiple_ref' data-ref="164rtld_multiple_ref" data-ref-filename="164rtld_multiple_ref">rtld_multiple_ref</a>)</td></tr>
<tr><th id="2032">2032</th><td>		{</td></tr>
<tr><th id="2033">2033</th><td>		  <i>/* Mark the link map as not yet relocated again.  */</i></td></tr>
<tr><th id="2034">2034</th><td>		  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_relocated" title='link_map::l_relocated' data-ref="link_map::l_relocated" data-ref-filename="link_map..l_relocated">l_relocated</a> = <var>0</var>;</td></tr>
<tr><th id="2035">2035</th><td>		  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_relocate_object" title='_dl_relocate_object' data-ref="_dl_relocate_object" data-ref-filename="_dl_relocate_object">_dl_relocate_object</a> (&amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map),</td></tr>
<tr><th id="2036">2036</th><td>				       <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_scope" title='link_map::l_scope' data-ref="link_map::l_scope" data-ref-filename="link_map..l_scope">l_scope</a>, <a class="macro" href="../include/dlfcn.h.html#14" title="0x02000000" data-ref="_M/__RTLD_NOIFUNC">__RTLD_NOIFUNC</a>, <var>0</var>);</td></tr>
<tr><th id="2037">2037</th><td>		}</td></tr>
<tr><th id="2038">2038</th><td>	    }</td></tr>
<tr><th id="2039">2039</th><td><u>#define <dfn class="macro" id="_M/VERNEEDTAG" data-ref="_M/VERNEEDTAG">VERNEEDTAG</dfn> (DT_NUM + DT_THISPROCNUM + DT_VERSIONTAGIDX (DT_VERNEED))</u></td></tr>
<tr><th id="2040">2040</th><td>	  <b>if</b> (<a class="tu ref" href="#version_info" title='version_info' data-use='r' data-ref="version_info" data-ref-filename="version_info">version_info</a>)</td></tr>
<tr><th id="2041">2041</th><td>	    {</td></tr>
<tr><th id="2042">2042</th><td>	      <i>/* Print more information.  This means here, print information</i></td></tr>
<tr><th id="2043">2043</th><td><i>		 about the versions needed.  */</i></td></tr>
<tr><th id="2044">2044</th><td>	      <em>int</em> <dfn class="local col9 decl" id="179first" title='first' data-type='int' data-ref="179first" data-ref-filename="179first">first</dfn> = <var>1</var>;</td></tr>
<tr><th id="2045">2045</th><td>	      <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col0 decl" id="180map" title='map' data-type='struct link_map *' data-ref="180map" data-ref-filename="180map">map</dfn>;</td></tr>
<tr><th id="2046">2046</th><td></td></tr>
<tr><th id="2047">2047</th><td>	      <b>for</b> (<a class="local col0 ref" href="#180map" title='map' data-ref="180map" data-ref-filename="180map">map</a> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>; <a class="local col0 ref" href="#180map" title='map' data-ref="180map" data-ref-filename="180map">map</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>; <a class="local col0 ref" href="#180map" title='map' data-ref="180map" data-ref-filename="180map">map</a> = <a class="local col0 ref" href="#180map" title='map' data-ref="180map" data-ref-filename="180map">map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>)</td></tr>
<tr><th id="2048">2048</th><td>		{</td></tr>
<tr><th id="2049">2049</th><td>		  <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="181strtab" title='strtab' data-type='const char *' data-ref="181strtab" data-ref-filename="181strtab">strtab</dfn>;</td></tr>
<tr><th id="2050">2050</th><td>		  <a class="macro" href="link.h.html#30" title="Elf64_Dyn" data-ref="_M/ElfW">ElfW</a>(Dyn) *<dfn class="local col2 decl" id="182dyn" title='dyn' data-type='Elf64_Dyn *' data-ref="182dyn" data-ref-filename="182dyn">dyn</dfn> = <a class="local col0 ref" href="#180map" title='map' data-ref="180map" data-ref-filename="180map">map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="#2039" title="(35 + 0 + (0x6fffffff - (0x6ffffffe)))" data-ref="_M/VERNEEDTAG">VERNEEDTAG</a>];</td></tr>
<tr><th id="2051">2051</th><td>		  <a class="macro" href="link.h.html#30" title="Elf64_Verneed" data-ref="_M/ElfW">ElfW</a>(Verneed) *<dfn class="local col3 decl" id="183ent" title='ent' data-type='Elf64_Verneed *' data-ref="183ent" data-ref-filename="183ent">ent</dfn>;</td></tr>
<tr><th id="2052">2052</th><td></td></tr>
<tr><th id="2053">2053</th><td>		  <b>if</b> (<a class="local col2 ref" href="#182dyn" title='dyn' data-ref="182dyn" data-ref-filename="182dyn">dyn</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="2054">2054</th><td>		    <b>continue</b>;</td></tr>
<tr><th id="2055">2055</th><td></td></tr>
<tr><th id="2056">2056</th><td>		  <a class="local col1 ref" href="#181strtab" title='strtab' data-ref="181strtab" data-ref-filename="181strtab">strtab</a> = (<em>const</em> <em>void</em> *) <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#80" title="(map)-&gt;l_info[5]-&gt;d_un.d_ptr" data-ref="_M/D_PTR">D_PTR</a> (<a class="local col0 ref" href="#180map" title='map' data-ref="180map" data-ref-filename="180map">map</a>, <a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#857" title="5" data-ref="_M/DT_STRTAB">DT_STRTAB</a>]);</td></tr>
<tr><th id="2057">2057</th><td>		  <a class="local col3 ref" href="#183ent" title='ent' data-ref="183ent" data-ref-filename="183ent">ent</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Verneed" data-ref="_M/ElfW">ElfW</a>(Verneed) *) (<a class="local col0 ref" href="#180map" title='map' data-ref="180map" data-ref-filename="180map">map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a> + <a class="local col2 ref" href="#182dyn" title='dyn' data-ref="182dyn" data-ref-filename="182dyn">dyn</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_ptr" title='(anonymous struct)::(anonymous union)::d_ptr' data-ref="(anonymousstruct)::(anonymous)::d_ptr" data-ref-filename="(anonymousstruct)..(anonymous)..d_ptr">d_ptr</a>);</td></tr>
<tr><th id="2058">2058</th><td></td></tr>
<tr><th id="2059">2059</th><td>		  <b>if</b> (<a class="local col9 ref" href="#179first" title='first' data-ref="179first" data-ref-filename="179first">first</a>)</td></tr>
<tr><th id="2060">2060</th><td>		    {</td></tr>
<tr><th id="2061">2061</th><td>		      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;\n\tVersion information:\n&quot;)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"\n\tVersion information:\n"</q>);</td></tr>
<tr><th id="2062">2062</th><td>		      <a class="local col9 ref" href="#179first" title='first' data-ref="179first" data-ref-filename="179first">first</a> = <var>0</var>;</td></tr>
<tr><th id="2063">2063</th><td>		    }</td></tr>
<tr><th id="2064">2064</th><td></td></tr>
<tr><th id="2065">2065</th><td>		  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;\t%s:\n&quot;, ((map-&gt;l_name)[0] ? (map-&gt;l_name) : (_dl_argv[0] ?: &quot;&lt;main program&gt;&quot;)))" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"\t%s:\n"</q>, DSO_FILENAME (<a class="local col0 ref" href="#180map" title='map' data-ref="180map" data-ref-filename="180map">map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_name" title='link_map::l_name' data-ref="link_map::l_name" data-ref-filename="link_map..l_name">l_name</a>));</td></tr>
<tr><th id="2066">2066</th><td></td></tr>
<tr><th id="2067">2067</th><td>		  <b>while</b> (<var>1</var>)</td></tr>
<tr><th id="2068">2068</th><td>		    {</td></tr>
<tr><th id="2069">2069</th><td>		      <a class="macro" href="link.h.html#30" title="Elf64_Vernaux" data-ref="_M/ElfW">ElfW</a>(Vernaux) *<dfn class="local col4 decl" id="184aux" title='aux' data-type='Elf64_Vernaux *' data-ref="184aux" data-ref-filename="184aux">aux</dfn>;</td></tr>
<tr><th id="2070">2070</th><td>		      <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col5 decl" id="185needed" title='needed' data-type='struct link_map *' data-ref="185needed" data-ref-filename="185needed">needed</dfn>;</td></tr>
<tr><th id="2071">2071</th><td></td></tr>
<tr><th id="2072">2072</th><td>		      <a class="local col5 ref" href="#185needed" title='needed' data-ref="185needed" data-ref-filename="185needed">needed</a> = <a class="tu ref fn" href="#find_needed" title='find_needed' data-use='c' data-ref="find_needed" data-ref-filename="find_needed">find_needed</a> (<a class="local col1 ref" href="#181strtab" title='strtab' data-ref="181strtab" data-ref-filename="181strtab">strtab</a> + <a class="local col3 ref" href="#183ent" title='ent' data-ref="183ent" data-ref-filename="183ent">ent</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::vn_file" title='(anonymous struct)::vn_file' data-ref="(anonymous)::vn_file" data-ref-filename="(anonymous)..vn_file">vn_file</a>);</td></tr>
<tr><th id="2073">2073</th><td>		      <a class="local col4 ref" href="#184aux" title='aux' data-ref="184aux" data-ref-filename="184aux">aux</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Vernaux" data-ref="_M/ElfW">ElfW</a>(Vernaux) *) ((<em>char</em> *) <a class="local col3 ref" href="#183ent" title='ent' data-ref="183ent" data-ref-filename="183ent">ent</a> + <a class="local col3 ref" href="#183ent" title='ent' data-ref="183ent" data-ref-filename="183ent">ent</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::vn_aux" title='(anonymous struct)::vn_aux' data-ref="(anonymous)::vn_aux" data-ref-filename="(anonymous)..vn_aux">vn_aux</a>);</td></tr>
<tr><th id="2074">2074</th><td></td></tr>
<tr><th id="2075">2075</th><td>		      <b>while</b> (<var>1</var>)</td></tr>
<tr><th id="2076">2076</th><td>			{</td></tr>
<tr><th id="2077">2077</th><td>			  <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="186fname" title='fname' data-type='const char *' data-ref="186fname" data-ref-filename="186fname">fname</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="2078">2078</th><td></td></tr>
<tr><th id="2079">2079</th><td>			  <b>if</b> (<a class="local col5 ref" href="#185needed" title='needed' data-ref="185needed" data-ref-filename="185needed">needed</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span></td></tr>
<tr><th id="2080">2080</th><td>			      &amp;&amp; <a class="tu ref fn" href="#match_version" title='match_version' data-use='c' data-ref="match_version" data-ref-filename="match_version">match_version</a> (<a class="local col1 ref" href="#181strtab" title='strtab' data-ref="181strtab" data-ref-filename="181strtab">strtab</a> + <a class="local col4 ref" href="#184aux" title='aux' data-ref="184aux" data-ref-filename="184aux">aux</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::vna_name" title='(anonymous struct)::vna_name' data-ref="(anonymous)::vna_name" data-ref-filename="(anonymous)..vna_name">vna_name</a>,</td></tr>
<tr><th id="2081">2081</th><td>						<a class="local col5 ref" href="#185needed" title='needed' data-ref="185needed" data-ref-filename="185needed">needed</a>))</td></tr>
<tr><th id="2082">2082</th><td>			    <a class="local col6 ref" href="#186fname" title='fname' data-ref="186fname" data-ref-filename="186fname">fname</a> = <a class="local col5 ref" href="#185needed" title='needed' data-ref="185needed" data-ref-filename="185needed">needed</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_name" title='link_map::l_name' data-ref="link_map::l_name" data-ref-filename="link_map..l_name">l_name</a>;</td></tr>
<tr><th id="2083">2083</th><td></td></tr>
<tr><th id="2084">2084</th><td>			  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;\t\t%s (%s) %s=&gt; %s\n&quot;, strtab + ent-&gt;vn_file, strtab + aux-&gt;vna_name, aux-&gt;vna_flags &amp; 0x2 ? &quot;[WEAK] &quot; : &quot;&quot;, fname ?: &quot;not found&quot;)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"\t\t%s (%s) %s=&gt; %s\n"</q>,</td></tr>
<tr><th id="2085">2085</th><td>				      <a class="local col1 ref" href="#181strtab" title='strtab' data-ref="181strtab" data-ref-filename="181strtab">strtab</a> + <a class="local col3 ref" href="#183ent" title='ent' data-ref="183ent" data-ref-filename="183ent">ent</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::vn_file" title='(anonymous struct)::vn_file' data-ref="(anonymous)::vn_file" data-ref-filename="(anonymous)..vn_file">vn_file</a>,</td></tr>
<tr><th id="2086">2086</th><td>				      <a class="local col1 ref" href="#181strtab" title='strtab' data-ref="181strtab" data-ref-filename="181strtab">strtab</a> + <a class="local col4 ref" href="#184aux" title='aux' data-ref="184aux" data-ref-filename="184aux">aux</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::vna_name" title='(anonymous struct)::vna_name' data-ref="(anonymous)::vna_name" data-ref-filename="(anonymous)..vna_name">vna_name</a>,</td></tr>
<tr><th id="2087">2087</th><td>				      <a class="local col4 ref" href="#184aux" title='aux' data-ref="184aux" data-ref-filename="184aux">aux</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::vna_flags" title='(anonymous struct)::vna_flags' data-ref="(anonymous)::vna_flags" data-ref-filename="(anonymous)..vna_flags">vna_flags</a> &amp; VER_FLG_WEAK</td></tr>
<tr><th id="2088">2088</th><td>				      ? <q>"[WEAK] "</q> : <q>""</q>,</td></tr>
<tr><th id="2089">2089</th><td>				      <a class="local col6 ref" href="#186fname" title='fname' data-ref="186fname" data-ref-filename="186fname">fname</a> ?: <q>"not found"</q>);</td></tr>
<tr><th id="2090">2090</th><td></td></tr>
<tr><th id="2091">2091</th><td>			  <b>if</b> (<a class="local col4 ref" href="#184aux" title='aux' data-ref="184aux" data-ref-filename="184aux">aux</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::vna_next" title='(anonymous struct)::vna_next' data-ref="(anonymous)::vna_next" data-ref-filename="(anonymous)..vna_next">vna_next</a> == <var>0</var>)</td></tr>
<tr><th id="2092">2092</th><td>			    <i>/* No more symbols.  */</i></td></tr>
<tr><th id="2093">2093</th><td>			    <b>break</b>;</td></tr>
<tr><th id="2094">2094</th><td></td></tr>
<tr><th id="2095">2095</th><td>			  <i>/* Next symbol.  */</i></td></tr>
<tr><th id="2096">2096</th><td>			  <a class="local col4 ref" href="#184aux" title='aux' data-ref="184aux" data-ref-filename="184aux">aux</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Vernaux" data-ref="_M/ElfW">ElfW</a>(Vernaux) *) ((<em>char</em> *) <a class="local col4 ref" href="#184aux" title='aux' data-ref="184aux" data-ref-filename="184aux">aux</a></td></tr>
<tr><th id="2097">2097</th><td>						   + <a class="local col4 ref" href="#184aux" title='aux' data-ref="184aux" data-ref-filename="184aux">aux</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::vna_next" title='(anonymous struct)::vna_next' data-ref="(anonymous)::vna_next" data-ref-filename="(anonymous)..vna_next">vna_next</a>);</td></tr>
<tr><th id="2098">2098</th><td>			}</td></tr>
<tr><th id="2099">2099</th><td></td></tr>
<tr><th id="2100">2100</th><td>		      <b>if</b> (<a class="local col3 ref" href="#183ent" title='ent' data-ref="183ent" data-ref-filename="183ent">ent</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::vn_next" title='(anonymous struct)::vn_next' data-ref="(anonymous)::vn_next" data-ref-filename="(anonymous)..vn_next">vn_next</a> == <var>0</var>)</td></tr>
<tr><th id="2101">2101</th><td>			<i>/* No more dependencies.  */</i></td></tr>
<tr><th id="2102">2102</th><td>			<b>break</b>;</td></tr>
<tr><th id="2103">2103</th><td></td></tr>
<tr><th id="2104">2104</th><td>		      <i>/* Next dependency.  */</i></td></tr>
<tr><th id="2105">2105</th><td>		      <a class="local col3 ref" href="#183ent" title='ent' data-ref="183ent" data-ref-filename="183ent">ent</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Verneed" data-ref="_M/ElfW">ElfW</a>(Verneed) *) ((<em>char</em> *) <a class="local col3 ref" href="#183ent" title='ent' data-ref="183ent" data-ref-filename="183ent">ent</a> + <a class="local col3 ref" href="#183ent" title='ent' data-ref="183ent" data-ref-filename="183ent">ent</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::vn_next" title='(anonymous struct)::vn_next' data-ref="(anonymous)::vn_next" data-ref-filename="(anonymous)..vn_next">vn_next</a>);</td></tr>
<tr><th id="2106">2106</th><td>		    }</td></tr>
<tr><th id="2107">2107</th><td>		}</td></tr>
<tr><th id="2108">2108</th><td>	    }</td></tr>
<tr><th id="2109">2109</th><td>	}</td></tr>
<tr><th id="2110">2110</th><td></td></tr>
<tr><th id="2111">2111</th><td>      <a class="macro" href="#99" title="exit_internal" data-ref="_M/_exit">_exit</a> (<var>0</var>);</td></tr>
<tr><th id="2112">2112</th><td>    }</td></tr>
<tr><th id="2113">2113</th><td></td></tr>
<tr><th id="2114">2114</th><td>  <b>if</b> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#47" title="(35 + 0 + 16 + 3 + 12 + (0x6ffffeff - (0x6ffffef9)))" data-ref="_M/ADDRIDX">ADDRIDX</a> (<a class="macro" href="elf.h.html#924" title="0x6ffffef9" data-ref="_M/DT_GNU_LIBLIST">DT_GNU_LIBLIST</a>)]</td></tr>
<tr><th id="2115">2115</th><td>      &amp;&amp; ! <a class="ref fn" href="#168" title='__builtin_expect' data-ref="__builtin_expect" data-ref-filename="__builtin_expect">__builtin_expect</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_profile" data-ref="_M/GLRO">GLRO</a>(dl_profile) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>)</td></tr>
<tr><th id="2116">2116</th><td>      &amp;&amp; ! <a class="ref fn" href="#168" title='__builtin_expect' data-ref="__builtin_expect" data-ref-filename="__builtin_expect">__builtin_expect</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_dynamic_weak" data-ref="_M/GLRO">GLRO</a>(dl_dynamic_weak), <var>0</var>))</td></tr>
<tr><th id="2117">2117</th><td>    {</td></tr>
<tr><th id="2118">2118</th><td>      <a class="macro" href="link.h.html#30" title="Elf64_Lib" data-ref="_M/ElfW">ElfW</a>(Lib) *<dfn class="local col7 decl" id="187liblist" title='liblist' data-type='Elf64_Lib *' data-ref="187liblist" data-ref-filename="187liblist">liblist</dfn>, *<dfn class="local col8 decl" id="188liblistend" title='liblistend' data-type='Elf64_Lib *' data-ref="188liblistend" data-ref-filename="188liblistend">liblistend</dfn>;</td></tr>
<tr><th id="2119">2119</th><td>      <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> **<dfn class="local col9 decl" id="189r_list" title='r_list' data-type='struct link_map **' data-ref="189r_list" data-ref-filename="189r_list">r_list</dfn>, **<dfn class="local col0 decl" id="190r_listend" title='r_listend' data-type='struct link_map **' data-ref="190r_listend" data-ref-filename="190r_listend">r_listend</dfn>, *<dfn class="local col1 decl" id="191l" title='l' data-type='struct link_map *' data-ref="191l" data-ref-filename="191l">l</dfn>;</td></tr>
<tr><th id="2120">2120</th><td>      <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="192strtab" title='strtab' data-type='const char *' data-ref="192strtab" data-ref-filename="192strtab">strtab</dfn> = (<em>const</em> <em>void</em> *) <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#80" title="(main_map)-&gt;l_info[5]-&gt;d_un.d_ptr" data-ref="_M/D_PTR">D_PTR</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>, <a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="elf.h.html#857" title="5" data-ref="_M/DT_STRTAB">DT_STRTAB</a>]);</td></tr>
<tr><th id="2121">2121</th><td></td></tr>
<tr><th id="2122">2122</th><td>      <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((main_map-&gt;l_info[(35 + 0 + 16 + 3 + (0x6ffffdff - (0x6ffffdf7)))] != ((void*)0)) ? 1 : 0), __extension__ ({ if (main_map-&gt;l_info[(35 + 0 + 16 + 3 + (0x6ffffdff - (0x6ffffdf7)))] != ((void*)0)) ; else __assert_fail (&quot;main_map-&gt;l_info[VALIDX (DT_GNU_LIBLISTSZ)] != NULL&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 2122, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#45" title="(35 + 0 + 16 + 3 + (0x6ffffdff - (0x6ffffdf7)))" data-ref="_M/VALIDX">VALIDX</a> (<a class="macro" href="elf.h.html#900" title="0x6ffffdf7" data-ref="_M/DT_GNU_LIBLISTSZ">DT_GNU_LIBLISTSZ</a>)] != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="2123">2123</th><td>      <a class="local col7 ref" href="#187liblist" title='liblist' data-ref="187liblist" data-ref-filename="187liblist">liblist</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Lib" data-ref="_M/ElfW">ElfW</a>(Lib) *)</td></tr>
<tr><th id="2124">2124</th><td>		<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#47" title="(35 + 0 + 16 + 3 + 12 + (0x6ffffeff - (0x6ffffef9)))" data-ref="_M/ADDRIDX">ADDRIDX</a> (<a class="macro" href="elf.h.html#924" title="0x6ffffef9" data-ref="_M/DT_GNU_LIBLIST">DT_GNU_LIBLIST</a>)]-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_ptr" title='(anonymous struct)::(anonymous union)::d_ptr' data-ref="(anonymousstruct)::(anonymous)::d_ptr" data-ref-filename="(anonymousstruct)..(anonymous)..d_ptr">d_ptr</a>;</td></tr>
<tr><th id="2125">2125</th><td>      <a class="local col8 ref" href="#188liblistend" title='liblistend' data-ref="188liblistend" data-ref-filename="188liblistend">liblistend</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Lib" data-ref="_M/ElfW">ElfW</a>(Lib) *)</td></tr>
<tr><th id="2126">2126</th><td>		   ((<em>char</em> *) <a class="local col7 ref" href="#187liblist" title='liblist' data-ref="187liblist" data-ref-filename="187liblist">liblist</a></td></tr>
<tr><th id="2127">2127</th><td>		    + <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#45" title="(35 + 0 + 16 + 3 + (0x6ffffdff - (0x6ffffdf7)))" data-ref="_M/VALIDX">VALIDX</a> (<a class="macro" href="elf.h.html#900" title="0x6ffffdf7" data-ref="_M/DT_GNU_LIBLISTSZ">DT_GNU_LIBLISTSZ</a>)]-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_val" title='(anonymous struct)::(anonymous union)::d_val' data-ref="(anonymousstruct)::(anonymous)::d_val" data-ref-filename="(anonymousstruct)..(anonymous)..d_val">d_val</a>);</td></tr>
<tr><th id="2128">2128</th><td>      <a class="local col9 ref" href="#189r_list" title='r_list' data-ref="189r_list" data-ref-filename="189r_list">r_list</a> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>.<a class="ref field" href="../include/link.h.html#r_scope_elem::r_list" title='r_scope_elem::r_list' data-ref="r_scope_elem::r_list" data-ref-filename="r_scope_elem..r_list">r_list</a>;</td></tr>
<tr><th id="2129">2129</th><td>      <a class="local col0 ref" href="#190r_listend" title='r_listend' data-ref="190r_listend" data-ref-filename="190r_listend">r_listend</a> = <a class="local col9 ref" href="#189r_list" title='r_list' data-ref="189r_list" data-ref-filename="189r_list">r_list</a> + <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>.<a class="ref field" href="../include/link.h.html#r_scope_elem::r_nlist" title='r_scope_elem::r_nlist' data-ref="r_scope_elem::r_nlist" data-ref-filename="r_scope_elem..r_nlist">r_nlist</a>;</td></tr>
<tr><th id="2130">2130</th><td></td></tr>
<tr><th id="2131">2131</th><td>      <b>for</b> (; <a class="local col9 ref" href="#189r_list" title='r_list' data-ref="189r_list" data-ref-filename="189r_list">r_list</a> &lt; <a class="local col0 ref" href="#190r_listend" title='r_listend' data-ref="190r_listend" data-ref-filename="190r_listend">r_listend</a> &amp;&amp; <a class="local col7 ref" href="#187liblist" title='liblist' data-ref="187liblist" data-ref-filename="187liblist">liblist</a> &lt; <a class="local col8 ref" href="#188liblistend" title='liblistend' data-ref="188liblistend" data-ref-filename="188liblistend">liblistend</a>; <a class="local col9 ref" href="#189r_list" title='r_list' data-ref="189r_list" data-ref-filename="189r_list">r_list</a>++)</td></tr>
<tr><th id="2132">2132</th><td>	{</td></tr>
<tr><th id="2133">2133</th><td>	  <a class="local col1 ref" href="#191l" title='l' data-ref="191l" data-ref-filename="191l">l</a> = *<a class="local col9 ref" href="#189r_list" title='r_list' data-ref="189r_list" data-ref-filename="189r_list">r_list</a>;</td></tr>
<tr><th id="2134">2134</th><td></td></tr>
<tr><th id="2135">2135</th><td>	  <b>if</b> (<a class="local col1 ref" href="#191l" title='l' data-ref="191l" data-ref-filename="191l">l</a> == <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>)</td></tr>
<tr><th id="2136">2136</th><td>	    <b>continue</b>;</td></tr>
<tr><th id="2137">2137</th><td></td></tr>
<tr><th id="2138">2138</th><td>	  <i>/* If the library is not mapped where it should, fail.  */</i></td></tr>
<tr><th id="2139">2139</th><td>	  <b>if</b> (<a class="local col1 ref" href="#191l" title='l' data-ref="191l" data-ref-filename="191l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a>)</td></tr>
<tr><th id="2140">2140</th><td>	    <b>break</b>;</td></tr>
<tr><th id="2141">2141</th><td></td></tr>
<tr><th id="2142">2142</th><td>	  <i>/* Next, check if checksum matches.  */</i></td></tr>
<tr><th id="2143">2143</th><td>	  <b>if</b> (<a class="local col1 ref" href="#191l" title='l' data-ref="191l" data-ref-filename="191l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a> [<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#45" title="(35 + 0 + 16 + 3 + (0x6ffffdff - (0x6ffffdf8)))" data-ref="_M/VALIDX">VALIDX</a>(<a class="macro" href="elf.h.html#901" title="0x6ffffdf8" data-ref="_M/DT_CHECKSUM">DT_CHECKSUM</a>)] == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span></td></tr>
<tr><th id="2144">2144</th><td>	      || <a class="local col1 ref" href="#191l" title='l' data-ref="191l" data-ref-filename="191l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a> [<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#45" title="(35 + 0 + 16 + 3 + (0x6ffffdff - (0x6ffffdf8)))" data-ref="_M/VALIDX">VALIDX</a>(<a class="macro" href="elf.h.html#901" title="0x6ffffdf8" data-ref="_M/DT_CHECKSUM">DT_CHECKSUM</a>)]-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_val" title='(anonymous struct)::(anonymous union)::d_val' data-ref="(anonymousstruct)::(anonymous)::d_val" data-ref-filename="(anonymousstruct)..(anonymous)..d_val">d_val</a></td></tr>
<tr><th id="2145">2145</th><td>		 != <a class="local col7 ref" href="#187liblist" title='liblist' data-ref="187liblist" data-ref-filename="187liblist">liblist</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::l_checksum" title='(anonymous struct)::l_checksum' data-ref="(anonymous)::l_checksum" data-ref-filename="(anonymous)..l_checksum">l_checksum</a>)</td></tr>
<tr><th id="2146">2146</th><td>	    <b>break</b>;</td></tr>
<tr><th id="2147">2147</th><td></td></tr>
<tr><th id="2148">2148</th><td>	  <b>if</b> (<a class="local col1 ref" href="#191l" title='l' data-ref="191l" data-ref-filename="191l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a> [<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#45" title="(35 + 0 + 16 + 3 + (0x6ffffdff - (0x6ffffdf5)))" data-ref="_M/VALIDX">VALIDX</a>(<a class="macro" href="elf.h.html#898" title="0x6ffffdf5" data-ref="_M/DT_GNU_PRELINKED">DT_GNU_PRELINKED</a>)] == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span></td></tr>
<tr><th id="2149">2149</th><td>	      || <a class="local col1 ref" href="#191l" title='l' data-ref="191l" data-ref-filename="191l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a> [<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#45" title="(35 + 0 + 16 + 3 + (0x6ffffdff - (0x6ffffdf5)))" data-ref="_M/VALIDX">VALIDX</a>(<a class="macro" href="elf.h.html#898" title="0x6ffffdf5" data-ref="_M/DT_GNU_PRELINKED">DT_GNU_PRELINKED</a>)]-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_val" title='(anonymous struct)::(anonymous union)::d_val' data-ref="(anonymousstruct)::(anonymous)::d_val" data-ref-filename="(anonymousstruct)..(anonymous)..d_val">d_val</a></td></tr>
<tr><th id="2150">2150</th><td>		 != <a class="local col7 ref" href="#187liblist" title='liblist' data-ref="187liblist" data-ref-filename="187liblist">liblist</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::l_time_stamp" title='(anonymous struct)::l_time_stamp' data-ref="(anonymous)::l_time_stamp" data-ref-filename="(anonymous)..l_time_stamp">l_time_stamp</a>)</td></tr>
<tr><th id="2151">2151</th><td>	    <b>break</b>;</td></tr>
<tr><th id="2152">2152</th><td></td></tr>
<tr><th id="2153">2153</th><td>	  <b>if</b> (! <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_name_match_p" title='_dl_name_match_p' data-ref="_dl_name_match_p" data-ref-filename="_dl_name_match_p">_dl_name_match_p</a> (<a class="local col2 ref" href="#192strtab" title='strtab' data-ref="192strtab" data-ref-filename="192strtab">strtab</a> + <a class="local col7 ref" href="#187liblist" title='liblist' data-ref="187liblist" data-ref-filename="187liblist">liblist</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::l_name" title='(anonymous struct)::l_name' data-ref="(anonymous)::l_name" data-ref-filename="(anonymous)..l_name">l_name</a>, <a class="local col1 ref" href="#191l" title='l' data-ref="191l" data-ref-filename="191l">l</a>))</td></tr>
<tr><th id="2154">2154</th><td>	    <b>break</b>;</td></tr>
<tr><th id="2155">2155</th><td></td></tr>
<tr><th id="2156">2156</th><td>	  ++<a class="local col7 ref" href="#187liblist" title='liblist' data-ref="187liblist" data-ref-filename="187liblist">liblist</a>;</td></tr>
<tr><th id="2157">2157</th><td>	}</td></tr>
<tr><th id="2158">2158</th><td></td></tr>
<tr><th id="2159">2159</th><td></td></tr>
<tr><th id="2160">2160</th><td>      <b>if</b> (<a class="local col9 ref" href="#189r_list" title='r_list' data-ref="189r_list" data-ref-filename="189r_list">r_list</a> == <a class="local col0 ref" href="#190r_listend" title='r_listend' data-ref="190r_listend" data-ref-filename="190r_listend">r_listend</a> &amp;&amp; <a class="local col7 ref" href="#187liblist" title='liblist' data-ref="187liblist" data-ref-filename="187liblist">liblist</a> == <a class="local col8 ref" href="#188liblistend" title='liblistend' data-ref="188liblistend" data-ref-filename="188liblistend">liblistend</a>)</td></tr>
<tr><th id="2161">2161</th><td>	<a class="local col7 ref" href="#127prelinked" title='prelinked' data-ref="127prelinked" data-ref-filename="127prelinked">prelinked</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="2162">2162</th><td></td></tr>
<tr><th id="2163">2163</th><td>      <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((_rtld_local_ro._dl_debug_mask &amp; (1 &lt;&lt; 0)), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_debug_mask" data-ref="_M/GLRO">GLRO</a>(dl_debug_mask) &amp; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#501" title="(1 &lt;&lt; 0)" data-ref="_M/DL_DEBUG_LIBS">DL_DEBUG_LIBS</a>))</td></tr>
<tr><th id="2164">2164</th><td>	<a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_debug_printf" title='_dl_debug_printf' data-ref="_dl_debug_printf" data-ref-filename="_dl_debug_printf">_dl_debug_printf</a> (<q>"\nprelink checking: %s\n"</q>,</td></tr>
<tr><th id="2165">2165</th><td>			  <a class="local col7 ref" href="#127prelinked" title='prelinked' data-ref="127prelinked" data-ref-filename="127prelinked">prelinked</a> ? <q>"ok"</q> : <q>"failed"</q>);</td></tr>
<tr><th id="2166">2166</th><td>    }</td></tr>
<tr><th id="2167">2167</th><td></td></tr>
<tr><th id="2168">2168</th><td></td></tr>
<tr><th id="2169">2169</th><td>  <i>/* Now set up the variable which helps the assembler startup code.  */</i></td></tr>
<tr><th id="2170">2170</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_main_searchlist" title='link_namespaces::_ns_main_searchlist' data-ref="link_namespaces::_ns_main_searchlist" data-ref-filename="link_namespaces.._ns_main_searchlist">_ns_main_searchlist</a> = &amp;<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>;</td></tr>
<tr><th id="2171">2171</th><td></td></tr>
<tr><th id="2172">2172</th><td>  <i>/* Save the information about the original global scope list since</i></td></tr>
<tr><th id="2173">2173</th><td><i>     we need it in the memory handling later.  */</i></td></tr>
<tr><th id="2174">2174</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_initial_searchlist" data-ref="_M/GLRO">GLRO</a>(dl_initial_searchlist) = *<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_main_searchlist" title='link_namespaces::_ns_main_searchlist' data-ref="link_namespaces::_ns_main_searchlist" data-ref-filename="link_namespaces.._ns_main_searchlist">_ns_main_searchlist</a>;</td></tr>
<tr><th id="2175">2175</th><td></td></tr>
<tr><th id="2176">2176</th><td>  <i>/* Remember the last search directory added at startup, now that</i></td></tr>
<tr><th id="2177">2177</th><td><i>     malloc will no longer be the one from dl-minimal.c.  As a side</i></td></tr>
<tr><th id="2178">2178</th><td><i>     effect, this marks ld.so as initialized, so that the rtld_active</i></td></tr>
<tr><th id="2179">2179</th><td><i>     function returns true from now on.  */</i></td></tr>
<tr><th id="2180">2180</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_init_all_dirs" data-ref="_M/GLRO">GLRO</a>(dl_init_all_dirs) = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_all_dirs" data-ref="_M/GL">GL</a>(dl_all_dirs);</td></tr>
<tr><th id="2181">2181</th><td></td></tr>
<tr><th id="2182">2182</th><td>  <i>/* Print scope information.  */</i></td></tr>
<tr><th id="2183">2183</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((_rtld_local_ro._dl_debug_mask &amp; (1 &lt;&lt; 9)), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_debug_mask" data-ref="_M/GLRO">GLRO</a>(dl_debug_mask) &amp; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#510" title="(1 &lt;&lt; 9)" data-ref="_M/DL_DEBUG_SCOPES">DL_DEBUG_SCOPES</a>))</td></tr>
<tr><th id="2184">2184</th><td>    {</td></tr>
<tr><th id="2185">2185</th><td>      <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_debug_printf" title='_dl_debug_printf' data-ref="_dl_debug_printf" data-ref-filename="_dl_debug_printf">_dl_debug_printf</a> (<q>"\nInitial object scopes\n"</q>);</td></tr>
<tr><th id="2186">2186</th><td></td></tr>
<tr><th id="2187">2187</th><td>      <b>for</b> (<b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col3 decl" id="193l" title='l' data-type='struct link_map *' data-ref="193l" data-ref-filename="193l">l</dfn> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>; <a class="local col3 ref" href="#193l" title='l' data-ref="193l" data-ref-filename="193l">l</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>; <a class="local col3 ref" href="#193l" title='l' data-ref="193l" data-ref-filename="193l">l</a> = <a class="local col3 ref" href="#193l" title='l' data-ref="193l" data-ref-filename="193l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>)</td></tr>
<tr><th id="2188">2188</th><td>	<a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_show_scope" title='_dl_show_scope' data-ref="_dl_show_scope" data-ref-filename="_dl_show_scope">_dl_show_scope</a> (<a class="local col3 ref" href="#193l" title='l' data-ref="193l" data-ref-filename="193l">l</a>, <var>0</var>);</td></tr>
<tr><th id="2189">2189</th><td>    }</td></tr>
<tr><th id="2190">2190</th><td></td></tr>
<tr><th id="2191">2191</th><td>  <a class="ref fn" href="../sysdeps/x86/dl-prop.h.html#_rtld_main_check" title='_rtld_main_check' data-ref="_rtld_main_check" data-ref-filename="_rtld_main_check">_rtld_main_check</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>, <a class="ref" href="../sysdeps/generic/ldsodefs.h.html#_dl_argv" title='_dl_argv' data-ref="_dl_argv" data-ref-filename="_dl_argv">_dl_argv</a>[<var>0</var>]);</td></tr>
<tr><th id="2192">2192</th><td></td></tr>
<tr><th id="2193">2193</th><td>  <b>if</b> (<a class="local col7 ref" href="#127prelinked" title='prelinked' data-ref="127prelinked" data-ref-filename="127prelinked">prelinked</a>)</td></tr>
<tr><th id="2194">2194</th><td>    {</td></tr>
<tr><th id="2195">2195</th><td>      <b>if</b> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a> [<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#47" title="(35 + 0 + 16 + 3 + 12 + (0x6ffffeff - (0x6ffffef8)))" data-ref="_M/ADDRIDX">ADDRIDX</a> (<a class="macro" href="elf.h.html#923" title="0x6ffffef8" data-ref="_M/DT_GNU_CONFLICT">DT_GNU_CONFLICT</a>)] != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="2196">2196</th><td>	{</td></tr>
<tr><th id="2197">2197</th><td>	  <a class="macro" href="link.h.html#30" title="Elf64_Rela" data-ref="_M/ElfW">ElfW</a>(Rela) *<dfn class="local col4 decl" id="194conflict" title='conflict' data-type='Elf64_Rela *' data-ref="194conflict" data-ref-filename="194conflict">conflict</dfn>, *<dfn class="local col5 decl" id="195conflictend" title='conflictend' data-type='Elf64_Rela *' data-ref="195conflictend" data-ref-filename="195conflictend">conflictend</dfn>;</td></tr>
<tr><th id="2198">2198</th><td></td></tr>
<tr><th id="2199">2199</th><td>	  <a class="macro" href="#59" title="hp_timing_t start" data-ref="_M/RTLD_TIMING_VAR">RTLD_TIMING_VAR</a> (<dfn class="local col6 decl" id="196start" title='start' data-type='hp_timing_t' data-ref="196start" data-ref-filename="196start">start</dfn>);</td></tr>
<tr><th id="2200">2200</th><td>	  <a class="tu ref fn" href="#rtld_timer_start" title='rtld_timer_start' data-use='c' data-ref="rtld_timer_start" data-ref-filename="rtld_timer_start">rtld_timer_start</a> (&amp;<a class="local col6 ref" href="#2199" title='start' data-ref="196start" data-ref-filename="196start">start</a>);</td></tr>
<tr><th id="2201">2201</th><td></td></tr>
<tr><th id="2202">2202</th><td>	  <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((main_map-&gt;l_info [(35 + 0 + 16 + 3 + (0x6ffffdff - (0x6ffffdf6)))] != ((void*)0)) ? 1 : 0), __extension__ ({ if (main_map-&gt;l_info [(35 + 0 + 16 + 3 + (0x6ffffdff - (0x6ffffdf6)))] != ((void*)0)) ; else __assert_fail (&quot;main_map-&gt;l_info [VALIDX (DT_GNU_CONFLICTSZ)] != NULL&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 2202, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a> [<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#45" title="(35 + 0 + 16 + 3 + (0x6ffffdff - (0x6ffffdf6)))" data-ref="_M/VALIDX">VALIDX</a> (<a class="macro" href="elf.h.html#899" title="0x6ffffdf6" data-ref="_M/DT_GNU_CONFLICTSZ">DT_GNU_CONFLICTSZ</a>)] != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="2203">2203</th><td>	  <a class="local col4 ref" href="#194conflict" title='conflict' data-ref="194conflict" data-ref-filename="194conflict">conflict</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Rela" data-ref="_M/ElfW">ElfW</a>(Rela) *)</td></tr>
<tr><th id="2204">2204</th><td>	    <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a> [<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#47" title="(35 + 0 + 16 + 3 + 12 + (0x6ffffeff - (0x6ffffef8)))" data-ref="_M/ADDRIDX">ADDRIDX</a> (<a class="macro" href="elf.h.html#923" title="0x6ffffef8" data-ref="_M/DT_GNU_CONFLICT">DT_GNU_CONFLICT</a>)]-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_ptr" title='(anonymous struct)::(anonymous union)::d_ptr' data-ref="(anonymousstruct)::(anonymous)::d_ptr" data-ref-filename="(anonymousstruct)..(anonymous)..d_ptr">d_ptr</a>;</td></tr>
<tr><th id="2205">2205</th><td>	  <a class="local col5 ref" href="#195conflictend" title='conflictend' data-ref="195conflictend" data-ref-filename="195conflictend">conflictend</a> = (<a class="macro" href="link.h.html#30" title="Elf64_Rela" data-ref="_M/ElfW">ElfW</a>(Rela) *)</td></tr>
<tr><th id="2206">2206</th><td>	    ((<em>char</em> *) <a class="local col4 ref" href="#194conflict" title='conflict' data-ref="194conflict" data-ref-filename="194conflict">conflict</a></td></tr>
<tr><th id="2207">2207</th><td>	     + <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a> [<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#45" title="(35 + 0 + 16 + 3 + (0x6ffffdff - (0x6ffffdf6)))" data-ref="_M/VALIDX">VALIDX</a> (<a class="macro" href="elf.h.html#899" title="0x6ffffdf6" data-ref="_M/DT_GNU_CONFLICTSZ">DT_GNU_CONFLICTSZ</a>)]-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_val" title='(anonymous struct)::(anonymous union)::d_val' data-ref="(anonymousstruct)::(anonymous)::d_val" data-ref-filename="(anonymousstruct)..(anonymous)..d_val">d_val</a>);</td></tr>
<tr><th id="2208">2208</th><td>	  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_resolve_conflicts" title='_dl_resolve_conflicts' data-ref="_dl_resolve_conflicts" data-ref-filename="_dl_resolve_conflicts">_dl_resolve_conflicts</a> (<a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>, <a class="local col4 ref" href="#194conflict" title='conflict' data-ref="194conflict" data-ref-filename="194conflict">conflict</a>, <a class="local col5 ref" href="#195conflictend" title='conflictend' data-ref="195conflictend" data-ref-filename="195conflictend">conflictend</a>);</td></tr>
<tr><th id="2209">2209</th><td></td></tr>
<tr><th id="2210">2210</th><td>	  <a class="tu ref fn" href="#rtld_timer_stop" title='rtld_timer_stop' data-use='c' data-ref="rtld_timer_stop" data-ref-filename="rtld_timer_stop">rtld_timer_stop</a> (&amp;<a class="tu ref" href="#351" title='relocate_time' data-use='a' data-ref="relocate_time" data-ref-filename="relocate_time">relocate_time</a>, <a class="local col6 ref" href="#2199" title='start' data-ref="196start" data-ref-filename="196start">start</a>);</td></tr>
<tr><th id="2211">2211</th><td>	}</td></tr>
<tr><th id="2212">2212</th><td></td></tr>
<tr><th id="2213">2213</th><td></td></tr>
<tr><th id="2214">2214</th><td>      <i>/* Mark all the objects so we know they have been already relocated.  */</i></td></tr>
<tr><th id="2215">2215</th><td>      <b>for</b> (<b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col7 decl" id="197l" title='l' data-type='struct link_map *' data-ref="197l" data-ref-filename="197l">l</dfn> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>; <a class="local col7 ref" href="#197l" title='l' data-ref="197l" data-ref-filename="197l">l</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>; <a class="local col7 ref" href="#197l" title='l' data-ref="197l" data-ref-filename="197l">l</a> = <a class="local col7 ref" href="#197l" title='l' data-ref="197l" data-ref-filename="197l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_next" title='link_map::l_next' data-ref="link_map::l_next" data-ref-filename="link_map..l_next">l_next</a>)</td></tr>
<tr><th id="2216">2216</th><td>	{</td></tr>
<tr><th id="2217">2217</th><td>	  <a class="local col7 ref" href="#197l" title='l' data-ref="197l" data-ref-filename="197l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_relocated" title='link_map::l_relocated' data-ref="link_map::l_relocated" data-ref-filename="link_map..l_relocated">l_relocated</a> = <var>1</var>;</td></tr>
<tr><th id="2218">2218</th><td>	  <b>if</b> (<a class="local col7 ref" href="#197l" title='l' data-ref="197l" data-ref-filename="197l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_relro_size" title='link_map::l_relro_size' data-ref="link_map::l_relro_size" data-ref-filename="link_map..l_relro_size">l_relro_size</a>)</td></tr>
<tr><th id="2219">2219</th><td>	    <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_protect_relro" title='_dl_protect_relro' data-ref="_dl_protect_relro" data-ref-filename="_dl_protect_relro">_dl_protect_relro</a> (<a class="local col7 ref" href="#197l" title='l' data-ref="197l" data-ref-filename="197l">l</a>);</td></tr>
<tr><th id="2220">2220</th><td></td></tr>
<tr><th id="2221">2221</th><td>	  <i>/* Add object to slot information data if necessasy.  */</i></td></tr>
<tr><th id="2222">2222</th><td>	  <b>if</b> (<a class="local col7 ref" href="#197l" title='l' data-ref="197l" data-ref-filename="197l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_blocksize" title='link_map::l_tls_blocksize' data-ref="link_map::l_tls_blocksize" data-ref-filename="link_map..l_tls_blocksize">l_tls_blocksize</a> != <var>0</var> &amp;&amp; <a class="tu ref" href="#tls_init_tp_called" title='tls_init_tp_called' data-use='r' data-ref="tls_init_tp_called" data-ref-filename="tls_init_tp_called">tls_init_tp_called</a>)</td></tr>
<tr><th id="2223">2223</th><td>	    <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_add_to_slotinfo" title='_dl_add_to_slotinfo' data-ref="_dl_add_to_slotinfo" data-ref-filename="_dl_add_to_slotinfo">_dl_add_to_slotinfo</a> (<a class="local col7 ref" href="#197l" title='l' data-ref="197l" data-ref-filename="197l">l</a>, <span class="macro" title="1" data-ref="_M/true">true</span>);</td></tr>
<tr><th id="2224">2224</th><td>	}</td></tr>
<tr><th id="2225">2225</th><td>    }</td></tr>
<tr><th id="2226">2226</th><td>  <b>else</b></td></tr>
<tr><th id="2227">2227</th><td>    {</td></tr>
<tr><th id="2228">2228</th><td>      <i>/* Now we have all the objects loaded.  Relocate them all except for</i></td></tr>
<tr><th id="2229">2229</th><td><i>	 the dynamic linker itself.  We do this in reverse order so that copy</i></td></tr>
<tr><th id="2230">2230</th><td><i>	 relocs of earlier objects overwrite the data written by later</i></td></tr>
<tr><th id="2231">2231</th><td><i>	 objects.  We do not re-relocate the dynamic linker itself in this</i></td></tr>
<tr><th id="2232">2232</th><td><i>	 loop because that could result in the GOT entries for functions we</i></td></tr>
<tr><th id="2233">2233</th><td><i>	 call being changed, and that would break us.  It is safe to relocate</i></td></tr>
<tr><th id="2234">2234</th><td><i>	 the dynamic linker out of order because it has no copy relocs (we</i></td></tr>
<tr><th id="2235">2235</th><td><i>	 know that because it is self-contained).  */</i></td></tr>
<tr><th id="2236">2236</th><td></td></tr>
<tr><th id="2237">2237</th><td>      <em>int</em> <dfn class="local col8 decl" id="198consider_profiling" title='consider_profiling' data-type='int' data-ref="198consider_profiling" data-ref-filename="198consider_profiling">consider_profiling</dfn> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_profile" data-ref="_M/GLRO">GLRO</a>(dl_profile) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="2238">2238</th><td></td></tr>
<tr><th id="2239">2239</th><td>      <i>/* If we are profiling we also must do lazy reloaction.  */</i></td></tr>
<tr><th id="2240">2240</th><td>      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_lazy" data-ref="_M/GLRO">GLRO</a>(dl_lazy) |= <a class="local col8 ref" href="#198consider_profiling" title='consider_profiling' data-ref="198consider_profiling" data-ref-filename="198consider_profiling">consider_profiling</a>;</td></tr>
<tr><th id="2241">2241</th><td></td></tr>
<tr><th id="2242">2242</th><td>      <a class="macro" href="#59" title="hp_timing_t start" data-ref="_M/RTLD_TIMING_VAR">RTLD_TIMING_VAR</a> (<dfn class="local col9 decl" id="199start" title='start' data-type='hp_timing_t' data-ref="199start" data-ref-filename="199start">start</dfn>);</td></tr>
<tr><th id="2243">2243</th><td>      <a class="tu ref fn" href="#rtld_timer_start" title='rtld_timer_start' data-use='c' data-ref="rtld_timer_start" data-ref-filename="rtld_timer_start">rtld_timer_start</a> (&amp;<a class="local col9 ref" href="#2242" title='start' data-ref="199start" data-ref-filename="199start">start</a>);</td></tr>
<tr><th id="2244">2244</th><td>      <em>unsigned</em> <dfn class="local col0 decl" id="200i" title='i' data-type='unsigned int' data-ref="200i" data-ref-filename="200i">i</dfn> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>.<a class="ref field" href="../include/link.h.html#r_scope_elem::r_nlist" title='r_scope_elem::r_nlist' data-ref="r_scope_elem::r_nlist" data-ref-filename="r_scope_elem..r_nlist">r_nlist</a>;</td></tr>
<tr><th id="2245">2245</th><td>      <b>while</b> (<a class="local col0 ref" href="#200i" title='i' data-ref="200i" data-ref-filename="200i">i</a>-- &gt; <var>0</var>)</td></tr>
<tr><th id="2246">2246</th><td>	{</td></tr>
<tr><th id="2247">2247</th><td>	  <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col1 decl" id="201l" title='l' data-type='struct link_map *' data-ref="201l" data-ref-filename="201l">l</dfn> = <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_initfini" title='link_map::l_initfini' data-ref="link_map::l_initfini" data-ref-filename="link_map..l_initfini">l_initfini</a>[<a class="local col0 ref" href="#200i" title='i' data-ref="200i" data-ref-filename="200i">i</a>];</td></tr>
<tr><th id="2248">2248</th><td></td></tr>
<tr><th id="2249">2249</th><td>	  <i>/* While we are at it, help the memory handling a bit.  We have to</i></td></tr>
<tr><th id="2250">2250</th><td><i>	     mark some data structures as allocated with the fake malloc()</i></td></tr>
<tr><th id="2251">2251</th><td><i>	     implementation in ld.so.  */</i></td></tr>
<tr><th id="2252">2252</th><td>	  <b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#libname_list" title='libname_list' data-ref="libname_list" data-ref-filename="libname_list">libname_list</a> *<dfn class="local col2 decl" id="202lnp" title='lnp' data-type='struct libname_list *' data-ref="202lnp" data-ref-filename="202lnp">lnp</dfn> = <a class="local col1 ref" href="#201l" title='l' data-ref="201l" data-ref-filename="201l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_libname" title='link_map::l_libname' data-ref="link_map::l_libname" data-ref-filename="link_map..l_libname">l_libname</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::next" title='libname_list::next' data-ref="libname_list::next" data-ref-filename="libname_list..next">next</a>;</td></tr>
<tr><th id="2253">2253</th><td></td></tr>
<tr><th id="2254">2254</th><td>	  <b>while</b> (<a class="ref fn" href="#168" title='__builtin_expect' data-ref="__builtin_expect" data-ref-filename="__builtin_expect">__builtin_expect</a> (<a class="local col2 ref" href="#202lnp" title='lnp' data-ref="202lnp" data-ref-filename="202lnp">lnp</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>))</td></tr>
<tr><th id="2255">2255</th><td>	    {</td></tr>
<tr><th id="2256">2256</th><td>	      <a class="local col2 ref" href="#202lnp" title='lnp' data-ref="202lnp" data-ref-filename="202lnp">lnp</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::dont_free" title='libname_list::dont_free' data-ref="libname_list::dont_free" data-ref-filename="libname_list..dont_free">dont_free</a> = <var>1</var>;</td></tr>
<tr><th id="2257">2257</th><td>	      <a class="local col2 ref" href="#202lnp" title='lnp' data-ref="202lnp" data-ref-filename="202lnp">lnp</a> = <a class="local col2 ref" href="#202lnp" title='lnp' data-ref="202lnp" data-ref-filename="202lnp">lnp</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#libname_list::next" title='libname_list::next' data-ref="libname_list::next" data-ref-filename="libname_list..next">next</a>;</td></tr>
<tr><th id="2258">2258</th><td>	    }</td></tr>
<tr><th id="2259">2259</th><td>	  <i>/* Also allocated with the fake malloc().  */</i></td></tr>
<tr><th id="2260">2260</th><td>	  <a class="local col1 ref" href="#201l" title='l' data-ref="201l" data-ref-filename="201l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_free_initfini" title='link_map::l_free_initfini' data-ref="link_map::l_free_initfini" data-ref-filename="link_map..l_free_initfini">l_free_initfini</a> = <var>0</var>;</td></tr>
<tr><th id="2261">2261</th><td></td></tr>
<tr><th id="2262">2262</th><td>	  <b>if</b> (<a class="local col1 ref" href="#201l" title='l' data-ref="201l" data-ref-filename="201l">l</a> != &amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map))</td></tr>
<tr><th id="2263">2263</th><td>	    <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_relocate_object" title='_dl_relocate_object' data-ref="_dl_relocate_object" data-ref-filename="_dl_relocate_object">_dl_relocate_object</a> (<a class="local col1 ref" href="#201l" title='l' data-ref="201l" data-ref-filename="201l">l</a>, <a class="local col1 ref" href="#201l" title='l' data-ref="201l" data-ref-filename="201l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_scope" title='link_map::l_scope' data-ref="link_map::l_scope" data-ref-filename="link_map..l_scope">l_scope</a>, <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_lazy" data-ref="_M/GLRO">GLRO</a>(dl_lazy) ? <a class="macro" href="../bits/dlfcn.h.html#24" title="0x00001" data-ref="_M/RTLD_LAZY">RTLD_LAZY</a> : <var>0</var>,</td></tr>
<tr><th id="2264">2264</th><td>				 <a class="local col8 ref" href="#198consider_profiling" title='consider_profiling' data-ref="198consider_profiling" data-ref-filename="198consider_profiling">consider_profiling</a>);</td></tr>
<tr><th id="2265">2265</th><td></td></tr>
<tr><th id="2266">2266</th><td>	  <i>/* Add object to slot information data if necessasy.  */</i></td></tr>
<tr><th id="2267">2267</th><td>	  <b>if</b> (<a class="local col1 ref" href="#201l" title='l' data-ref="201l" data-ref-filename="201l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_tls_blocksize" title='link_map::l_tls_blocksize' data-ref="link_map::l_tls_blocksize" data-ref-filename="link_map..l_tls_blocksize">l_tls_blocksize</a> != <var>0</var> &amp;&amp; <a class="tu ref" href="#tls_init_tp_called" title='tls_init_tp_called' data-use='r' data-ref="tls_init_tp_called" data-ref-filename="tls_init_tp_called">tls_init_tp_called</a>)</td></tr>
<tr><th id="2268">2268</th><td>	    <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_add_to_slotinfo" title='_dl_add_to_slotinfo' data-ref="_dl_add_to_slotinfo" data-ref-filename="_dl_add_to_slotinfo">_dl_add_to_slotinfo</a> (<a class="local col1 ref" href="#201l" title='l' data-ref="201l" data-ref-filename="201l">l</a>, <span class="macro" title="1" data-ref="_M/true">true</span>);</td></tr>
<tr><th id="2269">2269</th><td>	}</td></tr>
<tr><th id="2270">2270</th><td>      <a class="tu ref fn" href="#rtld_timer_stop" title='rtld_timer_stop' data-use='c' data-ref="rtld_timer_stop" data-ref-filename="rtld_timer_stop">rtld_timer_stop</a> (&amp;<a class="tu ref" href="#351" title='relocate_time' data-use='a' data-ref="relocate_time" data-ref-filename="relocate_time">relocate_time</a>, <a class="local col9 ref" href="#2242" title='start' data-ref="199start" data-ref-filename="199start">start</a>);</td></tr>
<tr><th id="2271">2271</th><td></td></tr>
<tr><th id="2272">2272</th><td>      <i>/* Now enable profiling if needed.  Like the previous call,</i></td></tr>
<tr><th id="2273">2273</th><td><i>	 this has to go here because the calls it makes should use the</i></td></tr>
<tr><th id="2274">2274</th><td><i>	 rtld versions of the functions (particularly calloc()), but it</i></td></tr>
<tr><th id="2275">2275</th><td><i>	 needs to have _dl_profile_map set up by the relocator.  */</i></td></tr>
<tr><th id="2276">2276</th><td>      <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((_rtld_local._dl_profile_map != ((void*)0)), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_profile_map" data-ref="_M/GL">GL</a>(dl_profile_map) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>))</td></tr>
<tr><th id="2277">2277</th><td>	<i>/* We must prepare the profiling.  */</i></td></tr>
<tr><th id="2278">2278</th><td>	<a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_start_profile" title='_dl_start_profile' data-ref="_dl_start_profile" data-ref-filename="_dl_start_profile">_dl_start_profile</a> ();</td></tr>
<tr><th id="2279">2279</th><td>    }</td></tr>
<tr><th id="2280">2280</th><td></td></tr>
<tr><th id="2281">2281</th><td>  <b>if</b> ((!<a class="local col6 ref" href="#166was_tls_init_tp_called" title='was_tls_init_tp_called' data-ref="166was_tls_init_tp_called" data-ref-filename="166was_tls_init_tp_called">was_tls_init_tp_called</a> &amp;&amp; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_tls_max_dtv_idx" data-ref="_M/GL">GL</a>(dl_tls_max_dtv_idx) &gt; <var>0</var>)</td></tr>
<tr><th id="2282">2282</th><td>      || <a class="local col7 ref" href="#147count_modids" title='count_modids' data-ref="147count_modids" data-ref-filename="147count_modids">count_modids</a> != <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_count_modids" title='_dl_count_modids' data-ref="_dl_count_modids" data-ref-filename="_dl_count_modids">_dl_count_modids</a> ())</td></tr>
<tr><th id="2283">2283</th><td>    ++<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_tls_generation" data-ref="_M/GL">GL</a>(dl_tls_generation);</td></tr>
<tr><th id="2284">2284</th><td></td></tr>
<tr><th id="2285">2285</th><td>  <i>/* Now that we have completed relocation, the initializer data</i></td></tr>
<tr><th id="2286">2286</th><td><i>     for the TLS blocks has its final values and we can copy them</i></td></tr>
<tr><th id="2287">2287</th><td><i>     into the main thread's TLS area, which we allocated above.</i></td></tr>
<tr><th id="2288">2288</th><td><i>     Note: thread-local variables must only be accessed after completing</i></td></tr>
<tr><th id="2289">2289</th><td><i>     the next step.  */</i></td></tr>
<tr><th id="2290">2290</th><td>  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#__GI__dl_allocate_tls_init" title='_dl_allocate_tls_init' data-ref="__GI__dl_allocate_tls_init" data-ref-filename="__GI__dl_allocate_tls_init">_dl_allocate_tls_init</a> (<a class="local col9 ref" href="#129tcbp" title='tcbp' data-ref="129tcbp" data-ref-filename="129tcbp">tcbp</a>);</td></tr>
<tr><th id="2291">2291</th><td></td></tr>
<tr><th id="2292">2292</th><td>  <i>/* And finally install it for the main thread.  */</i></td></tr>
<tr><th id="2293">2293</th><td>  <b>if</b> (! <a class="tu ref" href="#tls_init_tp_called" title='tls_init_tp_called' data-use='r' data-ref="tls_init_tp_called" data-ref-filename="tls_init_tp_called">tls_init_tp_called</a>)</td></tr>
<tr><th id="2294">2294</th><td>    {</td></tr>
<tr><th id="2295">2295</th><td>      <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="203lossage" title='lossage' data-type='const char *' data-ref="203lossage" data-ref-filename="203lossage">lossage</dfn> = <a class="macro" href="../sysdeps/x86_64/nptl/tls.h.html#154" title="({ void *_thrdescr = (tcbp); tcbhead_t *_head = _thrdescr; int _result; _head-&gt;tcb = _thrdescr; _head-&gt;self = _thrdescr; asm volatile (&quot;syscall&quot; : &quot;=a&quot; (_result) : &quot;0&quot; ((unsigned long int) 158), &quot;D&quot; ((unsigned long int) 0x1002), &quot;S&quot; (_thrdescr) : &quot;memory&quot;, &quot;cc&quot;, &quot;r11&quot;, &quot;cx&quot;); _result ? &quot;cannot set %fs base address for thread-local storage&quot; : 0; })" data-ref="_M/TLS_INIT_TP">TLS_INIT_TP</a> (<a class="local col9 ref" href="#129tcbp" title='tcbp' data-ref="129tcbp" data-ref-filename="129tcbp">tcbp</a>);</td></tr>
<tr><th id="2296">2296</th><td>      <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((lossage != ((void*)0)), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="local col3 ref" href="#203lossage" title='lossage' data-ref="203lossage" data-ref-filename="203lossage">lossage</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>))</td></tr>
<tr><th id="2297">2297</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#760" title="do { _dl_dprintf (2, &quot;cannot set up thread-local storage: %s\n&quot;, lossage); exit_internal (127); } while (1)" data-ref="_M/_dl_fatal_printf">_dl_fatal_printf</a> (<q>"cannot set up thread-local storage: %s\n"</q>,</td></tr>
<tr><th id="2298">2298</th><td>			  <a class="local col3 ref" href="#203lossage" title='lossage' data-ref="203lossage" data-ref-filename="203lossage">lossage</a>);</td></tr>
<tr><th id="2299">2299</th><td>    }</td></tr>
<tr><th id="2300">2300</th><td></td></tr>
<tr><th id="2301">2301</th><td>  <i>/* Make sure no new search directories have been added.  */</i></td></tr>
<tr><th id="2302">2302</th><td>  <a class="macro" href="../assert/assert.h.html#104" title="((void) sizeof ((_rtld_local_ro._dl_init_all_dirs == _rtld_local._dl_all_dirs) ? 1 : 0), __extension__ ({ if (_rtld_local_ro._dl_init_all_dirs == _rtld_local._dl_all_dirs) ; else __assert_fail (&quot;GLRO(dl_init_all_dirs) == GL(dl_all_dirs)&quot;, &quot;/home/fp/glibc/glibc_src/elf/rtld.c&quot;, 2302, __extension__ __PRETTY_FUNCTION__); }))" data-ref="_M/assert">assert</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_init_all_dirs" data-ref="_M/GLRO">GLRO</a>(dl_init_all_dirs) == <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_all_dirs" data-ref="_M/GL">GL</a>(dl_all_dirs));</td></tr>
<tr><th id="2303">2303</th><td></td></tr>
<tr><th id="2304">2304</th><td>  <b>if</b> (! <a class="local col7 ref" href="#127prelinked" title='prelinked' data-ref="127prelinked" data-ref-filename="127prelinked">prelinked</a> &amp;&amp; <a class="local col4 ref" href="#164rtld_multiple_ref" title='rtld_multiple_ref' data-ref="164rtld_multiple_ref" data-ref-filename="164rtld_multiple_ref">rtld_multiple_ref</a>)</td></tr>
<tr><th id="2305">2305</th><td>    {</td></tr>
<tr><th id="2306">2306</th><td>      <i>/* There was an explicit ref to the dynamic linker as a shared lib.</i></td></tr>
<tr><th id="2307">2307</th><td><i>	 Re-relocate ourselves with user-controlled symbol definitions.</i></td></tr>
<tr><th id="2308">2308</th><td><i></i></td></tr>
<tr><th id="2309">2309</th><td><i>	 We must do this after TLS initialization in case after this</i></td></tr>
<tr><th id="2310">2310</th><td><i>	 re-relocation, we might call a user-supplied function</i></td></tr>
<tr><th id="2311">2311</th><td><i>	 (e.g. calloc from _dl_relocate_object) that uses TLS data.  */</i></td></tr>
<tr><th id="2312">2312</th><td></td></tr>
<tr><th id="2313">2313</th><td>      <a class="macro" href="#59" title="hp_timing_t start" data-ref="_M/RTLD_TIMING_VAR">RTLD_TIMING_VAR</a> (<dfn class="local col4 decl" id="204start" title='start' data-type='hp_timing_t' data-ref="204start" data-ref-filename="204start">start</dfn>);</td></tr>
<tr><th id="2314">2314</th><td>      <a class="tu ref fn" href="#rtld_timer_start" title='rtld_timer_start' data-use='c' data-ref="rtld_timer_start" data-ref-filename="rtld_timer_start">rtld_timer_start</a> (&amp;<a class="local col4 ref" href="#2313" title='start' data-ref="204start" data-ref-filename="204start">start</a>);</td></tr>
<tr><th id="2315">2315</th><td></td></tr>
<tr><th id="2316">2316</th><td>      <i>/* Mark the link map as not yet relocated again.  */</i></td></tr>
<tr><th id="2317">2317</th><td>      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map).<a class="ref field" href="../include/link.h.html#link_map::l_relocated" title='link_map::l_relocated' data-ref="link_map::l_relocated" data-ref-filename="link_map..l_relocated">l_relocated</a> = <var>0</var>;</td></tr>
<tr><th id="2318">2318</th><td>      <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_relocate_object" title='_dl_relocate_object' data-ref="_dl_relocate_object" data-ref-filename="_dl_relocate_object">_dl_relocate_object</a> (&amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_rtld_map" data-ref="_M/GL">GL</a>(dl_rtld_map), <a class="local col2 ref" href="#122main_map" title='main_map' data-ref="122main_map" data-ref-filename="122main_map">main_map</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_scope" title='link_map::l_scope' data-ref="link_map::l_scope" data-ref-filename="link_map..l_scope">l_scope</a>, <var>0</var>, <var>0</var>);</td></tr>
<tr><th id="2319">2319</th><td></td></tr>
<tr><th id="2320">2320</th><td>      <a class="tu ref fn" href="#rtld_timer_accum" title='rtld_timer_accum' data-use='c' data-ref="rtld_timer_accum" data-ref-filename="rtld_timer_accum">rtld_timer_accum</a> (&amp;<a class="tu ref" href="#351" title='relocate_time' data-use='a' data-ref="relocate_time" data-ref-filename="relocate_time">relocate_time</a>, <a class="local col4 ref" href="#2313" title='start' data-ref="204start" data-ref-filename="204start">start</a>);</td></tr>
<tr><th id="2321">2321</th><td>    }</td></tr>
<tr><th id="2322">2322</th><td></td></tr>
<tr><th id="2323">2323</th><td>  <i>/* Do any necessary cleanups for the startup OS interface code.</i></td></tr>
<tr><th id="2324">2324</th><td><i>     We do these now so that no calls are made after rtld re-relocation</i></td></tr>
<tr><th id="2325">2325</th><td><i>     which might be resolved to different functions than we expect.</i></td></tr>
<tr><th id="2326">2326</th><td><i>     We cannot do this before relocating the other objects because</i></td></tr>
<tr><th id="2327">2327</th><td><i>     _dl_relocate_object might need to call `mprotect' for DT_TEXTREL.  */</i></td></tr>
<tr><th id="2328">2328</th><td>  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_sysdep_start_cleanup" title='_dl_sysdep_start_cleanup' data-ref="_dl_sysdep_start_cleanup" data-ref-filename="_dl_sysdep_start_cleanup">_dl_sysdep_start_cleanup</a> ();</td></tr>
<tr><th id="2329">2329</th><td></td></tr>
<tr><th id="2330">2330</th><td><u>#<span data-ppcond="2330">ifdef</span> <span class="macro" data-ref="_M/SHARED">SHARED</span></u></td></tr>
<tr><th id="2331">2331</th><td>  <i>/* Auditing checkpoint: we have added all objects.  */</i></td></tr>
<tr><th id="2332">2332</th><td>  <b>if</b> (<a class="macro" href="../misc/sys/cdefs.h.html#402" title="__builtin_expect ((_rtld_local_ro._dl_naudit &gt; 0), 0)" data-ref="_M/__glibc_unlikely">__glibc_unlikely</a> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_naudit" data-ref="_M/GLRO">GLRO</a>(dl_naudit) &gt; <var>0</var>))</td></tr>
<tr><th id="2333">2333</th><td>    {</td></tr>
<tr><th id="2334">2334</th><td>      <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col5 decl" id="205head" title='head' data-type='struct link_map *' data-ref="205head" data-ref-filename="205head">head</dfn> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_loaded" title='link_namespaces::_ns_loaded' data-ref="link_namespaces::_ns_loaded" data-ref-filename="link_namespaces.._ns_loaded">_ns_loaded</a>;</td></tr>
<tr><th id="2335">2335</th><td>      <i>/* Do not call the functions for any auditing object.  */</i></td></tr>
<tr><th id="2336">2336</th><td>      <b>if</b> (<a class="local col5 ref" href="#205head" title='head' data-ref="205head" data-ref-filename="205head">head</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_auditing" title='link_map::l_auditing' data-ref="link_map::l_auditing" data-ref-filename="link_map..l_auditing">l_auditing</a> == <var>0</var>)</td></tr>
<tr><th id="2337">2337</th><td>	{</td></tr>
<tr><th id="2338">2338</th><td>	  <b>struct</b> <a class="type" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces" title='audit_ifaces' data-ref="audit_ifaces" data-ref-filename="audit_ifaces">audit_ifaces</a> *<dfn class="local col6 decl" id="206afct" title='afct' data-type='struct audit_ifaces *' data-ref="206afct" data-ref-filename="206afct">afct</dfn> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_audit" data-ref="_M/GLRO">GLRO</a>(dl_audit);</td></tr>
<tr><th id="2339">2339</th><td>	  <b>for</b> (<em>unsigned</em> <em>int</em> <dfn class="local col7 decl" id="207cnt" title='cnt' data-type='unsigned int' data-ref="207cnt" data-ref-filename="207cnt">cnt</dfn> = <var>0</var>; <a class="local col7 ref" href="#207cnt" title='cnt' data-ref="207cnt" data-ref-filename="207cnt">cnt</a> &lt; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_naudit" data-ref="_M/GLRO">GLRO</a>(dl_naudit); ++<a class="local col7 ref" href="#207cnt" title='cnt' data-ref="207cnt" data-ref-filename="207cnt">cnt</a>)</td></tr>
<tr><th id="2340">2340</th><td>	    {</td></tr>
<tr><th id="2341">2341</th><td>	      <b>if</b> (<a class="local col6 ref" href="#206afct" title='afct' data-ref="206afct" data-ref-filename="206afct">afct</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces::activity" title='audit_ifaces::activity' data-ref="audit_ifaces::activity" data-ref-filename="audit_ifaces..activity">activity</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="2342">2342</th><td>		<a class="local col6 ref" href="#206afct" title='afct' data-ref="206afct" data-ref-filename="206afct">afct</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces::activity" title='audit_ifaces::activity' data-ref="audit_ifaces::activity" data-ref-filename="audit_ifaces..activity">activity</a> (&amp;<a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#link_map_audit_state" title='link_map_audit_state' data-ref="link_map_audit_state" data-ref-filename="link_map_audit_state">link_map_audit_state</a> (<a class="local col5 ref" href="#205head" title='head' data-ref="205head" data-ref-filename="205head">head</a>, <a class="local col7 ref" href="#207cnt" title='cnt' data-ref="207cnt" data-ref-filename="207cnt">cnt</a>)-&gt;<a class="ref field" href="../include/link.h.html#auditstate::cookie" title='auditstate::cookie' data-ref="auditstate::cookie" data-ref-filename="auditstate..cookie">cookie</a>,</td></tr>
<tr><th id="2343">2343</th><td>				<a class="enum" href="link.h.html#LA_ACT_CONSISTENT" title='LA_ACT_CONSISTENT' data-ref="LA_ACT_CONSISTENT" data-ref-filename="LA_ACT_CONSISTENT">LA_ACT_CONSISTENT</a>);</td></tr>
<tr><th id="2344">2344</th><td></td></tr>
<tr><th id="2345">2345</th><td>	      <a class="local col6 ref" href="#206afct" title='afct' data-ref="206afct" data-ref-filename="206afct">afct</a> = <a class="local col6 ref" href="#206afct" title='afct' data-ref="206afct" data-ref-filename="206afct">afct</a>-&gt;<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#audit_ifaces::next" title='audit_ifaces::next' data-ref="audit_ifaces::next" data-ref-filename="audit_ifaces..next">next</a>;</td></tr>
<tr><th id="2346">2346</th><td>	    }</td></tr>
<tr><th id="2347">2347</th><td>	}</td></tr>
<tr><th id="2348">2348</th><td>    }</td></tr>
<tr><th id="2349">2349</th><td><u>#<span data-ppcond="2330">endif</span></u></td></tr>
<tr><th id="2350">2350</th><td></td></tr>
<tr><th id="2351">2351</th><td>  <i>/* Notify the debugger all new objects are now ready to go.  We must re-get</i></td></tr>
<tr><th id="2352">2352</th><td><i>     the address since by now the variable might be in another object.  */</i></td></tr>
<tr><th id="2353">2353</th><td>  <a class="local col2 ref" href="#142r" title='r' data-ref="142r" data-ref-filename="142r">r</a> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_debug_initialize" title='_dl_debug_initialize' data-ref="_dl_debug_initialize" data-ref-filename="_dl_debug_initialize">_dl_debug_initialize</a> (<var>0</var>, <a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>);</td></tr>
<tr><th id="2354">2354</th><td>  <a class="local col2 ref" href="#142r" title='r' data-ref="142r" data-ref-filename="142r">r</a>-&gt;<a class="ref field" href="link.h.html#r_debug::r_state" title='r_debug::r_state' data-ref="r_debug::r_state" data-ref-filename="r_debug..r_state">r_state</a> = <a class="enum" href="link.h.html#r_debug::RT_CONSISTENT" title='r_debug::RT_CONSISTENT' data-ref="r_debug::RT_CONSISTENT" data-ref-filename="r_debug..RT_CONSISTENT">RT_CONSISTENT</a>;</td></tr>
<tr><th id="2355">2355</th><td>  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#__GI__dl_debug_state" title='_dl_debug_state' data-ref="__GI__dl_debug_state" data-ref-filename="__GI__dl_debug_state">_dl_debug_state</a> ();</td></tr>
<tr><th id="2356">2356</th><td>  <a class="macro" href="../include/stap-probe.h.html#61" title="do {} while (0)" data-ref="_M/LIBC_PROBE">LIBC_PROBE</a> (init_complete, <var>2</var>, <a class="macro" href="../dlfcn/dlfcn.h.html#47" title="0" data-ref="_M/LM_ID_BASE">LM_ID_BASE</a>, r);</td></tr>
<tr><th id="2357">2357</th><td></td></tr>
<tr><th id="2358">2358</th><td><u>#<span data-ppcond="2358">if</span> defined <span class="macro" data-ref="_M/USE_LDCONFIG">USE_LDCONFIG</span> &amp;&amp; !defined <span class="macro" data-ref="_M/MAP_COPY">MAP_COPY</span></u></td></tr>
<tr><th id="2359">2359</th><td>  <i>/* We must munmap() the cache file.  */</i></td></tr>
<tr><th id="2360">2360</th><td>  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_unload_cache" title='_dl_unload_cache' data-ref="_dl_unload_cache" data-ref-filename="_dl_unload_cache">_dl_unload_cache</a> ();</td></tr>
<tr><th id="2361">2361</th><td><u>#<span data-ppcond="2358">endif</span></u></td></tr>
<tr><th id="2362">2362</th><td></td></tr>
<tr><th id="2363">2363</th><td>  <i>/* Once we return, _dl_sysdep_start will invoke</i></td></tr>
<tr><th id="2364">2364</th><td><i>     the DT_INIT functions and then *USER_ENTRY.  */</i></td></tr>
<tr><th id="2365">2365</th><td>}</td></tr>
<tr><th id="2366">2366</th><td></td></tr>
<tr><th id="2367">2367</th><td><i  data-doc="print_unresolved">/* This is a little helper function for resolving symbols while</i></td></tr>
<tr><th id="2368">2368</th><td><i  data-doc="print_unresolved">   tracing the binary.  */</i></td></tr>
<tr><th id="2369">2369</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2370">2370</th><td><dfn class="tu decl def fn" id="print_unresolved" title='print_unresolved' data-type='void print_unresolved(int errcode, const char * objname, const char * errstring)' data-ref="print_unresolved" data-ref-filename="print_unresolved">print_unresolved</dfn> (<em>int</em> <dfn class="local col8 decl" id="208errcode" title='errcode' data-type='int' data-ref="208errcode" data-ref-filename="208errcode">errcode</dfn> <b>__attribute__</b> ((unused)), <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="209objname" title='objname' data-type='const char *' data-ref="209objname" data-ref-filename="209objname">objname</dfn>,</td></tr>
<tr><th id="2371">2371</th><td>		  <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="210errstring" title='errstring' data-type='const char *' data-ref="210errstring" data-ref-filename="210errstring">errstring</dfn>)</td></tr>
<tr><th id="2372">2372</th><td>{</td></tr>
<tr><th id="2373">2373</th><td>  <b>if</b> (<a class="local col9 ref" href="#209objname" title='objname' data-ref="209objname" data-ref-filename="209objname">objname</a>[<var>0</var>] == <kbd>'\0'</kbd>)</td></tr>
<tr><th id="2374">2374</th><td>    <a class="local col9 ref" href="#209objname" title='objname' data-ref="209objname" data-ref-filename="209objname">objname</a> = <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#180" title="(_dl_argv[0] ?: &quot;&lt;program name unknown&gt;&quot;)" data-ref="_M/RTLD_PROGNAME">RTLD_PROGNAME</a>;</td></tr>
<tr><th id="2375">2375</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#755" title="_dl_dprintf (2, &quot;%s	(%s)\n&quot;, errstring, objname)" data-ref="_M/_dl_error_printf">_dl_error_printf</a> (<q>"%s	(%s)\n"</q>, <a class="local col0 ref" href="#210errstring" title='errstring' data-ref="210errstring" data-ref-filename="210errstring">errstring</a>, <a class="local col9 ref" href="#209objname" title='objname' data-ref="209objname" data-ref-filename="209objname">objname</a>);</td></tr>
<tr><th id="2376">2376</th><td>}</td></tr>
<tr><th id="2377">2377</th><td></td></tr>
<tr><th id="2378">2378</th><td><i  data-doc="print_missing_version">/* This is a little helper function for resolving symbols while</i></td></tr>
<tr><th id="2379">2379</th><td><i  data-doc="print_missing_version">   tracing the binary.  */</i></td></tr>
<tr><th id="2380">2380</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2381">2381</th><td><dfn class="tu decl def fn" id="print_missing_version" title='print_missing_version' data-type='void print_missing_version(int errcode, const char * objname, const char * errstring)' data-ref="print_missing_version" data-ref-filename="print_missing_version">print_missing_version</dfn> (<em>int</em> <dfn class="local col1 decl" id="211errcode" title='errcode' data-type='int' data-ref="211errcode" data-ref-filename="211errcode">errcode</dfn> <b>__attribute__</b> ((unused)),</td></tr>
<tr><th id="2382">2382</th><td>		       <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="212objname" title='objname' data-type='const char *' data-ref="212objname" data-ref-filename="212objname">objname</dfn>, <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="213errstring" title='errstring' data-type='const char *' data-ref="213errstring" data-ref-filename="213errstring">errstring</dfn>)</td></tr>
<tr><th id="2383">2383</th><td>{</td></tr>
<tr><th id="2384">2384</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#755" title="_dl_dprintf (2, &quot;%s: %s: %s\n&quot;, (_dl_argv[0] ?: &quot;&lt;program name unknown&gt;&quot;), objname, errstring)" data-ref="_M/_dl_error_printf">_dl_error_printf</a> (<q>"%s: %s: %s\n"</q>, RTLD_PROGNAME,</td></tr>
<tr><th id="2385">2385</th><td>		    <a class="local col2 ref" href="#212objname" title='objname' data-ref="212objname" data-ref-filename="212objname">objname</a>, <a class="local col3 ref" href="#213errstring" title='errstring' data-ref="213errstring" data-ref-filename="213errstring">errstring</a>);</td></tr>
<tr><th id="2386">2386</th><td>}</td></tr>
<tr><th id="2387">2387</th><td></td></tr>
<tr><th id="2388">2388</th><td><i  data-doc="any_debug">/* Nonzero if any of the debugging options is enabled.  */</i></td></tr>
<tr><th id="2389">2389</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="any_debug" title='any_debug' data-type='int' data-ref="any_debug" data-ref-filename="any_debug">any_debug</dfn> <a class="macro" href="../include/libc-symbols.h.html#439" title="__attribute__ ((section (&quot;.data.rel.ro&quot;)))" data-ref="_M/attribute_relro">attribute_relro</a>;</td></tr>
<tr><th id="2390">2390</th><td></td></tr>
<tr><th id="2391">2391</th><td><i  data-doc="process_dl_debug">/* Process the string given as the parameter which explains which debugging</i></td></tr>
<tr><th id="2392">2392</th><td><i  data-doc="process_dl_debug">   options are enabled.  */</i></td></tr>
<tr><th id="2393">2393</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2394">2394</th><td><dfn class="tu decl def fn" id="process_dl_debug" title='process_dl_debug' data-type='void process_dl_debug(const char * dl_debug)' data-ref="process_dl_debug" data-ref-filename="process_dl_debug">process_dl_debug</dfn> (<em>const</em> <em>char</em> *<dfn class="local col4 decl" id="214dl_debug" title='dl_debug' data-type='const char *' data-ref="214dl_debug" data-ref-filename="214dl_debug">dl_debug</dfn>)</td></tr>
<tr><th id="2395">2395</th><td>{</td></tr>
<tr><th id="2396">2396</th><td>  <i>/* When adding new entries make sure that the maximal length of a name</i></td></tr>
<tr><th id="2397">2397</th><td><i>     is correctly handled in the LD_DEBUG_HELP code below.  */</i></td></tr>
<tr><th id="2398">2398</th><td>  <em>static</em> <em>const</em> <b>struct</b></td></tr>
<tr><th id="2399">2399</th><td>  {</td></tr>
<tr><th id="2400">2400</th><td>    <em>unsigned</em> <em>char</em> <dfn class="local col5 decl field" id="215len" title='len' data-type='unsigned char' data-ref="215len" data-ref-filename="215len">len</dfn>;</td></tr>
<tr><th id="2401">2401</th><td>    <em>const</em> <em>char</em> <dfn class="local col6 decl field" id="216name" title='name' data-type='const char [10]' data-ref="216name" data-ref-filename="216name">name</dfn>[<var>10</var>];</td></tr>
<tr><th id="2402">2402</th><td>    <em>const</em> <em>char</em> <dfn class="local col7 decl field" id="217helptext" title='helptext' data-type='const char [41]' data-ref="217helptext" data-ref-filename="217helptext">helptext</dfn>[<var>41</var>];</td></tr>
<tr><th id="2403">2403</th><td>    <em>unsigned</em> <em>short</em> <em>int</em> <dfn class="local col8 decl field" id="218mask" title='mask' data-type='unsigned short' data-ref="218mask" data-ref-filename="218mask">mask</dfn>;</td></tr>
<tr><th id="2404">2404</th><td>  } <dfn class="local col9 decl" id="219debopts" title='debopts' data-type='const struct (anonymous struct at /home/fp/glibc/glibc_src/elf/rtld.c:2398:16) [11]' data-ref="219debopts" data-ref-filename="219debopts">debopts</dfn>[] =</td></tr>
<tr><th id="2405">2405</th><td>    {</td></tr>
<tr><th id="2406">2406</th><td><u>#define <dfn class="macro" id="_M/LEN_AND_STR" data-ref="_M/LEN_AND_STR">LEN_AND_STR</dfn>(str) sizeof (str) - 1, str</u></td></tr>
<tr><th id="2407">2407</th><td>      { <a class="macro" href="#2406" title="sizeof (&quot;libs&quot;) - 1, &quot;libs&quot;" data-ref="_M/LEN_AND_STR">LEN_AND_STR</a> (<q>"libs"</q>), <q>"display library search paths"</q>,</td></tr>
<tr><th id="2408">2408</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#501" title="(1 &lt;&lt; 0)" data-ref="_M/DL_DEBUG_LIBS">DL_DEBUG_LIBS</a> | <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#502" title="(1 &lt;&lt; 1)" data-ref="_M/DL_DEBUG_IMPCALLS">DL_DEBUG_IMPCALLS</a> },</td></tr>
<tr><th id="2409">2409</th><td>      { <a class="macro" href="#2406" title="sizeof (&quot;reloc&quot;) - 1, &quot;reloc&quot;" data-ref="_M/LEN_AND_STR">LEN_AND_STR</a> (<q>"reloc"</q>), <q>"display relocation processing"</q>,</td></tr>
<tr><th id="2410">2410</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#506" title="(1 &lt;&lt; 5)" data-ref="_M/DL_DEBUG_RELOC">DL_DEBUG_RELOC</a> | <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#502" title="(1 &lt;&lt; 1)" data-ref="_M/DL_DEBUG_IMPCALLS">DL_DEBUG_IMPCALLS</a> },</td></tr>
<tr><th id="2411">2411</th><td>      { <a class="macro" href="#2406" title="sizeof (&quot;files&quot;) - 1, &quot;files&quot;" data-ref="_M/LEN_AND_STR">LEN_AND_STR</a> (<q>"files"</q>), <q>"display progress for input file"</q>,</td></tr>
<tr><th id="2412">2412</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#507" title="(1 &lt;&lt; 6)" data-ref="_M/DL_DEBUG_FILES">DL_DEBUG_FILES</a> | <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#502" title="(1 &lt;&lt; 1)" data-ref="_M/DL_DEBUG_IMPCALLS">DL_DEBUG_IMPCALLS</a> },</td></tr>
<tr><th id="2413">2413</th><td>      { <a class="macro" href="#2406" title="sizeof (&quot;symbols&quot;) - 1, &quot;symbols&quot;" data-ref="_M/LEN_AND_STR">LEN_AND_STR</a> (<q>"symbols"</q>), <q>"display symbol table processing"</q>,</td></tr>
<tr><th id="2414">2414</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#504" title="(1 &lt;&lt; 3)" data-ref="_M/DL_DEBUG_SYMBOLS">DL_DEBUG_SYMBOLS</a> | <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#502" title="(1 &lt;&lt; 1)" data-ref="_M/DL_DEBUG_IMPCALLS">DL_DEBUG_IMPCALLS</a> },</td></tr>
<tr><th id="2415">2415</th><td>      { <a class="macro" href="#2406" title="sizeof (&quot;bindings&quot;) - 1, &quot;bindings&quot;" data-ref="_M/LEN_AND_STR">LEN_AND_STR</a> (<q>"bindings"</q>), <q>"display information about symbol binding"</q>,</td></tr>
<tr><th id="2416">2416</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#503" title="(1 &lt;&lt; 2)" data-ref="_M/DL_DEBUG_BINDINGS">DL_DEBUG_BINDINGS</a> | <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#502" title="(1 &lt;&lt; 1)" data-ref="_M/DL_DEBUG_IMPCALLS">DL_DEBUG_IMPCALLS</a> },</td></tr>
<tr><th id="2417">2417</th><td>      { <a class="macro" href="#2406" title="sizeof (&quot;versions&quot;) - 1, &quot;versions&quot;" data-ref="_M/LEN_AND_STR">LEN_AND_STR</a> (<q>"versions"</q>), <q>"display version dependencies"</q>,</td></tr>
<tr><th id="2418">2418</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#505" title="(1 &lt;&lt; 4)" data-ref="_M/DL_DEBUG_VERSIONS">DL_DEBUG_VERSIONS</a> | <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#502" title="(1 &lt;&lt; 1)" data-ref="_M/DL_DEBUG_IMPCALLS">DL_DEBUG_IMPCALLS</a> },</td></tr>
<tr><th id="2419">2419</th><td>      { <a class="macro" href="#2406" title="sizeof (&quot;scopes&quot;) - 1, &quot;scopes&quot;" data-ref="_M/LEN_AND_STR">LEN_AND_STR</a> (<q>"scopes"</q>), <q>"display scope information"</q>,</td></tr>
<tr><th id="2420">2420</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#510" title="(1 &lt;&lt; 9)" data-ref="_M/DL_DEBUG_SCOPES">DL_DEBUG_SCOPES</a> },</td></tr>
<tr><th id="2421">2421</th><td>      { <a class="macro" href="#2406" title="sizeof (&quot;all&quot;) - 1, &quot;all&quot;" data-ref="_M/LEN_AND_STR">LEN_AND_STR</a> (<q>"all"</q>), <q>"all previous options combined"</q>,</td></tr>
<tr><th id="2422">2422</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#501" title="(1 &lt;&lt; 0)" data-ref="_M/DL_DEBUG_LIBS">DL_DEBUG_LIBS</a> | <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#506" title="(1 &lt;&lt; 5)" data-ref="_M/DL_DEBUG_RELOC">DL_DEBUG_RELOC</a> | <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#507" title="(1 &lt;&lt; 6)" data-ref="_M/DL_DEBUG_FILES">DL_DEBUG_FILES</a> | <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#504" title="(1 &lt;&lt; 3)" data-ref="_M/DL_DEBUG_SYMBOLS">DL_DEBUG_SYMBOLS</a></td></tr>
<tr><th id="2423">2423</th><td>	| <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#503" title="(1 &lt;&lt; 2)" data-ref="_M/DL_DEBUG_BINDINGS">DL_DEBUG_BINDINGS</a> | <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#505" title="(1 &lt;&lt; 4)" data-ref="_M/DL_DEBUG_VERSIONS">DL_DEBUG_VERSIONS</a> | <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#502" title="(1 &lt;&lt; 1)" data-ref="_M/DL_DEBUG_IMPCALLS">DL_DEBUG_IMPCALLS</a></td></tr>
<tr><th id="2424">2424</th><td>	| <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#510" title="(1 &lt;&lt; 9)" data-ref="_M/DL_DEBUG_SCOPES">DL_DEBUG_SCOPES</a> },</td></tr>
<tr><th id="2425">2425</th><td>      { <a class="macro" href="#2406" title="sizeof (&quot;statistics&quot;) - 1, &quot;statistics&quot;" data-ref="_M/LEN_AND_STR">LEN_AND_STR</a> (<q>"statistics"</q>), <q>"display relocation statistics"</q>,</td></tr>
<tr><th id="2426">2426</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#508" title="(1 &lt;&lt; 7)" data-ref="_M/DL_DEBUG_STATISTICS">DL_DEBUG_STATISTICS</a> },</td></tr>
<tr><th id="2427">2427</th><td>      { <a class="macro" href="#2406" title="sizeof (&quot;unused&quot;) - 1, &quot;unused&quot;" data-ref="_M/LEN_AND_STR">LEN_AND_STR</a> (<q>"unused"</q>), <q>"determined unused DSOs"</q>,</td></tr>
<tr><th id="2428">2428</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#509" title="(1 &lt;&lt; 8)" data-ref="_M/DL_DEBUG_UNUSED">DL_DEBUG_UNUSED</a> },</td></tr>
<tr><th id="2429">2429</th><td>      { <a class="macro" href="#2406" title="sizeof (&quot;help&quot;) - 1, &quot;help&quot;" data-ref="_M/LEN_AND_STR">LEN_AND_STR</a> (<q>"help"</q>), <q>"display this help message and exit"</q>,</td></tr>
<tr><th id="2430">2430</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#512" title="(1 &lt;&lt; 10)" data-ref="_M/DL_DEBUG_HELP">DL_DEBUG_HELP</a> },</td></tr>
<tr><th id="2431">2431</th><td>    };</td></tr>
<tr><th id="2432">2432</th><td><u>#define <dfn class="macro" id="_M/ndebopts" data-ref="_M/ndebopts">ndebopts</dfn> (sizeof (<a class="local col9 ref" href="#219debopts" title='debopts' data-ref="219debopts" data-ref-filename="219debopts">debopts</a>) / sizeof (<a class="local col9 ref" href="#219debopts" title='debopts' data-ref="219debopts" data-ref-filename="219debopts">debopts</a>[0]))</u></td></tr>
<tr><th id="2433">2433</th><td></td></tr>
<tr><th id="2434">2434</th><td>  <i>/* Skip separating white spaces and commas.  */</i></td></tr>
<tr><th id="2435">2435</th><td>  <b>while</b> (*<a class="local col4 ref" href="#214dl_debug" title='dl_debug' data-ref="214dl_debug" data-ref-filename="214dl_debug">dl_debug</a> != <kbd>'\0'</kbd>)</td></tr>
<tr><th id="2436">2436</th><td>    {</td></tr>
<tr><th id="2437">2437</th><td>      <b>if</b> (*<a class="local col4 ref" href="#214dl_debug" title='dl_debug' data-ref="214dl_debug" data-ref-filename="214dl_debug">dl_debug</a> != <kbd>' '</kbd> &amp;&amp; *<a class="local col4 ref" href="#214dl_debug" title='dl_debug' data-ref="214dl_debug" data-ref-filename="214dl_debug">dl_debug</a> != <kbd>','</kbd> &amp;&amp; *<a class="local col4 ref" href="#214dl_debug" title='dl_debug' data-ref="214dl_debug" data-ref-filename="214dl_debug">dl_debug</a> != <kbd>':'</kbd>)</td></tr>
<tr><th id="2438">2438</th><td>	{</td></tr>
<tr><th id="2439">2439</th><td>	  <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col0 decl" id="220cnt" title='cnt' data-type='size_t' data-ref="220cnt" data-ref-filename="220cnt">cnt</dfn>;</td></tr>
<tr><th id="2440">2440</th><td>	  <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col1 decl" id="221len" title='len' data-type='size_t' data-ref="221len" data-ref-filename="221len">len</dfn> = <var>1</var>;</td></tr>
<tr><th id="2441">2441</th><td></td></tr>
<tr><th id="2442">2442</th><td>	  <b>while</b> (<a class="local col4 ref" href="#214dl_debug" title='dl_debug' data-ref="214dl_debug" data-ref-filename="214dl_debug">dl_debug</a>[<a class="local col1 ref" href="#221len" title='len' data-ref="221len" data-ref-filename="221len">len</a>] != <kbd>'\0'</kbd> &amp;&amp; <a class="local col4 ref" href="#214dl_debug" title='dl_debug' data-ref="214dl_debug" data-ref-filename="214dl_debug">dl_debug</a>[<a class="local col1 ref" href="#221len" title='len' data-ref="221len" data-ref-filename="221len">len</a>] != <kbd>' '</kbd></td></tr>
<tr><th id="2443">2443</th><td>		 &amp;&amp; <a class="local col4 ref" href="#214dl_debug" title='dl_debug' data-ref="214dl_debug" data-ref-filename="214dl_debug">dl_debug</a>[<a class="local col1 ref" href="#221len" title='len' data-ref="221len" data-ref-filename="221len">len</a>] != <kbd>','</kbd> &amp;&amp; <a class="local col4 ref" href="#214dl_debug" title='dl_debug' data-ref="214dl_debug" data-ref-filename="214dl_debug">dl_debug</a>[<a class="local col1 ref" href="#221len" title='len' data-ref="221len" data-ref-filename="221len">len</a>] != <kbd>':'</kbd>)</td></tr>
<tr><th id="2444">2444</th><td>	    ++<a class="local col1 ref" href="#221len" title='len' data-ref="221len" data-ref-filename="221len">len</a>;</td></tr>
<tr><th id="2445">2445</th><td></td></tr>
<tr><th id="2446">2446</th><td>	  <b>for</b> (<a class="local col0 ref" href="#220cnt" title='cnt' data-ref="220cnt" data-ref-filename="220cnt">cnt</a> = <var>0</var>; <a class="local col0 ref" href="#220cnt" title='cnt' data-ref="220cnt" data-ref-filename="220cnt">cnt</a> &lt; <a class="macro" href="#2432" title="(sizeof (debopts) / sizeof (debopts[0]))" data-ref="_M/ndebopts">ndebopts</a>; ++<a class="local col0 ref" href="#220cnt" title='cnt' data-ref="220cnt" data-ref-filename="220cnt">cnt</a>)</td></tr>
<tr><th id="2447">2447</th><td>	    <b>if</b> (<a class="local col9 ref" href="#219debopts" title='debopts' data-ref="219debopts" data-ref-filename="219debopts">debopts</a>[<a class="local col0 ref" href="#220cnt" title='cnt' data-ref="220cnt" data-ref-filename="220cnt">cnt</a>].<a class="local col5 ref field" href="#215len" title='len' data-ref="215len" data-ref-filename="215len">len</a> == <a class="local col1 ref" href="#221len" title='len' data-ref="221len" data-ref-filename="221len">len</a></td></tr>
<tr><th id="2448">2448</th><td>		&amp;&amp; <a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col4 ref" href="#214dl_debug" title='dl_debug' data-ref="214dl_debug" data-ref-filename="214dl_debug">dl_debug</a>, <a class="local col9 ref" href="#219debopts" title='debopts' data-ref="219debopts" data-ref-filename="219debopts">debopts</a>[<a class="local col0 ref" href="#220cnt" title='cnt' data-ref="220cnt" data-ref-filename="220cnt">cnt</a>].<a class="local col6 ref field" href="#216name" title='name' data-ref="216name" data-ref-filename="216name">name</a>, <a class="local col1 ref" href="#221len" title='len' data-ref="221len" data-ref-filename="221len">len</a>) == <var>0</var>)</td></tr>
<tr><th id="2449">2449</th><td>	      {</td></tr>
<tr><th id="2450">2450</th><td>		<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_debug_mask" data-ref="_M/GLRO">GLRO</a>(dl_debug_mask) |= <a class="local col9 ref" href="#219debopts" title='debopts' data-ref="219debopts" data-ref-filename="219debopts">debopts</a>[<a class="local col0 ref" href="#220cnt" title='cnt' data-ref="220cnt" data-ref-filename="220cnt">cnt</a>].<a class="local col8 ref field" href="#218mask" title='mask' data-ref="218mask" data-ref-filename="218mask">mask</a>;</td></tr>
<tr><th id="2451">2451</th><td>		<a class="tu ref" href="#any_debug" title='any_debug' data-use='w' data-ref="any_debug" data-ref-filename="any_debug">any_debug</a> = <var>1</var>;</td></tr>
<tr><th id="2452">2452</th><td>		<b>break</b>;</td></tr>
<tr><th id="2453">2453</th><td>	      }</td></tr>
<tr><th id="2454">2454</th><td></td></tr>
<tr><th id="2455">2455</th><td>	  <b>if</b> (<a class="local col0 ref" href="#220cnt" title='cnt' data-ref="220cnt" data-ref-filename="220cnt">cnt</a> == <a class="macro" href="#2432" title="(sizeof (debopts) / sizeof (debopts[0]))" data-ref="_M/ndebopts">ndebopts</a>)</td></tr>
<tr><th id="2456">2456</th><td>	    {</td></tr>
<tr><th id="2457">2457</th><td>	      <i>/* Display a warning and skip everything until next</i></td></tr>
<tr><th id="2458">2458</th><td><i>		 separator.  */</i></td></tr>
<tr><th id="2459">2459</th><td>	      <em>char</em> *<dfn class="local col2 decl" id="222copy" title='copy' data-type='char *' data-ref="222copy" data-ref-filename="222copy">copy</dfn> = <a class="macro" href="../string/string.h.html#191" title="(__extension__ ({ const char *__old = (dl_debug); size_t __len = strnlen (__old, (len)); char *__new = (char *) __builtin_alloca (__len + 1); __new[__len] = &apos;\0&apos;; (char *) memcpy (__new, __old, __len); }))" data-ref="_M/strndupa">strndupa</a> (<a class="local col4 ref" href="#214dl_debug" title='dl_debug' data-ref="214dl_debug" data-ref-filename="214dl_debug">dl_debug</a>, <a class="local col1 ref" href="#221len" title='len' data-ref="221len" data-ref-filename="221len">len</a>);</td></tr>
<tr><th id="2460">2460</th><td>	      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#755" title="_dl_dprintf (2, &quot;warning: debug option `%s&apos; unknown; try LD_DEBUG=help\n&quot;, copy)" data-ref="_M/_dl_error_printf">_dl_error_printf</a> (<q>"\</q></td></tr>
<tr><th id="2461">2461</th><td><q>warning: debug option `%s' unknown; try LD_DEBUG=help\n"</q>, <a class="local col2 ref" href="#222copy" title='copy' data-ref="222copy" data-ref-filename="222copy">copy</a>);</td></tr>
<tr><th id="2462">2462</th><td>	    }</td></tr>
<tr><th id="2463">2463</th><td></td></tr>
<tr><th id="2464">2464</th><td>	  <a class="local col4 ref" href="#214dl_debug" title='dl_debug' data-ref="214dl_debug" data-ref-filename="214dl_debug">dl_debug</a> += <a class="local col1 ref" href="#221len" title='len' data-ref="221len" data-ref-filename="221len">len</a>;</td></tr>
<tr><th id="2465">2465</th><td>	  <b>continue</b>;</td></tr>
<tr><th id="2466">2466</th><td>	}</td></tr>
<tr><th id="2467">2467</th><td></td></tr>
<tr><th id="2468">2468</th><td>      ++<a class="local col4 ref" href="#214dl_debug" title='dl_debug' data-ref="214dl_debug" data-ref-filename="214dl_debug">dl_debug</a>;</td></tr>
<tr><th id="2469">2469</th><td>    }</td></tr>
<tr><th id="2470">2470</th><td></td></tr>
<tr><th id="2471">2471</th><td>  <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_debug_mask" data-ref="_M/GLRO">GLRO</a>(dl_debug_mask) &amp; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#509" title="(1 &lt;&lt; 8)" data-ref="_M/DL_DEBUG_UNUSED">DL_DEBUG_UNUSED</a>)</td></tr>
<tr><th id="2472">2472</th><td>    {</td></tr>
<tr><th id="2473">2473</th><td>      <i>/* In order to get an accurate picture of whether a particular</i></td></tr>
<tr><th id="2474">2474</th><td><i>	 DT_NEEDED entry is actually used we have to process both</i></td></tr>
<tr><th id="2475">2475</th><td><i>	 the PLT and non-PLT relocation entries.  */</i></td></tr>
<tr><th id="2476">2476</th><td>      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_lazy" data-ref="_M/GLRO">GLRO</a>(dl_lazy) = <var>0</var>;</td></tr>
<tr><th id="2477">2477</th><td>    }</td></tr>
<tr><th id="2478">2478</th><td></td></tr>
<tr><th id="2479">2479</th><td>  <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_debug_mask" data-ref="_M/GLRO">GLRO</a>(dl_debug_mask) &amp; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#512" title="(1 &lt;&lt; 10)" data-ref="_M/DL_DEBUG_HELP">DL_DEBUG_HELP</a>)</td></tr>
<tr><th id="2480">2480</th><td>    {</td></tr>
<tr><th id="2481">2481</th><td>      <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col3 decl" id="223cnt" title='cnt' data-type='size_t' data-ref="223cnt" data-ref-filename="223cnt">cnt</dfn>;</td></tr>
<tr><th id="2482">2482</th><td></td></tr>
<tr><th id="2483">2483</th><td>      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;Valid options for the LD_DEBUG environment variable are:\n\n&quot;)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"\</q></td></tr>
<tr><th id="2484">2484</th><td><q>Valid options for the LD_DEBUG environment variable are:\n\n"</q>);</td></tr>
<tr><th id="2485">2485</th><td></td></tr>
<tr><th id="2486">2486</th><td>      <b>for</b> (<a class="local col3 ref" href="#223cnt" title='cnt' data-ref="223cnt" data-ref-filename="223cnt">cnt</a> = <var>0</var>; <a class="local col3 ref" href="#223cnt" title='cnt' data-ref="223cnt" data-ref-filename="223cnt">cnt</a> &lt; <a class="macro" href="#2432" title="(sizeof (debopts) / sizeof (debopts[0]))" data-ref="_M/ndebopts">ndebopts</a>; ++<a class="local col3 ref" href="#223cnt" title='cnt' data-ref="223cnt" data-ref-filename="223cnt">cnt</a>)</td></tr>
<tr><th id="2487">2487</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;  %.*s%s%s\n&quot;, debopts[cnt].len, debopts[cnt].name, &quot;         &quot; + debopts[cnt].len - 3, debopts[cnt].helptext)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"  %.*s%s%s\n"</q>, <a class="local col9 ref" href="#219debopts" title='debopts' data-ref="219debopts" data-ref-filename="219debopts">debopts</a>[<a class="local col3 ref" href="#223cnt" title='cnt' data-ref="223cnt" data-ref-filename="223cnt">cnt</a>].<a class="local col5 ref field" href="#215len" title='len' data-ref="215len" data-ref-filename="215len">len</a>, <a class="local col9 ref" href="#219debopts" title='debopts' data-ref="219debopts" data-ref-filename="219debopts">debopts</a>[<a class="local col3 ref" href="#223cnt" title='cnt' data-ref="223cnt" data-ref-filename="223cnt">cnt</a>].<a class="local col6 ref field" href="#216name" title='name' data-ref="216name" data-ref-filename="216name">name</a>,</td></tr>
<tr><th id="2488">2488</th><td>		    <q>"         "</q> <span class='error' title="adding &apos;const unsigned char&apos; to a string does not append to the string">+</span> <a class="local col9 ref" href="#219debopts" title='debopts' data-ref="219debopts" data-ref-filename="219debopts">debopts</a>[<a class="local col3 ref" href="#223cnt" title='cnt' data-ref="223cnt" data-ref-filename="223cnt">cnt</a>].<a class="local col5 ref field" href="#215len" title='len' data-ref="215len" data-ref-filename="215len">len</a> - <var>3</var>,</td></tr>
<tr><th id="2489">2489</th><td>		    <a class="local col9 ref" href="#219debopts" title='debopts' data-ref="219debopts" data-ref-filename="219debopts">debopts</a>[<a class="local col3 ref" href="#223cnt" title='cnt' data-ref="223cnt" data-ref-filename="223cnt">cnt</a>].<a class="local col7 ref field" href="#217helptext" title='helptext' data-ref="217helptext" data-ref-filename="217helptext">helptext</a>);</td></tr>
<tr><th id="2490">2490</th><td></td></tr>
<tr><th id="2491">2491</th><td>      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#750" title="_dl_dprintf (1, &quot;\nTo direct the debugging output into a file instead of standard output\na filename can be specified using the LD_DEBUG_OUTPUT environment variable.\n&quot;)" data-ref="_M/_dl_printf">_dl_printf</a> (<q>"\n\</q></td></tr>
<tr><th id="2492">2492</th><td><q>To direct the debugging output into a file instead of standard output\n\</q></td></tr>
<tr><th id="2493">2493</th><td><q>a filename can be specified using the LD_DEBUG_OUTPUT environment variable.\n"</q>);</td></tr>
<tr><th id="2494">2494</th><td>      <a class="macro" href="#99" title="exit_internal" data-ref="_M/_exit">_exit</a> (<var>0</var>);</td></tr>
<tr><th id="2495">2495</th><td>    }</td></tr>
<tr><th id="2496">2496</th><td>}</td></tr>
<tr><th id="2497">2497</th><td></td></tr>
<tr><th id="2498">2498</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2499">2499</th><td><dfn class="tu decl def fn" id="process_dl_audit" title='process_dl_audit' data-type='void process_dl_audit(char * str)' data-ref="process_dl_audit" data-ref-filename="process_dl_audit">process_dl_audit</dfn> (<em>char</em> *<dfn class="local col4 decl" id="224str" title='str' data-type='char *' data-ref="224str" data-ref-filename="224str">str</dfn>)</td></tr>
<tr><th id="2500">2500</th><td>{</td></tr>
<tr><th id="2501">2501</th><td>  <i>/* The parameter is a colon separated list of DSO names.  */</i></td></tr>
<tr><th id="2502">2502</th><td>  <em>char</em> *<dfn class="local col5 decl" id="225p" title='p' data-type='char *' data-ref="225p" data-ref-filename="225p">p</dfn>;</td></tr>
<tr><th id="2503">2503</th><td></td></tr>
<tr><th id="2504">2504</th><td>  <b>while</b> ((<a class="local col5 ref" href="#225p" title='p' data-ref="225p" data-ref-filename="225p">p</a> = (<a class="ref fn" href="../string/string.h.html#strsep" title='strsep' data-ref="strsep" data-ref-filename="strsep">strsep</a>) (&amp;<a class="local col4 ref" href="#224str" title='str' data-ref="224str" data-ref-filename="224str">str</a>, <q>":"</q>)) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="2505">2505</th><td>    <b>if</b> (<a class="tu ref fn" href="#dso_name_valid_for_suid" title='dso_name_valid_for_suid' data-use='c' data-ref="dso_name_valid_for_suid" data-ref-filename="dso_name_valid_for_suid">dso_name_valid_for_suid</a> (<a class="local col5 ref" href="#225p" title='p' data-ref="225p" data-ref-filename="225p">p</a>))</td></tr>
<tr><th id="2506">2506</th><td>      {</td></tr>
<tr><th id="2507">2507</th><td>	<i>/* This is using the local malloc, not the system malloc.  The</i></td></tr>
<tr><th id="2508">2508</th><td><i>	   memory can never be freed.  */</i></td></tr>
<tr><th id="2509">2509</th><td>	<b>struct</b> <a class="type" href="#audit_list" title='audit_list' data-ref="audit_list" data-ref-filename="audit_list">audit_list</a> *<dfn class="local col6 decl" id="226newp" title='newp' data-type='struct audit_list *' data-ref="226newp" data-ref-filename="226newp">newp</dfn> = <a class="ref fn" href="../stdlib/stdlib.h.html#malloc" title='malloc' data-ref="malloc" data-ref-filename="malloc">malloc</a> (<b>sizeof</b> (*<a class="local col6 ref" href="#226newp" title='newp' data-ref="226newp" data-ref-filename="226newp">newp</a>));</td></tr>
<tr><th id="2510">2510</th><td>	<a class="local col6 ref" href="#226newp" title='newp' data-ref="226newp" data-ref-filename="226newp">newp</a>-&gt;<a class="tu ref field" href="#audit_list::name" title='audit_list::name' data-use='w' data-ref="audit_list::name" data-ref-filename="audit_list..name">name</a> = <a class="local col5 ref" href="#225p" title='p' data-ref="225p" data-ref-filename="225p">p</a>;</td></tr>
<tr><th id="2511">2511</th><td></td></tr>
<tr><th id="2512">2512</th><td>	<b>if</b> (<a class="tu ref" href="#audit_list" title='audit_list' data-use='r' data-ref="audit_list" data-ref-filename="audit_list">audit_list</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="2513">2513</th><td>	  <a class="tu ref" href="#audit_list" title='audit_list' data-use='w' data-ref="audit_list" data-ref-filename="audit_list">audit_list</a> = <a class="local col6 ref" href="#226newp" title='newp' data-ref="226newp" data-ref-filename="226newp">newp</a>-&gt;<a class="tu ref field" href="#audit_list::next" title='audit_list::next' data-use='w' data-ref="audit_list::next" data-ref-filename="audit_list..next">next</a> = <a class="local col6 ref" href="#226newp" title='newp' data-ref="226newp" data-ref-filename="226newp">newp</a>;</td></tr>
<tr><th id="2514">2514</th><td>	<b>else</b></td></tr>
<tr><th id="2515">2515</th><td>	  {</td></tr>
<tr><th id="2516">2516</th><td>	    <a class="local col6 ref" href="#226newp" title='newp' data-ref="226newp" data-ref-filename="226newp">newp</a>-&gt;<a class="tu ref field" href="#audit_list::next" title='audit_list::next' data-use='w' data-ref="audit_list::next" data-ref-filename="audit_list..next">next</a> = <a class="tu ref" href="#audit_list" title='audit_list' data-use='r' data-ref="audit_list" data-ref-filename="audit_list">audit_list</a>-&gt;<a class="tu ref field" href="#audit_list::next" title='audit_list::next' data-use='r' data-ref="audit_list::next" data-ref-filename="audit_list..next">next</a>;</td></tr>
<tr><th id="2517">2517</th><td>	    <a class="tu ref" href="#audit_list" title='audit_list' data-use='w' data-ref="audit_list" data-ref-filename="audit_list">audit_list</a> = <a class="tu ref" href="#audit_list" title='audit_list' data-use='r' data-ref="audit_list" data-ref-filename="audit_list">audit_list</a>-&gt;<a class="tu ref field" href="#audit_list::next" title='audit_list::next' data-use='w' data-ref="audit_list::next" data-ref-filename="audit_list..next">next</a> = <a class="local col6 ref" href="#226newp" title='newp' data-ref="226newp" data-ref-filename="226newp">newp</a>;</td></tr>
<tr><th id="2518">2518</th><td>	  }</td></tr>
<tr><th id="2519">2519</th><td>      }</td></tr>
<tr><th id="2520">2520</th><td>}</td></tr>
<tr><th id="2521">2521</th><td></td></tr>
<tr><th id="2522">2522</th><td><i>/* Process all environments variables the dynamic linker must recognize.</i></td></tr>
<tr><th id="2523">2523</th><td><i>   Since all of them start with `LD_' we are a bit smarter while finding</i></td></tr>
<tr><th id="2524">2524</th><td><i>   all the entries.  */</i></td></tr>
<tr><th id="2525">2525</th><td><b>extern</b> <em>char</em> **<dfn class="decl" id="_environ" title='_environ' data-ref="_environ" data-ref-filename="_environ">_environ</dfn> <a class="macro" href="../include/libc-symbols.h.html#432" title="__attribute__ ((visibility (&quot;hidden&quot;)))" data-ref="_M/attribute_hidden">attribute_hidden</a>;</td></tr>
<tr><th id="2526">2526</th><td></td></tr>
<tr><th id="2527">2527</th><td></td></tr>
<tr><th id="2528">2528</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2529">2529</th><td><dfn class="tu decl def fn" id="process_envvars" title='process_envvars' data-type='void process_envvars(enum mode * modep)' data-ref="process_envvars" data-ref-filename="process_envvars">process_envvars</dfn> (<b>enum</b> <a class="type" href="#mode" title='mode' data-ref="mode" data-ref-filename="mode">mode</a> *<dfn class="local col7 decl" id="227modep" title='modep' data-type='enum mode *' data-ref="227modep" data-ref-filename="227modep">modep</dfn>)</td></tr>
<tr><th id="2530">2530</th><td>{</td></tr>
<tr><th id="2531">2531</th><td>  <em>char</em> **<dfn class="local col8 decl" id="228runp" title='runp' data-type='char **' data-ref="228runp" data-ref-filename="228runp">runp</dfn> = <a class="ref" href="#_environ" title='_environ' data-ref="_environ" data-ref-filename="_environ">_environ</a>;</td></tr>
<tr><th id="2532">2532</th><td>  <em>char</em> *<dfn class="local col9 decl" id="229envline" title='envline' data-type='char *' data-ref="229envline" data-ref-filename="229envline">envline</dfn>;</td></tr>
<tr><th id="2533">2533</th><td>  <b>enum</b> <a class="type" href="#mode" title='mode' data-ref="mode" data-ref-filename="mode">mode</a> <dfn class="local col0 decl" id="230mode" title='mode' data-type='enum mode' data-ref="230mode" data-ref-filename="230mode">mode</dfn> = <a class="enum" href="#normal" title='normal' data-ref="normal" data-ref-filename="normal">normal</a>;</td></tr>
<tr><th id="2534">2534</th><td>  <em>char</em> *<dfn class="local col1 decl" id="231debug_output" title='debug_output' data-type='char *' data-ref="231debug_output" data-ref-filename="231debug_output">debug_output</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="2535">2535</th><td></td></tr>
<tr><th id="2536">2536</th><td>  <i>/* This is the default place for profiling data file.  */</i></td></tr>
<tr><th id="2537">2537</th><td>  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_profile_output" data-ref="_M/GLRO">GLRO</a>(dl_profile_output)</td></tr>
<tr><th id="2538">2538</th><td>    = &amp;<q>"/var/tmp\0/var/profile"</q>[<a class="ref" href="../include/unistd.h.html#__libc_enable_secure" title='__libc_enable_secure' data-ref="__libc_enable_secure" data-ref-filename="__libc_enable_secure">__libc_enable_secure</a> ? <var>9</var> : <var>0</var>];</td></tr>
<tr><th id="2539">2539</th><td></td></tr>
<tr><th id="2540">2540</th><td>  <b>while</b> ((<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a> = <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_next_ld_env_entry" title='_dl_next_ld_env_entry' data-ref="_dl_next_ld_env_entry" data-ref-filename="_dl_next_ld_env_entry">_dl_next_ld_env_entry</a> (&amp;<a class="local col8 ref" href="#228runp" title='runp' data-ref="228runp" data-ref-filename="228runp">runp</a>)) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="2541">2541</th><td>    {</td></tr>
<tr><th id="2542">2542</th><td>      <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col2 decl" id="232len" title='len' data-type='size_t' data-ref="232len" data-ref-filename="232len">len</dfn> = <var>0</var>;</td></tr>
<tr><th id="2543">2543</th><td></td></tr>
<tr><th id="2544">2544</th><td>      <b>while</b> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<a class="local col2 ref" href="#232len" title='len' data-ref="232len" data-ref-filename="232len">len</a>] != <kbd>'\0'</kbd> &amp;&amp; <a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<a class="local col2 ref" href="#232len" title='len' data-ref="232len" data-ref-filename="232len">len</a>] != <kbd>'='</kbd>)</td></tr>
<tr><th id="2545">2545</th><td>	++<a class="local col2 ref" href="#232len" title='len' data-ref="232len" data-ref-filename="232len">len</a>;</td></tr>
<tr><th id="2546">2546</th><td></td></tr>
<tr><th id="2547">2547</th><td>      <b>if</b> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<a class="local col2 ref" href="#232len" title='len' data-ref="232len" data-ref-filename="232len">len</a>] != <kbd>'='</kbd>)</td></tr>
<tr><th id="2548">2548</th><td>	<i>/* This is a "LD_" variable at the end of the string without</i></td></tr>
<tr><th id="2549">2549</th><td><i>	   a '=' character.  Ignore it since otherwise we will access</i></td></tr>
<tr><th id="2550">2550</th><td><i>	   invalid memory below.  */</i></td></tr>
<tr><th id="2551">2551</th><td>	<b>continue</b>;</td></tr>
<tr><th id="2552">2552</th><td></td></tr>
<tr><th id="2553">2553</th><td>      <b>switch</b> (<a class="local col2 ref" href="#232len" title='len' data-ref="232len" data-ref-filename="232len">len</a>)</td></tr>
<tr><th id="2554">2554</th><td>	{</td></tr>
<tr><th id="2555">2555</th><td>	<b>case</b> <var>4</var>:</td></tr>
<tr><th id="2556">2556</th><td>	  <i>/* Warning level, verbose or not.  */</i></td></tr>
<tr><th id="2557">2557</th><td>	  <b>if</b> (<a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"WARN"</q>, <var>4</var>) == <var>0</var>)</td></tr>
<tr><th id="2558">2558</th><td>	    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_verbose" data-ref="_M/GLRO">GLRO</a>(dl_verbose) = <a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>5</var>] != <kbd>'\0'</kbd>;</td></tr>
<tr><th id="2559">2559</th><td>	  <b>break</b>;</td></tr>
<tr><th id="2560">2560</th><td></td></tr>
<tr><th id="2561">2561</th><td>	<b>case</b> <var>5</var>:</td></tr>
<tr><th id="2562">2562</th><td>	  <i>/* Debugging of the dynamic linker?  */</i></td></tr>
<tr><th id="2563">2563</th><td>	  <b>if</b> (<a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"DEBUG"</q>, <var>5</var>) == <var>0</var>)</td></tr>
<tr><th id="2564">2564</th><td>	    {</td></tr>
<tr><th id="2565">2565</th><td>	      <a class="tu ref fn" href="#process_dl_debug" title='process_dl_debug' data-use='c' data-ref="process_dl_debug" data-ref-filename="process_dl_debug">process_dl_debug</a> (&amp;<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>6</var>]);</td></tr>
<tr><th id="2566">2566</th><td>	      <b>break</b>;</td></tr>
<tr><th id="2567">2567</th><td>	    }</td></tr>
<tr><th id="2568">2568</th><td>	  <b>if</b> (<a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"AUDIT"</q>, <var>5</var>) == <var>0</var>)</td></tr>
<tr><th id="2569">2569</th><td>	    <a class="ref" href="#audit_list_string" title='audit_list_string' data-ref="audit_list_string" data-ref-filename="audit_list_string">audit_list_string</a> = &amp;<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>6</var>];</td></tr>
<tr><th id="2570">2570</th><td>	  <b>break</b>;</td></tr>
<tr><th id="2571">2571</th><td></td></tr>
<tr><th id="2572">2572</th><td>	<b>case</b> <var>7</var>:</td></tr>
<tr><th id="2573">2573</th><td>	  <i>/* Print information about versions.  */</i></td></tr>
<tr><th id="2574">2574</th><td>	  <b>if</b> (<a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"VERBOSE"</q>, <var>7</var>) == <var>0</var>)</td></tr>
<tr><th id="2575">2575</th><td>	    {</td></tr>
<tr><th id="2576">2576</th><td>	      <a class="tu ref" href="#version_info" title='version_info' data-use='w' data-ref="version_info" data-ref-filename="version_info">version_info</a> = <a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>8</var>] != <kbd>'\0'</kbd>;</td></tr>
<tr><th id="2577">2577</th><td>	      <b>break</b>;</td></tr>
<tr><th id="2578">2578</th><td>	    }</td></tr>
<tr><th id="2579">2579</th><td></td></tr>
<tr><th id="2580">2580</th><td>	  <i>/* List of objects to be preloaded.  */</i></td></tr>
<tr><th id="2581">2581</th><td>	  <b>if</b> (<a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"PRELOAD"</q>, <var>7</var>) == <var>0</var>)</td></tr>
<tr><th id="2582">2582</th><td>	    {</td></tr>
<tr><th id="2583">2583</th><td>	      <a class="tu ref" href="#preloadlist" title='preloadlist' data-use='w' data-ref="preloadlist" data-ref-filename="preloadlist">preloadlist</a> = &amp;<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>8</var>];</td></tr>
<tr><th id="2584">2584</th><td>	      <b>break</b>;</td></tr>
<tr><th id="2585">2585</th><td>	    }</td></tr>
<tr><th id="2586">2586</th><td></td></tr>
<tr><th id="2587">2587</th><td>	  <i>/* Which shared object shall be profiled.  */</i></td></tr>
<tr><th id="2588">2588</th><td>	  <b>if</b> (<a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"PROFILE"</q>, <var>7</var>) == <var>0</var> &amp;&amp; <a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>8</var>] != <kbd>'\0'</kbd>)</td></tr>
<tr><th id="2589">2589</th><td>	    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_profile" data-ref="_M/GLRO">GLRO</a>(dl_profile) = &amp;<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>8</var>];</td></tr>
<tr><th id="2590">2590</th><td>	  <b>break</b>;</td></tr>
<tr><th id="2591">2591</th><td></td></tr>
<tr><th id="2592">2592</th><td>	<b>case</b> <var>8</var>:</td></tr>
<tr><th id="2593">2593</th><td>	  <i>/* Do we bind early?  */</i></td></tr>
<tr><th id="2594">2594</th><td>	  <b>if</b> (<a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"BIND_NOW"</q>, <var>8</var>) == <var>0</var>)</td></tr>
<tr><th id="2595">2595</th><td>	    {</td></tr>
<tr><th id="2596">2596</th><td>	      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_lazy" data-ref="_M/GLRO">GLRO</a>(dl_lazy) = <a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>9</var>] == <kbd>'\0'</kbd>;</td></tr>
<tr><th id="2597">2597</th><td>	      <b>break</b>;</td></tr>
<tr><th id="2598">2598</th><td>	    }</td></tr>
<tr><th id="2599">2599</th><td>	  <b>if</b> (<a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"BIND_NOT"</q>, <var>8</var>) == <var>0</var>)</td></tr>
<tr><th id="2600">2600</th><td>	    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_bind_not" data-ref="_M/GLRO">GLRO</a>(dl_bind_not) = <a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>9</var>] != <kbd>'\0'</kbd>;</td></tr>
<tr><th id="2601">2601</th><td>	  <b>break</b>;</td></tr>
<tr><th id="2602">2602</th><td></td></tr>
<tr><th id="2603">2603</th><td>	<b>case</b> <var>9</var>:</td></tr>
<tr><th id="2604">2604</th><td>	  <i>/* Test whether we want to see the content of the auxiliary</i></td></tr>
<tr><th id="2605">2605</th><td><i>	     array passed up from the kernel.  */</i></td></tr>
<tr><th id="2606">2606</th><td>	  <b>if</b> (!<a class="ref" href="../include/unistd.h.html#__libc_enable_secure" title='__libc_enable_secure' data-ref="__libc_enable_secure" data-ref-filename="__libc_enable_secure">__libc_enable_secure</a></td></tr>
<tr><th id="2607">2607</th><td>	      &amp;&amp; <a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"SHOW_AUXV"</q>, <var>9</var>) == <var>0</var>)</td></tr>
<tr><th id="2608">2608</th><td>	    <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_show_auxv" title='_dl_show_auxv' data-ref="_dl_show_auxv" data-ref-filename="_dl_show_auxv">_dl_show_auxv</a> ();</td></tr>
<tr><th id="2609">2609</th><td>	  <b>break</b>;</td></tr>
<tr><th id="2610">2610</th><td></td></tr>
<tr><th id="2611">2611</th><td><u>#<span data-ppcond="2611">if</span> !<span class="macro" title="1" data-ref="_M/HAVE_TUNABLES">HAVE_TUNABLES</span></u></td></tr>
<tr><th id="2612">2612</th><td>	<b>case</b> <var>10</var>:</td></tr>
<tr><th id="2613">2613</th><td>	  <i>/* Mask for the important hardware capabilities.  */</i></td></tr>
<tr><th id="2614">2614</th><td>	  <b>if</b> (!__libc_enable_secure</td></tr>
<tr><th id="2615">2615</th><td>	      &amp;&amp; memcmp (envline, <q>"HWCAP_MASK"</q>, <var>10</var>) == <var>0</var>)</td></tr>
<tr><th id="2616">2616</th><td>	    GLRO(dl_hwcap_mask) = _dl_strtoul (&amp;envline[<var>11</var>], NULL);</td></tr>
<tr><th id="2617">2617</th><td>	  <b>break</b>;</td></tr>
<tr><th id="2618">2618</th><td><u>#<span data-ppcond="2611">endif</span></u></td></tr>
<tr><th id="2619">2619</th><td></td></tr>
<tr><th id="2620">2620</th><td>	<b>case</b> <var>11</var>:</td></tr>
<tr><th id="2621">2621</th><td>	  <i>/* Path where the binary is found.  */</i></td></tr>
<tr><th id="2622">2622</th><td>	  <b>if</b> (!<a class="ref" href="../include/unistd.h.html#__libc_enable_secure" title='__libc_enable_secure' data-ref="__libc_enable_secure" data-ref-filename="__libc_enable_secure">__libc_enable_secure</a></td></tr>
<tr><th id="2623">2623</th><td>	      &amp;&amp; <a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"ORIGIN_PATH"</q>, <var>11</var>) == <var>0</var>)</td></tr>
<tr><th id="2624">2624</th><td>	    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_origin_path" data-ref="_M/GLRO">GLRO</a>(dl_origin_path) = &amp;<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>12</var>];</td></tr>
<tr><th id="2625">2625</th><td>	  <b>break</b>;</td></tr>
<tr><th id="2626">2626</th><td></td></tr>
<tr><th id="2627">2627</th><td>	<b>case</b> <var>12</var>:</td></tr>
<tr><th id="2628">2628</th><td>	  <i>/* The library search path.  */</i></td></tr>
<tr><th id="2629">2629</th><td>	  <b>if</b> (!<a class="ref" href="../include/unistd.h.html#__libc_enable_secure" title='__libc_enable_secure' data-ref="__libc_enable_secure" data-ref-filename="__libc_enable_secure">__libc_enable_secure</a></td></tr>
<tr><th id="2630">2630</th><td>	      &amp;&amp; <a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"LIBRARY_PATH"</q>, <var>12</var>) == <var>0</var>)</td></tr>
<tr><th id="2631">2631</th><td>	    {</td></tr>
<tr><th id="2632">2632</th><td>	      <a class="tu ref" href="#library_path" title='library_path' data-use='w' data-ref="library_path" data-ref-filename="library_path">library_path</a> = &amp;<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>13</var>];</td></tr>
<tr><th id="2633">2633</th><td>	      <b>break</b>;</td></tr>
<tr><th id="2634">2634</th><td>	    }</td></tr>
<tr><th id="2635">2635</th><td></td></tr>
<tr><th id="2636">2636</th><td>	  <i>/* Where to place the profiling data file.  */</i></td></tr>
<tr><th id="2637">2637</th><td>	  <b>if</b> (<a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"DEBUG_OUTPUT"</q>, <var>12</var>) == <var>0</var>)</td></tr>
<tr><th id="2638">2638</th><td>	    {</td></tr>
<tr><th id="2639">2639</th><td>	      <a class="local col1 ref" href="#231debug_output" title='debug_output' data-ref="231debug_output" data-ref-filename="231debug_output">debug_output</a> = &amp;<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>13</var>];</td></tr>
<tr><th id="2640">2640</th><td>	      <b>break</b>;</td></tr>
<tr><th id="2641">2641</th><td>	    }</td></tr>
<tr><th id="2642">2642</th><td></td></tr>
<tr><th id="2643">2643</th><td>	  <b>if</b> (!<a class="ref" href="../include/unistd.h.html#__libc_enable_secure" title='__libc_enable_secure' data-ref="__libc_enable_secure" data-ref-filename="__libc_enable_secure">__libc_enable_secure</a></td></tr>
<tr><th id="2644">2644</th><td>	      &amp;&amp; <a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"DYNAMIC_WEAK"</q>, <var>12</var>) == <var>0</var>)</td></tr>
<tr><th id="2645">2645</th><td>	    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_dynamic_weak" data-ref="_M/GLRO">GLRO</a>(dl_dynamic_weak) = <var>1</var>;</td></tr>
<tr><th id="2646">2646</th><td>	  <b>break</b>;</td></tr>
<tr><th id="2647">2647</th><td></td></tr>
<tr><th id="2648">2648</th><td>	<b>case</b> <var>13</var>:</td></tr>
<tr><th id="2649">2649</th><td>	  <i>/* We might have some extra environment variable with length 13</i></td></tr>
<tr><th id="2650">2650</th><td><i>	     to handle.  */</i></td></tr>
<tr><th id="2651">2651</th><td><u>#<span data-ppcond="2651">ifdef</span> <a class="macro" href="../sysdeps/unix/sysv/linux/dl-librecon.h.html#46" data-ref="_M/EXTRA_LD_ENVVARS_13">EXTRA_LD_ENVVARS_13</a></u></td></tr>
<tr><th id="2652">2652</th><td>	  <a class="macro" href="../sysdeps/unix/sysv/linux/dl-librecon.h.html#46" title="if (memcmp (envline, &quot;ASSUME_KERNEL&quot;, 13) == 0) { _dl_osversion_init (&amp;envline[14]); break; }" data-ref="_M/EXTRA_LD_ENVVARS_13">EXTRA_LD_ENVVARS_13</a></td></tr>
<tr><th id="2653">2653</th><td><u>#<span data-ppcond="2651">endif</span></u></td></tr>
<tr><th id="2654">2654</th><td>	  <b>if</b> (!<a class="ref" href="../include/unistd.h.html#__libc_enable_secure" title='__libc_enable_secure' data-ref="__libc_enable_secure" data-ref-filename="__libc_enable_secure">__libc_enable_secure</a></td></tr>
<tr><th id="2655">2655</th><td>	      &amp;&amp; <a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"USE_LOAD_BIAS"</q>, <var>13</var>) == <var>0</var>)</td></tr>
<tr><th id="2656">2656</th><td>	    {</td></tr>
<tr><th id="2657">2657</th><td>	      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_use_load_bias" data-ref="_M/GLRO">GLRO</a>(dl_use_load_bias) = <a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>14</var>] == <kbd>'1'</kbd> ? -<var>1</var> : <var>0</var>;</td></tr>
<tr><th id="2658">2658</th><td>	      <b>break</b>;</td></tr>
<tr><th id="2659">2659</th><td>	    }</td></tr>
<tr><th id="2660">2660</th><td>	  <b>break</b>;</td></tr>
<tr><th id="2661">2661</th><td></td></tr>
<tr><th id="2662">2662</th><td>	<b>case</b> <var>14</var>:</td></tr>
<tr><th id="2663">2663</th><td>	  <i>/* Where to place the profiling data file.  */</i></td></tr>
<tr><th id="2664">2664</th><td>	  <b>if</b> (!<a class="ref" href="../include/unistd.h.html#__libc_enable_secure" title='__libc_enable_secure' data-ref="__libc_enable_secure" data-ref-filename="__libc_enable_secure">__libc_enable_secure</a></td></tr>
<tr><th id="2665">2665</th><td>	      &amp;&amp; <a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"PROFILE_OUTPUT"</q>, <var>14</var>) == <var>0</var></td></tr>
<tr><th id="2666">2666</th><td>	      &amp;&amp; <a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>15</var>] != <kbd>'\0'</kbd>)</td></tr>
<tr><th id="2667">2667</th><td>	    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_profile_output" data-ref="_M/GLRO">GLRO</a>(dl_profile_output) = &amp;<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>15</var>];</td></tr>
<tr><th id="2668">2668</th><td>	  <b>break</b>;</td></tr>
<tr><th id="2669">2669</th><td></td></tr>
<tr><th id="2670">2670</th><td>	<b>case</b> <var>16</var>:</td></tr>
<tr><th id="2671">2671</th><td>	  <i>/* The mode of the dynamic linker can be set.  */</i></td></tr>
<tr><th id="2672">2672</th><td>	  <b>if</b> (<a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"TRACE_PRELINKING"</q>, <var>16</var>) == <var>0</var>)</td></tr>
<tr><th id="2673">2673</th><td>	    {</td></tr>
<tr><th id="2674">2674</th><td>	      <a class="local col0 ref" href="#230mode" title='mode' data-ref="230mode" data-ref-filename="230mode">mode</a> = <a class="enum" href="#trace" title='trace' data-ref="trace" data-ref-filename="trace">trace</a>;</td></tr>
<tr><th id="2675">2675</th><td>	      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_verbose" data-ref="_M/GLRO">GLRO</a>(dl_verbose) = <var>1</var>;</td></tr>
<tr><th id="2676">2676</th><td>	      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_debug_mask" data-ref="_M/GLRO">GLRO</a>(dl_debug_mask) |= <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#513" title="(1 &lt;&lt; 11)" data-ref="_M/DL_DEBUG_PRELINK">DL_DEBUG_PRELINK</a>;</td></tr>
<tr><th id="2677">2677</th><td>	      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_trace_prelink" data-ref="_M/GLRO">GLRO</a>(dl_trace_prelink) = &amp;<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>[<var>17</var>];</td></tr>
<tr><th id="2678">2678</th><td>	    }</td></tr>
<tr><th id="2679">2679</th><td>	  <b>break</b>;</td></tr>
<tr><th id="2680">2680</th><td></td></tr>
<tr><th id="2681">2681</th><td>	<b>case</b> <var>20</var>:</td></tr>
<tr><th id="2682">2682</th><td>	  <i>/* The mode of the dynamic linker can be set.  */</i></td></tr>
<tr><th id="2683">2683</th><td>	  <b>if</b> (<a class="ref fn" href="../string/string.h.html#memcmp" title='memcmp' data-ref="memcmp" data-ref-filename="memcmp">memcmp</a> (<a class="local col9 ref" href="#229envline" title='envline' data-ref="229envline" data-ref-filename="229envline">envline</a>, <q>"TRACE_LOADED_OBJECTS"</q>, <var>20</var>) == <var>0</var>)</td></tr>
<tr><th id="2684">2684</th><td>	    <a class="local col0 ref" href="#230mode" title='mode' data-ref="230mode" data-ref-filename="230mode">mode</a> = <a class="enum" href="#trace" title='trace' data-ref="trace" data-ref-filename="trace">trace</a>;</td></tr>
<tr><th id="2685">2685</th><td>	  <b>break</b>;</td></tr>
<tr><th id="2686">2686</th><td></td></tr>
<tr><th id="2687">2687</th><td>	  <i>/* We might have some extra environment variable to handle.  This</i></td></tr>
<tr><th id="2688">2688</th><td><i>	     is tricky due to the pre-processing of the length of the name</i></td></tr>
<tr><th id="2689">2689</th><td><i>	     in the switch statement here.  The code here assumes that added</i></td></tr>
<tr><th id="2690">2690</th><td><i>	     environment variables have a different length.  */</i></td></tr>
<tr><th id="2691">2691</th><td><u>#<span data-ppcond="2691">ifdef</span> <a class="macro" href="../sysdeps/unix/sysv/linux/x86_64/64/dl-librecon.h.html#32" data-ref="_M/EXTRA_LD_ENVVARS">EXTRA_LD_ENVVARS</a></u></td></tr>
<tr><th id="2692">2692</th><td>	  <a class="macro" href="../sysdeps/unix/sysv/linux/x86_64/64/dl-librecon.h.html#32" title="case 21: if (!__libc_enable_secure &amp;&amp; memcmp (envline, &quot;PREFER_MAP_32BIT_EXEC&quot;, 21) == 0) _rtld_local_ro._dl_x86_cpu_features.feature[FEATURE_INDEX_2] |= (1u &lt;&lt; 9); break;" data-ref="_M/EXTRA_LD_ENVVARS">EXTRA_LD_ENVVARS</a></td></tr>
<tr><th id="2693">2693</th><td><u>#<span data-ppcond="2691">endif</span></u></td></tr>
<tr><th id="2694">2694</th><td>	}</td></tr>
<tr><th id="2695">2695</th><td>    }</td></tr>
<tr><th id="2696">2696</th><td></td></tr>
<tr><th id="2697">2697</th><td>  <i>/* The caller wants this information.  */</i></td></tr>
<tr><th id="2698">2698</th><td>  *<a class="local col7 ref" href="#227modep" title='modep' data-ref="227modep" data-ref-filename="227modep">modep</a> = <a class="local col0 ref" href="#230mode" title='mode' data-ref="230mode" data-ref-filename="230mode">mode</a>;</td></tr>
<tr><th id="2699">2699</th><td></td></tr>
<tr><th id="2700">2700</th><td>  <i>/* Extra security for SUID binaries.  Remove all dangerous environment</i></td></tr>
<tr><th id="2701">2701</th><td><i>     variables.  */</i></td></tr>
<tr><th id="2702">2702</th><td>  <b>if</b> (<a class="ref fn" href="#168" title='__builtin_expect' data-ref="__builtin_expect" data-ref-filename="__builtin_expect">__builtin_expect</a> (<a class="ref" href="../include/unistd.h.html#__libc_enable_secure" title='__libc_enable_secure' data-ref="__libc_enable_secure" data-ref-filename="__libc_enable_secure">__libc_enable_secure</a>, <var>0</var>))</td></tr>
<tr><th id="2703">2703</th><td>    {</td></tr>
<tr><th id="2704">2704</th><td>      <em>static</em> <em>const</em> <em>char</em> <dfn class="local col3 decl" id="233unsecure_envvars" title='unsecure_envvars' data-type='const char [300]' data-ref="233unsecure_envvars" data-ref-filename="233unsecure_envvars">unsecure_envvars</dfn>[] =</td></tr>
<tr><th id="2705">2705</th><td><u>#<span data-ppcond="2705">ifdef</span> <a class="macro" href="../sysdeps/unix/sysv/linux/x86_64/64/dl-librecon.h.html#42" data-ref="_M/EXTRA_UNSECURE_ENVVARS">EXTRA_UNSECURE_ENVVARS</a></u></td></tr>
<tr><th id="2706">2706</th><td>	<a class="macro" href="../sysdeps/unix/sysv/linux/x86_64/64/dl-librecon.h.html#42" title="&quot;LD_PREFER_MAP_32BIT_EXEC\0&quot;" data-ref="_M/EXTRA_UNSECURE_ENVVARS">EXTRA_UNSECURE_ENVVARS</a></td></tr>
<tr><th id="2707">2707</th><td><u>#<span data-ppcond="2705">endif</span></u></td></tr>
<tr><th id="2708">2708</th><td>	<a class="macro" href="../sysdeps/generic/unsecvars.h.html#10" title="&quot;GCONV_PATH\0&quot; &quot;GETCONF_DIR\0&quot; &quot;HOSTALIASES\0&quot; &quot;LD_AUDIT\0&quot; &quot;LD_DEBUG\0&quot; &quot;LD_DEBUG_OUTPUT\0&quot; &quot;LD_DYNAMIC_WEAK\0&quot; &quot;LD_HWCAP_MASK\0&quot; &quot;LD_LIBRARY_PATH\0&quot; &quot;LD_ORIGIN_PATH\0&quot; &quot;LD_PRELOAD\0&quot; &quot;LD_PROFILE\0&quot; &quot;LD_SHOW_AUXV\0&quot; &quot;LD_USE_LOAD_BIAS\0&quot; &quot;LOCALDOMAIN\0&quot; &quot;LOCPATH\0&quot; &quot;MALLOC_TRACE\0&quot; &quot;NIS_PATH\0&quot; &quot;NLSPATH\0&quot; &quot;RESOLV_HOST_CONF\0&quot; &quot;RES_OPTIONS\0&quot; &quot;TMPDIR\0&quot; &quot;TZDIR\0&quot;" data-ref="_M/UNSECURE_ENVVARS">UNSECURE_ENVVARS</a>;</td></tr>
<tr><th id="2709">2709</th><td>      <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="234nextp" title='nextp' data-type='const char *' data-ref="234nextp" data-ref-filename="234nextp">nextp</dfn>;</td></tr>
<tr><th id="2710">2710</th><td></td></tr>
<tr><th id="2711">2711</th><td>      <a class="local col4 ref" href="#234nextp" title='nextp' data-ref="234nextp" data-ref-filename="234nextp">nextp</a> = <a class="local col3 ref" href="#233unsecure_envvars" title='unsecure_envvars' data-ref="233unsecure_envvars" data-ref-filename="233unsecure_envvars">unsecure_envvars</a>;</td></tr>
<tr><th id="2712">2712</th><td>      <b>do</b></td></tr>
<tr><th id="2713">2713</th><td>	{</td></tr>
<tr><th id="2714">2714</th><td>	  <a class="ref fn" href="../stdlib/stdlib.h.html#unsetenv" title='unsetenv' data-ref="unsetenv" data-ref-filename="unsetenv">unsetenv</a> (<a class="local col4 ref" href="#234nextp" title='nextp' data-ref="234nextp" data-ref-filename="234nextp">nextp</a>);</td></tr>
<tr><th id="2715">2715</th><td>	  <i>/* We could use rawmemchr but this need not be fast.  */</i></td></tr>
<tr><th id="2716">2716</th><td>	  <a class="local col4 ref" href="#234nextp" title='nextp' data-ref="234nextp" data-ref-filename="234nextp">nextp</a> = (<em>char</em> *) (<a class="ref fn" href="../string/string.h.html#strchr" title='strchr' data-ref="strchr" data-ref-filename="strchr">strchr</a>) (<a class="local col4 ref" href="#234nextp" title='nextp' data-ref="234nextp" data-ref-filename="234nextp">nextp</a>, <kbd>'\0'</kbd>) + <var>1</var>;</td></tr>
<tr><th id="2717">2717</th><td>	}</td></tr>
<tr><th id="2718">2718</th><td>      <b>while</b> (*<a class="local col4 ref" href="#234nextp" title='nextp' data-ref="234nextp" data-ref-filename="234nextp">nextp</a> != <kbd>'\0'</kbd>);</td></tr>
<tr><th id="2719">2719</th><td></td></tr>
<tr><th id="2720">2720</th><td>      <b>if</b> (<a class="ref fn" href="../include/unistd.h.html#__access" title='__access' data-ref="__access" data-ref-filename="__access">__access</a> (<q>"/etc/suid-debug"</q>, <a class="macro" href="../posix/unistd.h.html#284" title="0" data-ref="_M/F_OK">F_OK</a>) != <var>0</var>)</td></tr>
<tr><th id="2721">2721</th><td>	{</td></tr>
<tr><th id="2722">2722</th><td><u>#<span data-ppcond="2722">if</span> !<span class="macro" title="1" data-ref="_M/HAVE_TUNABLES">HAVE_TUNABLES</span></u></td></tr>
<tr><th id="2723">2723</th><td>	  unsetenv (<q>"MALLOC_CHECK_"</q>);</td></tr>
<tr><th id="2724">2724</th><td><u>#<span data-ppcond="2722">endif</span></u></td></tr>
<tr><th id="2725">2725</th><td>	  <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_debug_mask" data-ref="_M/GLRO">GLRO</a>(dl_debug_mask) = <var>0</var>;</td></tr>
<tr><th id="2726">2726</th><td>	}</td></tr>
<tr><th id="2727">2727</th><td></td></tr>
<tr><th id="2728">2728</th><td>      <b>if</b> (<a class="local col0 ref" href="#230mode" title='mode' data-ref="230mode" data-ref-filename="230mode">mode</a> != <a class="enum" href="#normal" title='normal' data-ref="normal" data-ref-filename="normal">normal</a>)</td></tr>
<tr><th id="2729">2729</th><td>	<a class="macro" href="#99" title="exit_internal" data-ref="_M/_exit">_exit</a> (<var>5</var>);</td></tr>
<tr><th id="2730">2730</th><td>    }</td></tr>
<tr><th id="2731">2731</th><td>  <i>/* If we have to run the dynamic linker in debugging mode and the</i></td></tr>
<tr><th id="2732">2732</th><td><i>     LD_DEBUG_OUTPUT environment variable is given, we write the debug</i></td></tr>
<tr><th id="2733">2733</th><td><i>     messages to this file.  */</i></td></tr>
<tr><th id="2734">2734</th><td>  <b>else</b> <b>if</b> (<a class="tu ref" href="#any_debug" title='any_debug' data-use='r' data-ref="any_debug" data-ref-filename="any_debug">any_debug</a> &amp;&amp; <a class="local col1 ref" href="#231debug_output" title='debug_output' data-ref="231debug_output" data-ref-filename="231debug_output">debug_output</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="2735">2735</th><td>    {</td></tr>
<tr><th id="2736">2736</th><td>      <em>const</em> <em>int</em> <dfn class="local col5 decl" id="235flags" title='flags' data-type='const int' data-ref="235flags" data-ref-filename="235flags">flags</dfn> = <a class="macro" href="../sysdeps/unix/sysv/linux/bits/fcntl-linux.h.html#44" title="01" data-ref="_M/O_WRONLY">O_WRONLY</a> | <a class="macro" href="../sysdeps/unix/sysv/linux/bits/fcntl-linux.h.html#59" title="02000" data-ref="_M/O_APPEND">O_APPEND</a> | <a class="macro" href="../sysdeps/unix/sysv/linux/bits/fcntl-linux.h.html#47" title="0100" data-ref="_M/O_CREAT">O_CREAT</a> | <a class="macro" href="../sysdeps/unix/sysv/linux/bits/fcntl-linux.h.html#143" title="0400000" data-ref="_M/O_NOFOLLOW">O_NOFOLLOW</a>;</td></tr>
<tr><th id="2737">2737</th><td>      <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col6 decl" id="236name_len" title='name_len' data-type='size_t' data-ref="236name_len" data-ref-filename="236name_len">name_len</dfn> = <a class="ref fn" href="../string/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<a class="local col1 ref" href="#231debug_output" title='debug_output' data-ref="231debug_output" data-ref-filename="231debug_output">debug_output</a>);</td></tr>
<tr><th id="2738">2738</th><td>      <em>char</em> <dfn class="local col7 decl" id="237buf" title='buf' data-type='char [name_len + 12]' data-ref="237buf" data-ref-filename="237buf">buf</dfn>[<a class="local col6 ref" href="#236name_len" title='name_len' data-ref="236name_len" data-ref-filename="236name_len">name_len</a> + <var>12</var>];</td></tr>
<tr><th id="2739">2739</th><td>      <em>char</em> *<dfn class="local col8 decl" id="238startp" title='startp' data-type='char *' data-ref="238startp" data-ref-filename="238startp">startp</dfn>;</td></tr>
<tr><th id="2740">2740</th><td></td></tr>
<tr><th id="2741">2741</th><td>      <a class="local col7 ref" href="#237buf" title='buf' data-ref="237buf" data-ref-filename="237buf">buf</a>[<a class="local col6 ref" href="#236name_len" title='name_len' data-ref="236name_len" data-ref-filename="236name_len">name_len</a> + <var>11</var>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="2742">2742</th><td>      <a class="local col8 ref" href="#238startp" title='startp' data-ref="238startp" data-ref-filename="238startp">startp</a> = <a class="macro" href="../sysdeps/generic/_itoa.h.html#99" title="_itoa_word (__getpid (), &amp;buf[name_len + 11], 10, 0)" data-ref="_M/_itoa">_itoa</a> (<a class="ref fn" href="../include/unistd.h.html#__getpid" title='__getpid' data-ref="__getpid" data-ref-filename="__getpid">__getpid</a> (), &amp;<a class="local col7 ref" href="#237buf" title='buf' data-ref="237buf" data-ref-filename="237buf">buf</a>[<a class="local col6 ref" href="#236name_len" title='name_len' data-ref="236name_len" data-ref-filename="236name_len">name_len</a> + <var>11</var>], <var>10</var>, <var>0</var>);</td></tr>
<tr><th id="2743">2743</th><td>      *--<a class="local col8 ref" href="#238startp" title='startp' data-ref="238startp" data-ref-filename="238startp">startp</a> = <kbd>'.'</kbd>;</td></tr>
<tr><th id="2744">2744</th><td>      <a class="local col8 ref" href="#238startp" title='startp' data-ref="238startp" data-ref-filename="238startp">startp</a> = <a class="ref fn" href="../string/string.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a> (<a class="local col8 ref" href="#238startp" title='startp' data-ref="238startp" data-ref-filename="238startp">startp</a> - <a class="local col6 ref" href="#236name_len" title='name_len' data-ref="236name_len" data-ref-filename="236name_len">name_len</a>, <a class="local col1 ref" href="#231debug_output" title='debug_output' data-ref="231debug_output" data-ref-filename="231debug_output">debug_output</a>, <a class="local col6 ref" href="#236name_len" title='name_len' data-ref="236name_len" data-ref-filename="236name_len">name_len</a>);</td></tr>
<tr><th id="2745">2745</th><td></td></tr>
<tr><th id="2746">2746</th><td>      <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_debug_fd" data-ref="_M/GLRO">GLRO</a>(dl_debug_fd) = <a class="ref fn" href="../sysdeps/unix/sysv/linux/not-cancel.h.html#__open64_nocancel" title='__open64_nocancel' data-ref="__open64_nocancel" data-ref-filename="__open64_nocancel">__open64_nocancel</a> (<a class="local col8 ref" href="#238startp" title='startp' data-ref="238startp" data-ref-filename="238startp">startp</a>, <a class="local col5 ref" href="#235flags" title='flags' data-ref="235flags" data-ref-filename="235flags">flags</a>, <a class="macro" href="../io/sys/stat.h.html#197" title="(0400|0200|(0400 &gt;&gt; 3)|(0200 &gt;&gt; 3)|((0400 &gt;&gt; 3) &gt;&gt; 3)|((0200 &gt;&gt; 3) &gt;&gt; 3))" data-ref="_M/DEFFILEMODE">DEFFILEMODE</a>);</td></tr>
<tr><th id="2747">2747</th><td>      <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_debug_fd" data-ref="_M/GLRO">GLRO</a>(dl_debug_fd) == -<var>1</var>)</td></tr>
<tr><th id="2748">2748</th><td>	<i>/* We use standard output if opening the file failed.  */</i></td></tr>
<tr><th id="2749">2749</th><td>	<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#491" title="_rtld_local_ro._dl_debug_fd" data-ref="_M/GLRO">GLRO</a>(dl_debug_fd) = <a class="macro" href="../posix/unistd.h.html#211" title="1" data-ref="_M/STDOUT_FILENO">STDOUT_FILENO</a>;</td></tr>
<tr><th id="2750">2750</th><td>    }</td></tr>
<tr><th id="2751">2751</th><td>}</td></tr>
<tr><th id="2752">2752</th><td></td></tr>
<tr><th id="2753">2753</th><td><u>#<span data-ppcond="2753">if</span> <a class="macro" href="../sysdeps/x86/hp-timing.h.html#26" title="(1)" data-ref="_M/HP_TIMING_INLINE">HP_TIMING_INLINE</a></u></td></tr>
<tr><th id="2754">2754</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2755">2755</th><td><dfn class="tu decl def fn" id="print_statistics_item" title='print_statistics_item' data-type='void print_statistics_item(const char * title, hp_timing_t time, hp_timing_t total)' data-ref="print_statistics_item" data-ref-filename="print_statistics_item">print_statistics_item</dfn> (<em>const</em> <em>char</em> *<dfn class="local col9 decl" id="239title" title='title' data-type='const char *' data-ref="239title" data-ref-filename="239title">title</dfn>, <a class="typedef" href="../sysdeps/x86/hp-timing.h.html#hp_timing_t" title='hp_timing_t' data-type='unsigned long long' data-ref="hp_timing_t" data-ref-filename="hp_timing_t">hp_timing_t</a> <dfn class="local col0 decl" id="240time" title='time' data-type='hp_timing_t' data-ref="240time" data-ref-filename="240time">time</dfn>,</td></tr>
<tr><th id="2756">2756</th><td>		       <a class="typedef" href="../sysdeps/x86/hp-timing.h.html#hp_timing_t" title='hp_timing_t' data-type='unsigned long long' data-ref="hp_timing_t" data-ref-filename="hp_timing_t">hp_timing_t</a> <dfn class="local col1 decl" id="241total" title='total' data-type='hp_timing_t' data-ref="241total" data-ref-filename="241total">total</dfn>)</td></tr>
<tr><th id="2757">2757</th><td>{</td></tr>
<tr><th id="2758">2758</th><td>  <em>char</em> <dfn class="local col2 decl" id="242cycles" title='cycles' data-type='char [25]' data-ref="242cycles" data-ref-filename="242cycles">cycles</dfn>[<a class="macro" href="../sysdeps/generic/hp-timing-common.h.html#48" title="(3 * sizeof (hp_timing_t) + 1)" data-ref="_M/HP_TIMING_PRINT_SIZE">HP_TIMING_PRINT_SIZE</a>];</td></tr>
<tr><th id="2759">2759</th><td>  <a class="macro" href="../sysdeps/generic/hp-timing-common.h.html#51" title="do { char __buf[(3 * sizeof (hp_timing_t) + 1)]; char *__dest = (cycles); size_t __len = (sizeof (cycles)); char *__cp = _itoa_word ((time), __buf + sizeof (__buf), 10, 0); size_t __cp_len = (((__buf + sizeof (__buf) - __cp)&lt;(__len))?(__buf + sizeof (__buf) - __cp):(__len)); memcpy (__dest, __cp, __cp_len); __dest[__cp_len - 1] = &apos;\0&apos;; } while (0)" data-ref="_M/HP_TIMING_PRINT">HP_TIMING_PRINT</a> (<a class="local col2 ref" href="#242cycles" title='cycles' data-ref="242cycles" data-ref-filename="242cycles">cycles</a>, <b>sizeof</b> (<a class="local col2 ref" href="#242cycles" title='cycles' data-ref="242cycles" data-ref-filename="242cycles">cycles</a>), <a class="local col0 ref" href="#240time" title='time' data-ref="240time" data-ref-filename="240time">time</a>);</td></tr>
<tr><th id="2760">2760</th><td></td></tr>
<tr><th id="2761">2761</th><td>  <em>char</em> <dfn class="local col3 decl" id="243relative" title='relative' data-type='char [26]' data-ref="243relative" data-ref-filename="243relative">relative</dfn>[<var>3</var> * <b>sizeof</b> (<a class="typedef" href="../sysdeps/x86/hp-timing.h.html#hp_timing_t" title='hp_timing_t' data-type='unsigned long long' data-ref="hp_timing_t" data-ref-filename="hp_timing_t">hp_timing_t</a>) + <var>2</var>];</td></tr>
<tr><th id="2762">2762</th><td>  <em>char</em> *<dfn class="local col4 decl" id="244cp" title='cp' data-type='char *' data-ref="244cp" data-ref-filename="244cp">cp</dfn> = <a class="macro" href="../sysdeps/generic/_itoa.h.html#99" title="_itoa_word ((1000ULL * time) / total, relative + sizeof (relative), 10, 0)" data-ref="_M/_itoa">_itoa</a> ((<var>1000ULL</var> * <a class="local col0 ref" href="#240time" title='time' data-ref="240time" data-ref-filename="240time">time</a>) / <a class="local col1 ref" href="#241total" title='total' data-ref="241total" data-ref-filename="241total">total</a>, <a class="local col3 ref" href="#243relative" title='relative' data-ref="243relative" data-ref-filename="243relative">relative</a> + <b>sizeof</b> (<a class="local col3 ref" href="#243relative" title='relative' data-ref="243relative" data-ref-filename="243relative">relative</a>),</td></tr>
<tr><th id="2763">2763</th><td>		    <var>10</var>, <var>0</var>);</td></tr>
<tr><th id="2764">2764</th><td>  <i>/* Sets the decimal point.  */</i></td></tr>
<tr><th id="2765">2765</th><td>  <em>char</em> *<dfn class="local col5 decl" id="245wp" title='wp' data-type='char *' data-ref="245wp" data-ref-filename="245wp">wp</dfn> = <a class="local col3 ref" href="#243relative" title='relative' data-ref="243relative" data-ref-filename="243relative">relative</a>;</td></tr>
<tr><th id="2766">2766</th><td>  <b>switch</b> (<a class="local col3 ref" href="#243relative" title='relative' data-ref="243relative" data-ref-filename="243relative">relative</a> + <b>sizeof</b> (<a class="local col3 ref" href="#243relative" title='relative' data-ref="243relative" data-ref-filename="243relative">relative</a>) - <a class="local col4 ref" href="#244cp" title='cp' data-ref="244cp" data-ref-filename="244cp">cp</a>)</td></tr>
<tr><th id="2767">2767</th><td>    {</td></tr>
<tr><th id="2768">2768</th><td>    <b>case</b> <var>3</var>:</td></tr>
<tr><th id="2769">2769</th><td>      *<a class="local col5 ref" href="#245wp" title='wp' data-ref="245wp" data-ref-filename="245wp">wp</a>++ = *<a class="local col4 ref" href="#244cp" title='cp' data-ref="244cp" data-ref-filename="244cp">cp</a>++;</td></tr>
<tr><th id="2770">2770</th><td>      <i>/* Fall through.  */</i></td></tr>
<tr><th id="2771">2771</th><td>    <b>case</b> <var>2</var>:</td></tr>
<tr><th id="2772">2772</th><td>      *<a class="local col5 ref" href="#245wp" title='wp' data-ref="245wp" data-ref-filename="245wp">wp</a>++ = *<a class="local col4 ref" href="#244cp" title='cp' data-ref="244cp" data-ref-filename="244cp">cp</a>++;</td></tr>
<tr><th id="2773">2773</th><td>      <i>/* Fall through.  */</i></td></tr>
<tr><th id="2774">2774</th><td>    <b>case</b> <var>1</var>:</td></tr>
<tr><th id="2775">2775</th><td>      *<a class="local col5 ref" href="#245wp" title='wp' data-ref="245wp" data-ref-filename="245wp">wp</a>++ = <kbd>'.'</kbd>;</td></tr>
<tr><th id="2776">2776</th><td>      *<a class="local col5 ref" href="#245wp" title='wp' data-ref="245wp" data-ref-filename="245wp">wp</a>++ = *<a class="local col4 ref" href="#244cp" title='cp' data-ref="244cp" data-ref-filename="244cp">cp</a>++;</td></tr>
<tr><th id="2777">2777</th><td>    }</td></tr>
<tr><th id="2778">2778</th><td>  *<a class="local col5 ref" href="#245wp" title='wp' data-ref="245wp" data-ref-filename="245wp">wp</a> = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="2779">2779</th><td>  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_debug_printf" title='_dl_debug_printf' data-ref="_dl_debug_printf" data-ref-filename="_dl_debug_printf">_dl_debug_printf</a> (<q>"%s: %s cycles (%s%%)\n"</q>, <a class="local col9 ref" href="#239title" title='title' data-ref="239title" data-ref-filename="239title">title</a>, <a class="local col2 ref" href="#242cycles" title='cycles' data-ref="242cycles" data-ref-filename="242cycles">cycles</a>, <a class="local col3 ref" href="#243relative" title='relative' data-ref="243relative" data-ref-filename="243relative">relative</a>);</td></tr>
<tr><th id="2780">2780</th><td>}</td></tr>
<tr><th id="2781">2781</th><td><u>#<span data-ppcond="2753">endif</span></u></td></tr>
<tr><th id="2782">2782</th><td></td></tr>
<tr><th id="2783">2783</th><td><i  data-doc="print_statistics">/* Print the various times we collected.  */</i></td></tr>
<tr><th id="2784">2784</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2785">2785</th><td><b>__attribute</b> ((noinline))</td></tr>
<tr><th id="2786">2786</th><td><dfn class="tu decl def fn" id="print_statistics" title='print_statistics' data-type='void print_statistics(const hp_timing_t * rtld_total_timep)' data-ref="print_statistics" data-ref-filename="print_statistics">print_statistics</dfn> (<em>const</em> <a class="typedef" href="../sysdeps/x86/hp-timing.h.html#hp_timing_t" title='hp_timing_t' data-type='unsigned long long' data-ref="hp_timing_t" data-ref-filename="hp_timing_t">hp_timing_t</a> *<dfn class="local col6 decl" id="246rtld_total_timep" title='rtld_total_timep' data-type='const hp_timing_t *' data-ref="246rtld_total_timep" data-ref-filename="246rtld_total_timep">rtld_total_timep</dfn>)</td></tr>
<tr><th id="2787">2787</th><td>{</td></tr>
<tr><th id="2788">2788</th><td><u>#<span data-ppcond="2788">if</span> <a class="macro" href="../sysdeps/x86/hp-timing.h.html#26" title="(1)" data-ref="_M/HP_TIMING_INLINE">HP_TIMING_INLINE</a></u></td></tr>
<tr><th id="2789">2789</th><td>  {</td></tr>
<tr><th id="2790">2790</th><td>    <em>char</em> <dfn class="local col7 decl" id="247cycles" title='cycles' data-type='char [25]' data-ref="247cycles" data-ref-filename="247cycles">cycles</dfn>[<a class="macro" href="../sysdeps/generic/hp-timing-common.h.html#48" title="(3 * sizeof (hp_timing_t) + 1)" data-ref="_M/HP_TIMING_PRINT_SIZE">HP_TIMING_PRINT_SIZE</a>];</td></tr>
<tr><th id="2791">2791</th><td>    <a class="macro" href="../sysdeps/generic/hp-timing-common.h.html#51" title="do { char __buf[(3 * sizeof (hp_timing_t) + 1)]; char *__dest = (cycles); size_t __len = (sizeof (cycles)); char *__cp = _itoa_word ((*rtld_total_timep), __buf + sizeof (__buf), 10, 0); size_t __cp_len = (((__buf + sizeof (__buf) - __cp)&lt;(__len))?(__buf + sizeof (__buf) - __cp):(__len)); memcpy (__dest, __cp, __cp_len); __dest[__cp_len - 1] = &apos;\0&apos;; } while (0)" data-ref="_M/HP_TIMING_PRINT">HP_TIMING_PRINT</a> (<a class="local col7 ref" href="#247cycles" title='cycles' data-ref="247cycles" data-ref-filename="247cycles">cycles</a>, <b>sizeof</b> (<a class="local col7 ref" href="#247cycles" title='cycles' data-ref="247cycles" data-ref-filename="247cycles">cycles</a>), *<a class="local col6 ref" href="#246rtld_total_timep" title='rtld_total_timep' data-ref="246rtld_total_timep" data-ref-filename="246rtld_total_timep">rtld_total_timep</a>);</td></tr>
<tr><th id="2792">2792</th><td>    <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_debug_printf" title='_dl_debug_printf' data-ref="_dl_debug_printf" data-ref-filename="_dl_debug_printf">_dl_debug_printf</a> (<q>"\nruntime linker statistics:\n"</q></td></tr>
<tr><th id="2793">2793</th><td>		      <q>"  total startup time in dynamic loader: %s cycles\n"</q>,</td></tr>
<tr><th id="2794">2794</th><td>		      <a class="local col7 ref" href="#247cycles" title='cycles' data-ref="247cycles" data-ref-filename="247cycles">cycles</a>);</td></tr>
<tr><th id="2795">2795</th><td>    <a class="tu ref fn" href="#print_statistics_item" title='print_statistics_item' data-use='c' data-ref="print_statistics_item" data-ref-filename="print_statistics_item">print_statistics_item</a> (<q>"            time needed for relocation"</q>,</td></tr>
<tr><th id="2796">2796</th><td>			   <a class="tu ref" href="#351" title='relocate_time' data-use='r' data-ref="relocate_time" data-ref-filename="relocate_time">relocate_time</a>, *<a class="local col6 ref" href="#246rtld_total_timep" title='rtld_total_timep' data-ref="246rtld_total_timep" data-ref-filename="246rtld_total_timep">rtld_total_timep</a>);</td></tr>
<tr><th id="2797">2797</th><td>  }</td></tr>
<tr><th id="2798">2798</th><td><u>#<span data-ppcond="2788">endif</span></u></td></tr>
<tr><th id="2799">2799</th><td></td></tr>
<tr><th id="2800">2800</th><td>  <em>unsigned</em> <em>long</em> <em>int</em> <dfn class="local col8 decl" id="248num_relative_relocations" title='num_relative_relocations' data-type='unsigned long' data-ref="248num_relative_relocations" data-ref-filename="248num_relative_relocations">num_relative_relocations</dfn> = <var>0</var>;</td></tr>
<tr><th id="2801">2801</th><td>  <b>for</b> (<a class="typedef" href="../dlfcn/dlfcn.h.html#Lmid_t" title='Lmid_t' data-type='long' data-ref="Lmid_t" data-ref-filename="Lmid_t">Lmid_t</a> <dfn class="local col9 decl" id="249ns" title='ns' data-type='Lmid_t' data-ref="249ns" data-ref-filename="249ns">ns</dfn> = <var>0</var>; <a class="local col9 ref" href="#249ns" title='ns' data-ref="249ns" data-ref-filename="249ns">ns</a> &lt; <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_nns" data-ref="_M/GL">GL</a>(dl_nns); ++<a class="local col9 ref" href="#249ns" title='ns' data-ref="249ns" data-ref-filename="249ns">ns</a>)</td></tr>
<tr><th id="2802">2802</th><td>    {</td></tr>
<tr><th id="2803">2803</th><td>      <b>if</b> (<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="local col9 ref" href="#249ns" title='ns' data-ref="249ns" data-ref-filename="249ns">ns</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_loaded" title='link_namespaces::_ns_loaded' data-ref="link_namespaces::_ns_loaded" data-ref-filename="link_namespaces.._ns_loaded">_ns_loaded</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="2804">2804</th><td>	<b>continue</b>;</td></tr>
<tr><th id="2805">2805</th><td></td></tr>
<tr><th id="2806">2806</th><td>      <b>struct</b> <a class="type" href="../include/link.h.html#r_scope_elem" title='r_scope_elem' data-ref="r_scope_elem" data-ref-filename="r_scope_elem">r_scope_elem</a> *<dfn class="local col0 decl" id="250scope" title='scope' data-type='struct r_scope_elem *' data-ref="250scope" data-ref-filename="250scope">scope</dfn> = &amp;<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_ns" data-ref="_M/GL">GL</a>(dl_ns)[<a class="local col9 ref" href="#249ns" title='ns' data-ref="249ns" data-ref-filename="249ns">ns</a>].<a class="ref field" href="../sysdeps/generic/ldsodefs.h.html#link_namespaces::_ns_loaded" title='link_namespaces::_ns_loaded' data-ref="link_namespaces::_ns_loaded" data-ref-filename="link_namespaces.._ns_loaded">_ns_loaded</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_searchlist" title='link_map::l_searchlist' data-ref="link_map::l_searchlist" data-ref-filename="link_map..l_searchlist">l_searchlist</a>;</td></tr>
<tr><th id="2807">2807</th><td></td></tr>
<tr><th id="2808">2808</th><td>      <b>for</b> (<em>unsigned</em> <em>int</em> <dfn class="local col1 decl" id="251i" title='i' data-type='unsigned int' data-ref="251i" data-ref-filename="251i">i</dfn> = <var>0</var>; <a class="local col1 ref" href="#251i" title='i' data-ref="251i" data-ref-filename="251i">i</a> &lt; <a class="local col0 ref" href="#250scope" title='scope' data-ref="250scope" data-ref-filename="250scope">scope</a>-&gt;<a class="ref field" href="../include/link.h.html#r_scope_elem::r_nlist" title='r_scope_elem::r_nlist' data-ref="r_scope_elem::r_nlist" data-ref-filename="r_scope_elem..r_nlist">r_nlist</a>; <a class="local col1 ref" href="#251i" title='i' data-ref="251i" data-ref-filename="251i">i</a>++)</td></tr>
<tr><th id="2809">2809</th><td>	{</td></tr>
<tr><th id="2810">2810</th><td>	  <b>struct</b> <a class="type" href="../include/link.h.html#link_map" title='link_map' data-ref="link_map" data-ref-filename="link_map">link_map</a> *<dfn class="local col2 decl" id="252l" title='l' data-type='struct link_map *' data-ref="252l" data-ref-filename="252l">l</dfn> = <a class="local col0 ref" href="#250scope" title='scope' data-ref="250scope" data-ref-filename="250scope">scope</a>-&gt;<a class="ref field" href="../include/link.h.html#r_scope_elem::r_list" title='r_scope_elem::r_list' data-ref="r_scope_elem::r_list" data-ref-filename="r_scope_elem..r_list">r_list</a> [<a class="local col1 ref" href="#251i" title='i' data-ref="251i" data-ref-filename="251i">i</a>];</td></tr>
<tr><th id="2811">2811</th><td></td></tr>
<tr><th id="2812">2812</th><td>	  <b>if</b> (<a class="local col2 ref" href="#252l" title='l' data-ref="252l" data-ref-filename="252l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a> != <var>0</var> &amp;&amp; <a class="local col2 ref" href="#252l" title='l' data-ref="252l" data-ref-filename="252l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#44" title="(35 + 0 + (0x6fffffff - (0x6ffffffa)))" data-ref="_M/VERSYMIDX">VERSYMIDX</a> (<a class="macro" href="elf.h.html#940" title="0x6ffffffa" data-ref="_M/DT_RELCOUNT">DT_RELCOUNT</a>)])</td></tr>
<tr><th id="2813">2813</th><td>	    <a class="local col8 ref" href="#248num_relative_relocations" title='num_relative_relocations' data-ref="248num_relative_relocations" data-ref-filename="248num_relative_relocations">num_relative_relocations</a></td></tr>
<tr><th id="2814">2814</th><td>	      += <a class="local col2 ref" href="#252l" title='l' data-ref="252l" data-ref-filename="252l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#44" title="(35 + 0 + (0x6fffffff - (0x6ffffffa)))" data-ref="_M/VERSYMIDX">VERSYMIDX</a> (<a class="macro" href="elf.h.html#940" title="0x6ffffffa" data-ref="_M/DT_RELCOUNT">DT_RELCOUNT</a>)]-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_val" title='(anonymous struct)::(anonymous union)::d_val' data-ref="(anonymousstruct)::(anonymous)::d_val" data-ref-filename="(anonymousstruct)..(anonymous)..d_val">d_val</a>;</td></tr>
<tr><th id="2815">2815</th><td><u>#<span data-ppcond="2815">ifndef</span> <span class="macro" data-ref="_M/ELF_MACHINE_REL_RELATIVE">ELF_MACHINE_REL_RELATIVE</span></u></td></tr>
<tr><th id="2816">2816</th><td>	  <i>/* Relative relocations are processed on these architectures if</i></td></tr>
<tr><th id="2817">2817</th><td><i>	     library is loaded to different address than p_vaddr or</i></td></tr>
<tr><th id="2818">2818</th><td><i>	     if not prelinked.  */</i></td></tr>
<tr><th id="2819">2819</th><td>	  <b>if</b> ((<a class="local col2 ref" href="#252l" title='l' data-ref="252l" data-ref-filename="252l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_addr" title='link_map::l_addr' data-ref="link_map::l_addr" data-ref-filename="link_map..l_addr">l_addr</a> != <var>0</var> || !<a class="local col2 ref" href="#252l" title='l' data-ref="252l" data-ref-filename="252l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#45" title="(35 + 0 + 16 + 3 + (0x6ffffdff - (0x6ffffdf5)))" data-ref="_M/VALIDX">VALIDX</a>(<a class="macro" href="elf.h.html#898" title="0x6ffffdf5" data-ref="_M/DT_GNU_PRELINKED">DT_GNU_PRELINKED</a>)])</td></tr>
<tr><th id="2820">2820</th><td>	      &amp;&amp; <a class="local col2 ref" href="#252l" title='l' data-ref="252l" data-ref-filename="252l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#44" title="(35 + 0 + (0x6fffffff - (0x6ffffff9)))" data-ref="_M/VERSYMIDX">VERSYMIDX</a> (<a class="macro" href="elf.h.html#939" title="0x6ffffff9" data-ref="_M/DT_RELACOUNT">DT_RELACOUNT</a>)])</td></tr>
<tr><th id="2821">2821</th><td><u>#<span data-ppcond="2815">else</span></u></td></tr>
<tr><th id="2822">2822</th><td>	  <i>/* On e.g. IA-64 or Alpha, relative relocations are processed</i></td></tr>
<tr><th id="2823">2823</th><td><i>	     only if library is loaded to different address than p_vaddr.  */</i></td></tr>
<tr><th id="2824">2824</th><td>	  <b>if</b> (l-&gt;l_addr != <var>0</var> &amp;&amp; l-&gt;l_info[VERSYMIDX (DT_RELACOUNT)])</td></tr>
<tr><th id="2825">2825</th><td><u>#<span data-ppcond="2815">endif</span></u></td></tr>
<tr><th id="2826">2826</th><td>	    <a class="local col8 ref" href="#248num_relative_relocations" title='num_relative_relocations' data-ref="248num_relative_relocations" data-ref-filename="248num_relative_relocations">num_relative_relocations</a></td></tr>
<tr><th id="2827">2827</th><td>	      += <a class="local col2 ref" href="#252l" title='l' data-ref="252l" data-ref-filename="252l">l</a>-&gt;<a class="ref field" href="../include/link.h.html#link_map::l_info" title='link_map::l_info' data-ref="link_map::l_info" data-ref-filename="link_map..l_info">l_info</a>[<a class="macro" href="../sysdeps/generic/ldsodefs.h.html#44" title="(35 + 0 + (0x6fffffff - (0x6ffffff9)))" data-ref="_M/VERSYMIDX">VERSYMIDX</a> (<a class="macro" href="elf.h.html#939" title="0x6ffffff9" data-ref="_M/DT_RELACOUNT">DT_RELACOUNT</a>)]-&gt;<a class="ref field" href="elf.h.html#(anonymous)::d_un" title='(anonymous struct)::d_un' data-ref="(anonymous)::d_un" data-ref-filename="(anonymous)..d_un">d_un</a>.<a class="ref field" href="elf.h.html#(anonymousstruct)::(anonymous)::d_val" title='(anonymous struct)::(anonymous union)::d_val' data-ref="(anonymousstruct)::(anonymous)::d_val" data-ref-filename="(anonymousstruct)..(anonymous)..d_val">d_val</a>;</td></tr>
<tr><th id="2828">2828</th><td>	}</td></tr>
<tr><th id="2829">2829</th><td>    }</td></tr>
<tr><th id="2830">2830</th><td></td></tr>
<tr><th id="2831">2831</th><td>  <a class="ref fn" href="../sysdeps/generic/ldsodefs.h.html#_dl_debug_printf" title='_dl_debug_printf' data-ref="_dl_debug_printf" data-ref-filename="_dl_debug_printf">_dl_debug_printf</a> (<q>"                 number of relocations: %lu\n"</q></td></tr>
<tr><th id="2832">2832</th><td>		    <q>"      number of relocations from cache: %lu\n"</q></td></tr>
<tr><th id="2833">2833</th><td>		    <q>"        number of relative relocations: %lu\n"</q>,</td></tr>
<tr><th id="2834">2834</th><td>		    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_num_relocations" data-ref="_M/GL">GL</a>(dl_num_relocations),</td></tr>
<tr><th id="2835">2835</th><td>		    <a class="macro" href="../sysdeps/generic/ldsodefs.h.html#304" title="_rtld_local._dl_num_cache_relocations" data-ref="_M/GL">GL</a>(dl_num_cache_relocations),</td></tr>
<tr><th id="2836">2836</th><td>		    <a class="local col8 ref" href="#248num_relative_relocations" title='num_relative_relocations' data-ref="248num_relative_relocations" data-ref-filename="248num_relative_relocations">num_relative_relocations</a>);</td></tr>
<tr><th id="2837">2837</th><td></td></tr>
<tr><th id="2838">2838</th><td><u>#<span data-ppcond="2838">if</span> <a class="macro" href="../sysdeps/x86/hp-timing.h.html#26" title="(1)" data-ref="_M/HP_TIMING_INLINE">HP_TIMING_INLINE</a></u></td></tr>
<tr><th id="2839">2839</th><td>  <a class="tu ref fn" href="#print_statistics_item" title='print_statistics_item' data-use='c' data-ref="print_statistics_item" data-ref-filename="print_statistics_item">print_statistics_item</a> (<q>"           time needed to load objects"</q>,</td></tr>
<tr><th id="2840">2840</th><td>			 <a class="tu ref" href="#352" title='load_time' data-use='r' data-ref="load_time" data-ref-filename="load_time">load_time</a>, *<a class="local col6 ref" href="#246rtld_total_timep" title='rtld_total_timep' data-ref="246rtld_total_timep" data-ref-filename="246rtld_total_timep">rtld_total_timep</a>);</td></tr>
<tr><th id="2841">2841</th><td><u>#<span data-ppcond="2838">endif</span></u></td></tr>
<tr><th id="2842">2842</th><td>}</td></tr>
<tr><th id="2843">2843</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2020-Feb-26</em> from project glibc_src_2.31 revision <em>2.31</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
