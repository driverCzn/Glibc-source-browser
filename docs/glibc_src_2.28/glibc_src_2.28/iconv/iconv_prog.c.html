<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>iconv_prog.c source code [glibc_src_2.28/iconv/iconv_prog.c] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="main "/>
<link rel="stylesheet" href="../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'glibc_src_2.28/iconv/iconv_prog.c'; var root_path = '../..'; var data_path = '../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='..'>glibc_src_2.28</a>/<a href='./'>iconv</a>/<a href='iconv_prog.c.html'>iconv_prog.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* Convert text in given files from the specified from-set to the to-set.</i></td></tr>
<tr><th id="2">2</th><td><i>   Copyright (C) 1998-2018 Free Software Foundation, Inc.</i></td></tr>
<tr><th id="3">3</th><td><i>   This file is part of the GNU C Library.</i></td></tr>
<tr><th id="4">4</th><td><i>   Contributed by Ulrich Drepper &lt;drepper@cygnus.com&gt;, 1998.</i></td></tr>
<tr><th id="5">5</th><td><i></i></td></tr>
<tr><th id="6">6</th><td><i>   This program is free software; you can redistribute it and/or modify</i></td></tr>
<tr><th id="7">7</th><td><i>   it under the terms of the GNU General Public License as published</i></td></tr>
<tr><th id="8">8</th><td><i>   by the Free Software Foundation; version 2 of the License, or</i></td></tr>
<tr><th id="9">9</th><td><i>   (at your option) any later version.</i></td></tr>
<tr><th id="10">10</th><td><i></i></td></tr>
<tr><th id="11">11</th><td><i>   This program is distributed in the hope that it will be useful,</i></td></tr>
<tr><th id="12">12</th><td><i>   but WITHOUT ANY WARRANTY; without even the implied warranty of</i></td></tr>
<tr><th id="13">13</th><td><i>   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</i></td></tr>
<tr><th id="14">14</th><td><i>   GNU General Public License for more details.</i></td></tr>
<tr><th id="15">15</th><td><i></i></td></tr>
<tr><th id="16">16</th><td><i>   You should have received a copy of the GNU General Public License</i></td></tr>
<tr><th id="17">17</th><td><i>   along with this program; if not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.  */</i></td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../include/argp.h.html">&lt;argp.h&gt;</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="../include/assert.h.html">&lt;assert.h&gt;</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../include/ctype.h.html">&lt;ctype.h&gt;</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="../include/errno.h.html">&lt;errno.h&gt;</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../include/error.h.html">&lt;error.h&gt;</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="../include/fcntl.h.html">&lt;fcntl.h&gt;</a></u></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="../include/iconv.h.html">&lt;iconv.h&gt;</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="../include/langinfo.h.html">&lt;langinfo.h&gt;</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="../include/locale.h.html">&lt;locale.h&gt;</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="../include/search.h.html">&lt;search.h&gt;</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include &lt;stdbool.h&gt;</u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="../include/stdio.h.html">&lt;stdio.h&gt;</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="../include/stdlib.h.html">&lt;stdlib.h&gt;</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="../include/string.h.html">&lt;string.h&gt;</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="../include/unistd.h.html">&lt;unistd.h&gt;</a></u></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="../include/libintl.h.html">&lt;libintl.h&gt;</a></u></td></tr>
<tr><th id="35">35</th><td><u>#<span data-ppcond="35">ifdef</span> <a class="macro" href="../sysdeps/unix/sysv/linux/bits/posix_opt.h.html#38" data-ref="_M/_POSIX_MAPPED_FILES">_POSIX_MAPPED_FILES</a></u></td></tr>
<tr><th id="36">36</th><td><u># include <a href="../include/sys/mman.h.html">&lt;sys/mman.h&gt;</a></u></td></tr>
<tr><th id="37">37</th><td><u>#<span data-ppcond="35">endif</span></u></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="../locale/programs/charmap.h.html">&lt;charmap.h&gt;</a></u></td></tr>
<tr><th id="39">39</th><td><u>#include <a href="gconv_int.h.html">&lt;gconv_int.h&gt;</a></u></td></tr>
<tr><th id="40">40</th><td><u>#include <a href="iconv_prog.h.html">"iconv_prog.h"</a></u></td></tr>
<tr><th id="41">41</th><td><u>#include <a href="iconvconfig.h.html">"iconvconfig.h"</a></u></td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><i>/* Get libc version number.  */</i></td></tr>
<tr><th id="44">44</th><td><u>#include <a href="../version.h.html">"../version.h"</a></u></td></tr>
<tr><th id="45">45</th><td></td></tr>
<tr><th id="46">46</th><td><u>#define <dfn class="macro" id="_M/PACKAGE" data-ref="_M/PACKAGE">PACKAGE</dfn> _libc_intl_domainname</u></td></tr>
<tr><th id="47">47</th><td></td></tr>
<tr><th id="48">48</th><td></td></tr>
<tr><th id="49">49</th><td><i  data-doc="print_version">/* Name and version of program.  */</i></td></tr>
<tr><th id="50">50</th><td><em>static</em> <em>void</em> <a class="tu decl fn" href="#print_version" title='print_version' data-type='void print_version(FILE * stream, struct argp_state * state)' data-ref="print_version" data-ref-filename="print_version">print_version</a> (<a class="typedef" href="../libio/bits/types/FILE.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> *<dfn class="local col1 decl" id="1stream" title='stream' data-type='FILE *' data-ref="1stream" data-ref-filename="1stream">stream</dfn>, <b>struct</b> <a class="type" href="../argp/argp.h.html#argp_state" title='argp_state' data-ref="argp_state" data-ref-filename="argp_state">argp_state</a> *<dfn class="local col2 decl" id="2state" title='state' data-type='struct argp_state *' data-ref="2state" data-ref-filename="2state">state</dfn>);</td></tr>
<tr><th id="51">51</th><td><em>void</em> (*<dfn class="decl def" id="argp_program_version_hook" title='argp_program_version_hook' data-ref="argp_program_version_hook" data-ref-filename="argp_program_version_hook">argp_program_version_hook</dfn>) (<a class="typedef" href="../libio/bits/types/FILE.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> *, <b>struct</b> <a class="type" href="../argp/argp.h.html#argp_state" title='argp_state' data-ref="argp_state" data-ref-filename="argp_state">argp_state</a> *) = <a class="tu ref fn" href="#print_version" title='print_version' data-use='r' data-ref="print_version" data-ref-filename="print_version">print_version</a>;</td></tr>
<tr><th id="52">52</th><td></td></tr>
<tr><th id="53">53</th><td><u>#define <dfn class="macro" id="_M/OPT_VERBOSE" data-ref="_M/OPT_VERBOSE">OPT_VERBOSE</dfn>	1000</u></td></tr>
<tr><th id="54">54</th><td><u>#define <dfn class="macro" id="_M/OPT_LIST" data-ref="_M/OPT_LIST">OPT_LIST</dfn>	'l'</u></td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td><i  data-doc="options">/* Definitions of arguments for argp functions.  */</i></td></tr>
<tr><th id="57">57</th><td><em>static</em> <em>const</em> <b>struct</b> <a class="type" href="../argp/argp.h.html#argp_option" title='argp_option' data-ref="argp_option" data-ref-filename="argp_option">argp_option</a> <dfn class="tu decl def" id="options" title='options' data-type='const struct argp_option [11]' data-ref="options" data-ref-filename="options">options</dfn>[] =</td></tr>
<tr><th id="58">58</th><td>{</td></tr>
<tr><th id="59">59</th><td>  { <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <a class="macro" href="../include/libintl.h.html#45" title="&quot;Input/Output format specification:&quot;" data-ref="_M/N_">N_</a>(<q>"Input/Output format specification:"</q>) },</td></tr>
<tr><th id="60">60</th><td>  { <q>"from-code"</q>, <kbd>'f'</kbd>, <a class="macro" href="../include/libintl.h.html#45" title="&quot;NAME&quot;" data-ref="_M/N_">N_</a>(<q>"NAME"</q>), <var>0</var>, <a class="macro" href="../include/libintl.h.html#45" title="&quot;encoding of original text&quot;" data-ref="_M/N_">N_</a>(<q>"encoding of original text"</q>) },</td></tr>
<tr><th id="61">61</th><td>  { <q>"to-code"</q>, <kbd>'t'</kbd>, <a class="macro" href="../include/libintl.h.html#45" title="&quot;NAME&quot;" data-ref="_M/N_">N_</a>(<q>"NAME"</q>), <var>0</var>, <a class="macro" href="../include/libintl.h.html#45" title="&quot;encoding for output&quot;" data-ref="_M/N_">N_</a>(<q>"encoding for output"</q>) },</td></tr>
<tr><th id="62">62</th><td>  { <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <a class="macro" href="../include/libintl.h.html#45" title="&quot;Information:&quot;" data-ref="_M/N_">N_</a>(<q>"Information:"</q>) },</td></tr>
<tr><th id="63">63</th><td>  { <q>"list"</q>, <kbd>'l'</kbd>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <a class="macro" href="../include/libintl.h.html#45" title="&quot;list all known coded character sets&quot;" data-ref="_M/N_">N_</a>(<q>"list all known coded character sets"</q>) },</td></tr>
<tr><th id="64">64</th><td>  { <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <a class="macro" href="../include/libintl.h.html#45" title="&quot;Output control:&quot;" data-ref="_M/N_">N_</a>(<q>"Output control:"</q>) },</td></tr>
<tr><th id="65">65</th><td>  { <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <kbd>'c'</kbd>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <a class="macro" href="../include/libintl.h.html#45" title="&quot;omit invalid characters from output&quot;" data-ref="_M/N_">N_</a>(<q>"omit invalid characters from output"</q>) },</td></tr>
<tr><th id="66">66</th><td>  { <q>"output"</q>, <kbd>'o'</kbd>, <a class="macro" href="../include/libintl.h.html#45" title="&quot;FILE&quot;" data-ref="_M/N_">N_</a>(<q>"FILE"</q>), <var>0</var>, <a class="macro" href="../include/libintl.h.html#45" title="&quot;output file&quot;" data-ref="_M/N_">N_</a>(<q>"output file"</q>) },</td></tr>
<tr><th id="67">67</th><td>  { <q>"silent"</q>, <kbd>'s'</kbd>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <a class="macro" href="../include/libintl.h.html#45" title="&quot;suppress warnings&quot;" data-ref="_M/N_">N_</a>(<q>"suppress warnings"</q>) },</td></tr>
<tr><th id="68">68</th><td>  { <q>"verbose"</q>, <a class="macro" href="#53" title="1000" data-ref="_M/OPT_VERBOSE">OPT_VERBOSE</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <a class="macro" href="../include/libintl.h.html#45" title="&quot;print progress information&quot;" data-ref="_M/N_">N_</a>(<q>"print progress information"</q>) },</td></tr>
<tr><th id="69">69</th><td>  { <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> }</td></tr>
<tr><th id="70">70</th><td>};</td></tr>
<tr><th id="71">71</th><td></td></tr>
<tr><th id="72">72</th><td><i  data-doc="doc">/* Short description of program.  */</i></td></tr>
<tr><th id="73">73</th><td><em>static</em> <em>const</em> <em>char</em> <dfn class="tu decl def" id="doc" title='doc' data-type='const char [62]' data-ref="doc" data-ref-filename="doc">doc</dfn>[] = <a class="macro" href="../include/libintl.h.html#45" title="&quot;Convert encoding of given files from one encoding to another.&quot;" data-ref="_M/N_">N_</a>(<q>"\</q></td></tr>
<tr><th id="74">74</th><td><q>Convert encoding of given files from one encoding to another."</q>);</td></tr>
<tr><th id="75">75</th><td></td></tr>
<tr><th id="76">76</th><td><i  data-doc="args_doc">/* Strings for arguments in help texts.  */</i></td></tr>
<tr><th id="77">77</th><td><em>static</em> <em>const</em> <em>char</em> <dfn class="tu decl def" id="args_doc" title='args_doc' data-type='const char [10]' data-ref="args_doc" data-ref-filename="args_doc">args_doc</dfn>[] = <a class="macro" href="../include/libintl.h.html#45" title="&quot;[FILE...]&quot;" data-ref="_M/N_">N_</a>(<q>"[FILE...]"</q>);</td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td><i  data-doc="parse_opt">/* Prototype for option handler.  */</i></td></tr>
<tr><th id="80">80</th><td><em>static</em> <a class="typedef" href="../bits/types/error_t.h.html#error_t" title='error_t' data-type='int' data-ref="error_t" data-ref-filename="error_t">error_t</a> <a class="tu decl fn" href="#parse_opt" title='parse_opt' data-type='error_t parse_opt(int key, char * arg, struct argp_state * state)' data-ref="parse_opt" data-ref-filename="parse_opt">parse_opt</a> (<em>int</em> <dfn class="local col3 decl" id="3key" title='key' data-type='int' data-ref="3key" data-ref-filename="3key">key</dfn>, <em>char</em> *<dfn class="local col4 decl" id="4arg" title='arg' data-type='char *' data-ref="4arg" data-ref-filename="4arg">arg</dfn>, <b>struct</b> <a class="type" href="../argp/argp.h.html#argp_state" title='argp_state' data-ref="argp_state" data-ref-filename="argp_state">argp_state</a> *<dfn class="local col5 decl" id="5state" title='state' data-type='struct argp_state *' data-ref="5state" data-ref-filename="5state">state</dfn>);</td></tr>
<tr><th id="81">81</th><td></td></tr>
<tr><th id="82">82</th><td><i  data-doc="more_help">/* Function to print some extra text in the help message.  */</i></td></tr>
<tr><th id="83">83</th><td><em>static</em> <em>char</em> *<a class="tu decl fn" href="#more_help" title='more_help' data-type='char * more_help(int key, const char * text, void * input)' data-ref="more_help" data-ref-filename="more_help">more_help</a> (<em>int</em> <dfn class="local col6 decl" id="6key" title='key' data-type='int' data-ref="6key" data-ref-filename="6key">key</dfn>, <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="7text" title='text' data-type='const char *' data-ref="7text" data-ref-filename="7text">text</dfn>, <em>void</em> *<dfn class="local col8 decl" id="8input" title='input' data-type='void *' data-ref="8input" data-ref-filename="8input">input</dfn>);</td></tr>
<tr><th id="84">84</th><td></td></tr>
<tr><th id="85">85</th><td><i  data-doc="argp">/* Data structure to communicate with argp functions.  */</i></td></tr>
<tr><th id="86">86</th><td><em>static</em> <b>struct</b> <a class="type" href="../argp/argp.h.html#argp" title='argp' data-ref="argp" data-ref-filename="argp">argp</a> <dfn class="tu decl def" id="argp" title='argp' data-type='struct argp' data-ref="argp" data-ref-filename="argp">argp</dfn> =</td></tr>
<tr><th id="87">87</th><td>{</td></tr>
<tr><th id="88">88</th><td>  <a class="tu ref" href="#options" title='options' data-ref="options" data-ref-filename="options">options</a>, <a class="tu ref fn" href="#parse_opt" title='parse_opt' data-ref="parse_opt" data-ref-filename="parse_opt">parse_opt</a>, <a class="tu ref" href="#args_doc" title='args_doc' data-ref="args_doc" data-ref-filename="args_doc">args_doc</a>, <a class="tu ref" href="#doc" title='doc' data-ref="doc" data-ref-filename="doc">doc</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="tu ref fn" href="#more_help" title='more_help' data-ref="more_help" data-ref-filename="more_help">more_help</a></td></tr>
<tr><th id="89">89</th><td>};</td></tr>
<tr><th id="90">90</th><td></td></tr>
<tr><th id="91">91</th><td><i  data-doc="from_code">/* Code sets to convert from and to respectively.  An empty string as the</i></td></tr>
<tr><th id="92">92</th><td><i  data-doc="from_code">   default causes the 'iconv_open' function to look up the charset of the</i></td></tr>
<tr><th id="93">93</th><td><i  data-doc="from_code">   currently selected locale and use it.  */</i></td></tr>
<tr><th id="94">94</th><td><em>static</em> <em>const</em> <em>char</em> *<dfn class="tu decl def" id="from_code" title='from_code' data-type='const char *' data-ref="from_code" data-ref-filename="from_code">from_code</dfn> = <q>""</q>;</td></tr>
<tr><th id="95">95</th><td><em>static</em> <em>const</em> <em>char</em> *<dfn class="tu decl def" id="to_code" title='to_code' data-type='const char *' data-ref="to_code" data-ref-filename="to_code">to_code</dfn> = <q>""</q>;</td></tr>
<tr><th id="96">96</th><td></td></tr>
<tr><th id="97">97</th><td><i  data-doc="output_file">/* File to write output to.  If NULL write to stdout.  */</i></td></tr>
<tr><th id="98">98</th><td><em>static</em> <em>const</em> <em>char</em> *<dfn class="tu decl def" id="output_file" title='output_file' data-type='const char *' data-ref="output_file" data-ref-filename="output_file">output_file</dfn>;</td></tr>
<tr><th id="99">99</th><td></td></tr>
<tr><th id="100">100</th><td><i  data-doc="list">/* Nonzero if list of all coded character sets is wanted.  */</i></td></tr>
<tr><th id="101">101</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="list" title='list' data-type='int' data-ref="list" data-ref-filename="list">list</dfn>;</td></tr>
<tr><th id="102">102</th><td></td></tr>
<tr><th id="103">103</th><td><i>/* If nonzero omit invalid character from output.  */</i></td></tr>
<tr><th id="104">104</th><td><em>int</em> <dfn class="decl def" id="omit_invalid" title='omit_invalid' data-ref="omit_invalid" data-ref-filename="omit_invalid">omit_invalid</dfn>;</td></tr>
<tr><th id="105">105</th><td></td></tr>
<tr><th id="106">106</th><td><i  data-doc="process_block">/* Prototypes for the functions doing the actual work.  */</i></td></tr>
<tr><th id="107">107</th><td><em>static</em> <em>int</em> <a class="tu decl fn" href="#process_block" title='process_block' data-type='int process_block(iconv_t cd, char * addr, size_t len, FILE ** output, const char * output_file)' data-ref="process_block" data-ref-filename="process_block">process_block</a> (<a class="typedef" href="iconv.h.html#iconv_t" title='iconv_t' data-type='void *' data-ref="iconv_t" data-ref-filename="iconv_t">iconv_t</a> <dfn class="local col9 decl" id="9cd" title='cd' data-type='iconv_t' data-ref="9cd" data-ref-filename="9cd">cd</dfn>, <em>char</em> *<dfn class="local col0 decl" id="10addr" title='addr' data-type='char *' data-ref="10addr" data-ref-filename="10addr">addr</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col1 decl" id="11len" title='len' data-type='size_t' data-ref="11len" data-ref-filename="11len">len</dfn>, <a class="typedef" href="../libio/bits/types/FILE.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> **<dfn class="local col2 decl" id="12output" title='output' data-type='FILE **' data-ref="12output" data-ref-filename="12output">output</dfn>,</td></tr>
<tr><th id="108">108</th><td>			  <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="13output_file" title='output_file' data-type='const char *' data-ref="13output_file" data-ref-filename="13output_file">output_file</dfn>);</td></tr>
<tr><th id="109">109</th><td><em>static</em> <em>int</em> <a class="tu decl fn" href="#process_fd" title='process_fd' data-type='int process_fd(iconv_t cd, int fd, FILE ** output, const char * output_file)' data-ref="process_fd" data-ref-filename="process_fd">process_fd</a> (<a class="typedef" href="iconv.h.html#iconv_t" title='iconv_t' data-type='void *' data-ref="iconv_t" data-ref-filename="iconv_t">iconv_t</a> <dfn class="local col4 decl" id="14cd" title='cd' data-type='iconv_t' data-ref="14cd" data-ref-filename="14cd">cd</dfn>, <em>int</em> <dfn class="local col5 decl" id="15fd" title='fd' data-type='int' data-ref="15fd" data-ref-filename="15fd">fd</dfn>, <a class="typedef" href="../libio/bits/types/FILE.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> **<dfn class="local col6 decl" id="16output" title='output' data-type='FILE **' data-ref="16output" data-ref-filename="16output">output</dfn>,</td></tr>
<tr><th id="110">110</th><td>		       <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="17output_file" title='output_file' data-type='const char *' data-ref="17output_file" data-ref-filename="17output_file">output_file</dfn>);</td></tr>
<tr><th id="111">111</th><td><em>static</em> <em>int</em> <a class="tu decl fn" href="#process_file" title='process_file' data-type='int process_file(iconv_t cd, FILE * input, FILE ** output, const char * output_file)' data-ref="process_file" data-ref-filename="process_file">process_file</a> (<a class="typedef" href="iconv.h.html#iconv_t" title='iconv_t' data-type='void *' data-ref="iconv_t" data-ref-filename="iconv_t">iconv_t</a> <dfn class="local col8 decl" id="18cd" title='cd' data-type='iconv_t' data-ref="18cd" data-ref-filename="18cd">cd</dfn>, <a class="typedef" href="../libio/bits/types/FILE.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> *<dfn class="local col9 decl" id="19input" title='input' data-type='FILE *' data-ref="19input" data-ref-filename="19input">input</dfn>, <a class="typedef" href="../libio/bits/types/FILE.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> **<dfn class="local col0 decl" id="20output" title='output' data-type='FILE **' data-ref="20output" data-ref-filename="20output">output</dfn>,</td></tr>
<tr><th id="112">112</th><td>			 <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="21output_file" title='output_file' data-type='const char *' data-ref="21output_file" data-ref-filename="21output_file">output_file</dfn>);</td></tr>
<tr><th id="113">113</th><td><em>static</em> <em>void</em> <a class="tu decl fn" href="#print_known_names" title='print_known_names' data-type='void print_known_names()' data-ref="print_known_names" data-ref-filename="print_known_names">print_known_names</a> (<em>void</em>);</td></tr>
<tr><th id="114">114</th><td></td></tr>
<tr><th id="115">115</th><td></td></tr>
<tr><th id="116">116</th><td><em>int</em></td></tr>
<tr><th id="117">117</th><td><dfn class="decl def fn" id="main" title='main' data-ref="main" data-ref-filename="main">main</dfn> (<em>int</em> <dfn class="local col2 decl" id="22argc" title='argc' data-type='int' data-ref="22argc" data-ref-filename="22argc">argc</dfn>, <em>char</em> *<dfn class="local col3 decl" id="23argv" title='argv' data-type='char **' data-ref="23argv" data-ref-filename="23argv">argv</dfn>[])</td></tr>
<tr><th id="118">118</th><td>{</td></tr>
<tr><th id="119">119</th><td>  <em>int</em> <dfn class="local col4 decl" id="24status" title='status' data-type='int' data-ref="24status" data-ref-filename="24status">status</dfn> = <a class="macro" href="../stdlib/stdlib.h.html#92" title="0" data-ref="_M/EXIT_SUCCESS">EXIT_SUCCESS</a>;</td></tr>
<tr><th id="120">120</th><td>  <em>int</em> <dfn class="local col5 decl" id="25remaining" title='remaining' data-type='int' data-ref="25remaining" data-ref-filename="25remaining">remaining</dfn>;</td></tr>
<tr><th id="121">121</th><td>  <a class="typedef" href="iconv.h.html#iconv_t" title='iconv_t' data-type='void *' data-ref="iconv_t" data-ref-filename="iconv_t">iconv_t</a> <dfn class="local col6 decl" id="26cd" title='cd' data-type='iconv_t' data-ref="26cd" data-ref-filename="26cd">cd</dfn>;</td></tr>
<tr><th id="122">122</th><td>  <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="27orig_to_code" title='orig_to_code' data-type='const char *' data-ref="27orig_to_code" data-ref-filename="27orig_to_code">orig_to_code</dfn>;</td></tr>
<tr><th id="123">123</th><td>  <b>struct</b> <a class="type" href="../locale/programs/charmap.h.html#charmap_t" title='charmap_t' data-ref="charmap_t" data-ref-filename="charmap_t">charmap_t</a> *<dfn class="local col8 decl" id="28from_charmap" title='from_charmap' data-type='struct charmap_t *' data-ref="28from_charmap" data-ref-filename="28from_charmap">from_charmap</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="124">124</th><td>  <b>struct</b> <a class="type" href="../locale/programs/charmap.h.html#charmap_t" title='charmap_t' data-ref="charmap_t" data-ref-filename="charmap_t">charmap_t</a> *<dfn class="local col9 decl" id="29to_charmap" title='to_charmap' data-type='struct charmap_t *' data-ref="29to_charmap" data-ref-filename="29to_charmap">to_charmap</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="125">125</th><td></td></tr>
<tr><th id="126">126</th><td>  <i>/* Set locale via LC_ALL.  */</i></td></tr>
<tr><th id="127">127</th><td>  <a class="ref fn" href="../locale/locale.h.html#setlocale" title='setlocale' data-ref="setlocale" data-ref-filename="setlocale">setlocale</a> (<a class="macro" href="../locale/locale.h.html#41" title="6" data-ref="_M/LC_ALL">LC_ALL</a>, <q>""</q>);</td></tr>
<tr><th id="128">128</th><td></td></tr>
<tr><th id="129">129</th><td>  <i>/* Set the text message domain.  */</i></td></tr>
<tr><th id="130">130</th><td>  <a class="ref fn" href="../intl/libintl.h.html#textdomain" title='textdomain' data-ref="textdomain" data-ref-filename="textdomain">textdomain</a> (<a class="ref" href="../include/libintl.h.html#_libc_intl_domainname" title='_libc_intl_domainname' data-ref="_libc_intl_domainname" data-ref-filename="_libc_intl_domainname">_libc_intl_domainname</a>);</td></tr>
<tr><th id="131">131</th><td></td></tr>
<tr><th id="132">132</th><td>  <i>/* Parse and process arguments.  */</i></td></tr>
<tr><th id="133">133</th><td>  <a class="ref fn" href="../argp/argp.h.html#argp_parse" title='argp_parse' data-ref="argp_parse" data-ref-filename="argp_parse">argp_parse</a> (&amp;<a class="tu ref" href="#argp" title='argp' data-use='a' data-ref="argp" data-ref-filename="argp">argp</a>, <a class="local col2 ref" href="#22argc" title='argc' data-ref="22argc" data-ref-filename="22argc">argc</a>, <a class="local col3 ref" href="#23argv" title='argv' data-ref="23argv" data-ref-filename="23argv">argv</a>, <var>0</var>, &amp;<a class="local col5 ref" href="#25remaining" title='remaining' data-ref="25remaining" data-ref-filename="25remaining">remaining</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="134">134</th><td></td></tr>
<tr><th id="135">135</th><td>  <i>/* List all coded character sets if wanted.  */</i></td></tr>
<tr><th id="136">136</th><td>  <b>if</b> (<a class="tu ref" href="#list" title='list' data-use='r' data-ref="list" data-ref-filename="list">list</a>)</td></tr>
<tr><th id="137">137</th><td>    {</td></tr>
<tr><th id="138">138</th><td>      <a class="tu ref fn" href="#print_known_names" title='print_known_names' data-use='c' data-ref="print_known_names" data-ref-filename="print_known_names">print_known_names</a> ();</td></tr>
<tr><th id="139">139</th><td>      <a class="ref fn" href="../stdlib/stdlib.h.html#exit" title='exit' data-ref="exit" data-ref-filename="exit">exit</a> (<a class="macro" href="../stdlib/stdlib.h.html#92" title="0" data-ref="_M/EXIT_SUCCESS">EXIT_SUCCESS</a>);</td></tr>
<tr><th id="140">140</th><td>    }</td></tr>
<tr><th id="141">141</th><td></td></tr>
<tr><th id="142">142</th><td>  <i>/* If we have to ignore errors make sure we use the appropriate name for</i></td></tr>
<tr><th id="143">143</th><td><i>     the to-character-set.  */</i></td></tr>
<tr><th id="144">144</th><td>  <a class="local col7 ref" href="#27orig_to_code" title='orig_to_code' data-ref="27orig_to_code" data-ref-filename="27orig_to_code">orig_to_code</a> = <a class="tu ref" href="#to_code" title='to_code' data-use='r' data-ref="to_code" data-ref-filename="to_code">to_code</a>;</td></tr>
<tr><th id="145">145</th><td>  <b>if</b> (<a class="ref" href="iconv_prog.h.html#omit_invalid" title='omit_invalid' data-ref="omit_invalid" data-ref-filename="omit_invalid">omit_invalid</a>)</td></tr>
<tr><th id="146">146</th><td>    {</td></tr>
<tr><th id="147">147</th><td>      <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="30errhand" title='errhand' data-type='const char *' data-ref="30errhand" data-ref-filename="30errhand">errhand</dfn> = <a class="ref fn" href="../string/string.h.html#strchrnul" title='strchrnul' data-ref="strchrnul" data-ref-filename="strchrnul">strchrnul</a> (<a class="tu ref" href="#to_code" title='to_code' data-use='r' data-ref="to_code" data-ref-filename="to_code">to_code</a>, <kbd>'/'</kbd>);</td></tr>
<tr><th id="148">148</th><td>      <em>int</em> <dfn class="local col1 decl" id="31nslash" title='nslash' data-type='int' data-ref="31nslash" data-ref-filename="31nslash">nslash</dfn> = <var>2</var>;</td></tr>
<tr><th id="149">149</th><td>      <em>char</em> *<dfn class="local col2 decl" id="32newp" title='newp' data-type='char *' data-ref="32newp" data-ref-filename="32newp">newp</dfn>;</td></tr>
<tr><th id="150">150</th><td>      <em>char</em> *<dfn class="local col3 decl" id="33cp" title='cp' data-type='char *' data-ref="33cp" data-ref-filename="33cp">cp</dfn>;</td></tr>
<tr><th id="151">151</th><td></td></tr>
<tr><th id="152">152</th><td>      <b>if</b> (*<a class="local col0 ref" href="#30errhand" title='errhand' data-ref="30errhand" data-ref-filename="30errhand">errhand</a> == <kbd>'/'</kbd>)</td></tr>
<tr><th id="153">153</th><td>	{</td></tr>
<tr><th id="154">154</th><td>	  --<a class="local col1 ref" href="#31nslash" title='nslash' data-ref="31nslash" data-ref-filename="31nslash">nslash</a>;</td></tr>
<tr><th id="155">155</th><td>	  <a class="local col0 ref" href="#30errhand" title='errhand' data-ref="30errhand" data-ref-filename="30errhand">errhand</a> = <a class="ref fn" href="../string/string.h.html#strchrnul" title='strchrnul' data-ref="strchrnul" data-ref-filename="strchrnul">strchrnul</a> (<a class="local col0 ref" href="#30errhand" title='errhand' data-ref="30errhand" data-ref-filename="30errhand">errhand</a> + <var>1</var>, <kbd>'/'</kbd>);</td></tr>
<tr><th id="156">156</th><td></td></tr>
<tr><th id="157">157</th><td>	  <b>if</b> (*<a class="local col0 ref" href="#30errhand" title='errhand' data-ref="30errhand" data-ref-filename="30errhand">errhand</a> == <kbd>'/'</kbd>)</td></tr>
<tr><th id="158">158</th><td>	    {</td></tr>
<tr><th id="159">159</th><td>	      --<a class="local col1 ref" href="#31nslash" title='nslash' data-ref="31nslash" data-ref-filename="31nslash">nslash</a>;</td></tr>
<tr><th id="160">160</th><td>	      <a class="local col0 ref" href="#30errhand" title='errhand' data-ref="30errhand" data-ref-filename="30errhand">errhand</a> = <a class="ref fn" href="../string/string.h.html#strchr" title='strchr' data-ref="strchr" data-ref-filename="strchr">strchr</a> (<a class="local col0 ref" href="#30errhand" title='errhand' data-ref="30errhand" data-ref-filename="30errhand">errhand</a>, <kbd>'\0'</kbd>);</td></tr>
<tr><th id="161">161</th><td>	    }</td></tr>
<tr><th id="162">162</th><td>	}</td></tr>
<tr><th id="163">163</th><td></td></tr>
<tr><th id="164">164</th><td>      <a class="local col2 ref" href="#32newp" title='newp' data-ref="32newp" data-ref-filename="32newp">newp</a> = (<em>char</em> *) <a class="macro" href="../stdlib/alloca.h.html#35" title="__builtin_alloca (errhand - to_code + nslash + 7 + 1)" data-ref="_M/alloca">alloca</a> (<a class="local col0 ref" href="#30errhand" title='errhand' data-ref="30errhand" data-ref-filename="30errhand">errhand</a> - <a class="tu ref" href="#to_code" title='to_code' data-use='r' data-ref="to_code" data-ref-filename="to_code">to_code</a> + <a class="local col1 ref" href="#31nslash" title='nslash' data-ref="31nslash" data-ref-filename="31nslash">nslash</a> + <var>7</var> + <var>1</var>);</td></tr>
<tr><th id="165">165</th><td>      <a class="local col3 ref" href="#33cp" title='cp' data-ref="33cp" data-ref-filename="33cp">cp</a> = <a class="ref fn" href="../string/string.h.html#__mempcpy" title='mempcpy' data-ref="__mempcpy" data-ref-filename="__mempcpy">mempcpy</a> (<a class="local col2 ref" href="#32newp" title='newp' data-ref="32newp" data-ref-filename="32newp">newp</a>, <a class="tu ref" href="#to_code" title='to_code' data-use='r' data-ref="to_code" data-ref-filename="to_code">to_code</a>, <a class="local col0 ref" href="#30errhand" title='errhand' data-ref="30errhand" data-ref-filename="30errhand">errhand</a> - <a class="tu ref" href="#to_code" title='to_code' data-use='r' data-ref="to_code" data-ref-filename="to_code">to_code</a>);</td></tr>
<tr><th id="166">166</th><td>      <b>while</b> (<a class="local col1 ref" href="#31nslash" title='nslash' data-ref="31nslash" data-ref-filename="31nslash">nslash</a>-- &gt; <var>0</var>)</td></tr>
<tr><th id="167">167</th><td>	*<a class="local col3 ref" href="#33cp" title='cp' data-ref="33cp" data-ref-filename="33cp">cp</a>++ = <kbd>'/'</kbd>;</td></tr>
<tr><th id="168">168</th><td>      <b>if</b> (<a class="local col3 ref" href="#33cp" title='cp' data-ref="33cp" data-ref-filename="33cp">cp</a>[-<var>1</var>] != <kbd>'/'</kbd>)</td></tr>
<tr><th id="169">169</th><td>	*<a class="local col3 ref" href="#33cp" title='cp' data-ref="33cp" data-ref-filename="33cp">cp</a>++ = <kbd>','</kbd>;</td></tr>
<tr><th id="170">170</th><td>      <a class="ref fn" href="../string/string.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a> (<a class="local col3 ref" href="#33cp" title='cp' data-ref="33cp" data-ref-filename="33cp">cp</a>, <q>"IGNORE"</q>, <b>sizeof</b> (<q>"IGNORE"</q>));</td></tr>
<tr><th id="171">171</th><td></td></tr>
<tr><th id="172">172</th><td>      <a class="tu ref" href="#to_code" title='to_code' data-use='w' data-ref="to_code" data-ref-filename="to_code">to_code</a> = <a class="local col2 ref" href="#32newp" title='newp' data-ref="32newp" data-ref-filename="32newp">newp</a>;</td></tr>
<tr><th id="173">173</th><td>    }</td></tr>
<tr><th id="174">174</th><td></td></tr>
<tr><th id="175">175</th><td>  <i>/* POSIX 1003.2b introduces a silly thing: the arguments to -t anf -f</i></td></tr>
<tr><th id="176">176</th><td><i>     can be file names of charmaps.  In this case iconv will have to read</i></td></tr>
<tr><th id="177">177</th><td><i>     those charmaps and use them to do the conversion.  But there are</i></td></tr>
<tr><th id="178">178</th><td><i>     holes in the specification.  There is nothing said that if -f is a</i></td></tr>
<tr><th id="179">179</th><td><i>     charmap filename that -t must be, too.  And vice versa.  There is</i></td></tr>
<tr><th id="180">180</th><td><i>     also no word about the symbolic names used.  What if they don't</i></td></tr>
<tr><th id="181">181</th><td><i>     match?  */</i></td></tr>
<tr><th id="182">182</th><td>  <b>if</b> (<a class="ref fn" href="../string/string.h.html#strchr" title='strchr' data-ref="strchr" data-ref-filename="strchr">strchr</a> (<a class="tu ref" href="#from_code" title='from_code' data-use='r' data-ref="from_code" data-ref-filename="from_code">from_code</a>, <kbd>'/'</kbd>) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="183">183</th><td>    <i>/* The from-name might be a charmap file name.  Try reading the</i></td></tr>
<tr><th id="184">184</th><td><i>       file.  */</i></td></tr>
<tr><th id="185">185</th><td>    <a class="local col8 ref" href="#28from_charmap" title='from_charmap' data-ref="28from_charmap" data-ref-filename="28from_charmap">from_charmap</a> = <a class="ref fn" href="../locale/programs/charmap.h.html#charmap_read" title='charmap_read' data-ref="charmap_read" data-ref-filename="charmap_read">charmap_read</a> (<a class="tu ref" href="#from_code" title='from_code' data-use='r' data-ref="from_code" data-ref-filename="from_code">from_code</a>, <i>/*0, 1*/</i><var>1</var>, <var>0</var>, <var>0</var>, <var>0</var>);</td></tr>
<tr><th id="186">186</th><td></td></tr>
<tr><th id="187">187</th><td>  <b>if</b> (<a class="ref fn" href="../string/string.h.html#strchr" title='strchr' data-ref="strchr" data-ref-filename="strchr">strchr</a> (<a class="local col7 ref" href="#27orig_to_code" title='orig_to_code' data-ref="27orig_to_code" data-ref-filename="27orig_to_code">orig_to_code</a>, <kbd>'/'</kbd>) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="188">188</th><td>    <i>/* The to-name might be a charmap file name.  Try reading the</i></td></tr>
<tr><th id="189">189</th><td><i>       file.  */</i></td></tr>
<tr><th id="190">190</th><td>    <a class="local col9 ref" href="#29to_charmap" title='to_charmap' data-ref="29to_charmap" data-ref-filename="29to_charmap">to_charmap</a> = <a class="ref fn" href="../locale/programs/charmap.h.html#charmap_read" title='charmap_read' data-ref="charmap_read" data-ref-filename="charmap_read">charmap_read</a> (<a class="local col7 ref" href="#27orig_to_code" title='orig_to_code' data-ref="27orig_to_code" data-ref-filename="27orig_to_code">orig_to_code</a>, <i>/*0, 1,*/</i><var>1</var>, <var>0</var>, <var>0</var>, <var>0</var>);</td></tr>
<tr><th id="191">191</th><td></td></tr>
<tr><th id="192">192</th><td></td></tr>
<tr><th id="193">193</th><td>  <i>/* At this point we have to handle two cases.  The first one is</i></td></tr>
<tr><th id="194">194</th><td><i>     where a charmap is used for the from- or to-charset, or both.  We</i></td></tr>
<tr><th id="195">195</th><td><i>     handle this special since it is very different from the sane way of</i></td></tr>
<tr><th id="196">196</th><td><i>     doing things.  The other case allows converting using the iconv()</i></td></tr>
<tr><th id="197">197</th><td><i>     function.  */</i></td></tr>
<tr><th id="198">198</th><td>  <b>if</b> (<a class="local col8 ref" href="#28from_charmap" title='from_charmap' data-ref="28from_charmap" data-ref-filename="28from_charmap">from_charmap</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> || <a class="local col9 ref" href="#29to_charmap" title='to_charmap' data-ref="29to_charmap" data-ref-filename="29to_charmap">to_charmap</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="199">199</th><td>    <i>/* Construct the conversion table and do the conversion.  */</i></td></tr>
<tr><th id="200">200</th><td>    <a class="local col4 ref" href="#24status" title='status' data-ref="24status" data-ref-filename="24status">status</a> = <a class="ref fn" href="iconv_prog.h.html#charmap_conversion" title='charmap_conversion' data-ref="charmap_conversion" data-ref-filename="charmap_conversion">charmap_conversion</a> (<a class="tu ref" href="#from_code" title='from_code' data-use='r' data-ref="from_code" data-ref-filename="from_code">from_code</a>, <a class="local col8 ref" href="#28from_charmap" title='from_charmap' data-ref="28from_charmap" data-ref-filename="28from_charmap">from_charmap</a>, <a class="tu ref" href="#to_code" title='to_code' data-use='r' data-ref="to_code" data-ref-filename="to_code">to_code</a>, <a class="local col9 ref" href="#29to_charmap" title='to_charmap' data-ref="29to_charmap" data-ref-filename="29to_charmap">to_charmap</a>,</td></tr>
<tr><th id="201">201</th><td>				 <a class="local col2 ref" href="#22argc" title='argc' data-ref="22argc" data-ref-filename="22argc">argc</a>, <a class="local col5 ref" href="#25remaining" title='remaining' data-ref="25remaining" data-ref-filename="25remaining">remaining</a>, <a class="local col3 ref" href="#23argv" title='argv' data-ref="23argv" data-ref-filename="23argv">argv</a>, <a class="tu ref" href="#output_file" title='output_file' data-use='r' data-ref="output_file" data-ref-filename="output_file">output_file</a>);</td></tr>
<tr><th id="202">202</th><td>  <b>else</b></td></tr>
<tr><th id="203">203</th><td>    {</td></tr>
<tr><th id="204">204</th><td>      <i>/* Let's see whether we have these coded character sets.  */</i></td></tr>
<tr><th id="205">205</th><td>      <a class="local col6 ref" href="#26cd" title='cd' data-ref="26cd" data-ref-filename="26cd">cd</a> = <a class="ref fn" href="iconv.h.html#iconv_open" title='iconv_open' data-ref="iconv_open" data-ref-filename="iconv_open">iconv_open</a> (<a class="tu ref" href="#to_code" title='to_code' data-use='r' data-ref="to_code" data-ref-filename="to_code">to_code</a>, <a class="tu ref" href="#from_code" title='from_code' data-use='r' data-ref="from_code" data-ref-filename="from_code">from_code</a>);</td></tr>
<tr><th id="206">206</th><td>      <b>if</b> (<a class="local col6 ref" href="#26cd" title='cd' data-ref="26cd" data-ref-filename="26cd">cd</a> == (<a class="typedef" href="iconv.h.html#iconv_t" title='iconv_t' data-type='void *' data-ref="iconv_t" data-ref-filename="iconv_t">iconv_t</a>) -<var>1</var>)</td></tr>
<tr><th id="207">207</th><td>	{</td></tr>
<tr><th id="208">208</th><td>	  <b>if</b> (<a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a> == <a class="macro" href="../../include/asm-generic/errno-base.h.html#26" title="22" data-ref="_M/EINVAL">EINVAL</a>)</td></tr>
<tr><th id="209">209</th><td>	    {</td></tr>
<tr><th id="210">210</th><td>	      <i>/* Try to be nice with the user and tell her which of the</i></td></tr>
<tr><th id="211">211</th><td><i>		 two encoding names is wrong.  This is possible because</i></td></tr>
<tr><th id="212">212</th><td><i>		 all supported encodings can be converted from/to Unicode,</i></td></tr>
<tr><th id="213">213</th><td><i>		 in other words, because the graph of encodings is</i></td></tr>
<tr><th id="214">214</th><td><i>		 connected.  */</i></td></tr>
<tr><th id="215">215</th><td>	      <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col4 decl" id="34from_wrong" title='from_wrong' data-type='_Bool' data-ref="34from_wrong" data-ref-filename="34from_wrong">from_wrong</dfn> =</td></tr>
<tr><th id="216">216</th><td>		(<a class="ref fn" href="iconv.h.html#iconv_open" title='iconv_open' data-ref="iconv_open" data-ref-filename="iconv_open">iconv_open</a> (<q>"UTF-8"</q>, <a class="tu ref" href="#from_code" title='from_code' data-use='r' data-ref="from_code" data-ref-filename="from_code">from_code</a>) == (<a class="typedef" href="iconv.h.html#iconv_t" title='iconv_t' data-type='void *' data-ref="iconv_t" data-ref-filename="iconv_t">iconv_t</a>) -<var>1</var></td></tr>
<tr><th id="217">217</th><td>		 &amp;&amp; <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a> == <a class="macro" href="../../include/asm-generic/errno-base.h.html#26" title="22" data-ref="_M/EINVAL">EINVAL</a>);</td></tr>
<tr><th id="218">218</th><td>	      <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col5 decl" id="35to_wrong" title='to_wrong' data-type='_Bool' data-ref="35to_wrong" data-ref-filename="35to_wrong">to_wrong</dfn> =</td></tr>
<tr><th id="219">219</th><td>		(<a class="ref fn" href="iconv.h.html#iconv_open" title='iconv_open' data-ref="iconv_open" data-ref-filename="iconv_open">iconv_open</a> (<a class="tu ref" href="#to_code" title='to_code' data-use='r' data-ref="to_code" data-ref-filename="to_code">to_code</a>, <q>"UTF-8"</q>) == (<a class="typedef" href="iconv.h.html#iconv_t" title='iconv_t' data-type='void *' data-ref="iconv_t" data-ref-filename="iconv_t">iconv_t</a>) -<var>1</var></td></tr>
<tr><th id="220">220</th><td>		 &amp;&amp; <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a> == <a class="macro" href="../../include/asm-generic/errno-base.h.html#26" title="22" data-ref="_M/EINVAL">EINVAL</a>);</td></tr>
<tr><th id="221">221</th><td>	      <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="36from_pretty" title='from_pretty' data-type='const char *' data-ref="36from_pretty" data-ref-filename="36from_pretty">from_pretty</dfn> =</td></tr>
<tr><th id="222">222</th><td>		(<a class="tu ref" href="#from_code" title='from_code' data-use='r' data-ref="from_code" data-ref-filename="from_code">from_code</a>[<var>0</var>] ? <a class="tu ref" href="#from_code" title='from_code' data-use='r' data-ref="from_code" data-ref-filename="from_code">from_code</a> : <a class="ref fn" href="../locale/langinfo.h.html#nl_langinfo" title='nl_langinfo' data-ref="nl_langinfo" data-ref-filename="nl_langinfo">nl_langinfo</a> (<a class="macro" href="../locale/langinfo.h.html#357" title="CODESET" data-ref="_M/CODESET">CODESET</a>));</td></tr>
<tr><th id="223">223</th><td>	      <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="37to_pretty" title='to_pretty' data-type='const char *' data-ref="37to_pretty" data-ref-filename="37to_pretty">to_pretty</dfn> =</td></tr>
<tr><th id="224">224</th><td>		(<a class="local col7 ref" href="#27orig_to_code" title='orig_to_code' data-ref="27orig_to_code" data-ref-filename="27orig_to_code">orig_to_code</a>[<var>0</var>] ? <a class="local col7 ref" href="#27orig_to_code" title='orig_to_code' data-ref="27orig_to_code" data-ref-filename="27orig_to_code">orig_to_code</a> : <a class="ref fn" href="../locale/langinfo.h.html#nl_langinfo" title='nl_langinfo' data-ref="nl_langinfo" data-ref-filename="nl_langinfo">nl_langinfo</a> (<a class="macro" href="../locale/langinfo.h.html#357" title="CODESET" data-ref="_M/CODESET">CODESET</a>));</td></tr>
<tr><th id="225">225</th><td></td></tr>
<tr><th id="226">226</th><td>	      <b>if</b> (<a class="local col4 ref" href="#34from_wrong" title='from_wrong' data-ref="34from_wrong" data-ref-filename="34from_wrong">from_wrong</a>)</td></tr>
<tr><th id="227">227</th><td>		{</td></tr>
<tr><th id="228">228</th><td>		  <b>if</b> (<a class="local col5 ref" href="#35to_wrong" title='to_wrong' data-ref="35to_wrong" data-ref-filename="35to_wrong">to_wrong</a>)</td></tr>
<tr><th id="229">229</th><td>		    <a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<var>0</var>, <var>0</var>,</td></tr>
<tr><th id="230">230</th><td>			   <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;conversions from `%s&apos; and to `%s&apos; are not supported&quot;, 5)" data-ref="_M/_">_</a>(<q>"\</q></td></tr>
<tr><th id="231">231</th><td><q>conversions from `%s' and to `%s' are not supported"</q>),</td></tr>
<tr><th id="232">232</th><td>			   <a class="local col6 ref" href="#36from_pretty" title='from_pretty' data-ref="36from_pretty" data-ref-filename="36from_pretty">from_pretty</a>, <a class="local col7 ref" href="#37to_pretty" title='to_pretty' data-ref="37to_pretty" data-ref-filename="37to_pretty">to_pretty</a>);</td></tr>
<tr><th id="233">233</th><td>		  <b>else</b></td></tr>
<tr><th id="234">234</th><td>		    <a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<var>0</var>, <var>0</var>,</td></tr>
<tr><th id="235">235</th><td>			   <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;conversion from `%s&apos; is not supported&quot;, 5)" data-ref="_M/_">_</a>(<q>"conversion from `%s' is not supported"</q>),</td></tr>
<tr><th id="236">236</th><td>			   <a class="local col6 ref" href="#36from_pretty" title='from_pretty' data-ref="36from_pretty" data-ref-filename="36from_pretty">from_pretty</a>);</td></tr>
<tr><th id="237">237</th><td>		}</td></tr>
<tr><th id="238">238</th><td>	      <b>else</b></td></tr>
<tr><th id="239">239</th><td>		{</td></tr>
<tr><th id="240">240</th><td>		  <b>if</b> (<a class="local col5 ref" href="#35to_wrong" title='to_wrong' data-ref="35to_wrong" data-ref-filename="35to_wrong">to_wrong</a>)</td></tr>
<tr><th id="241">241</th><td>		    <a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<var>0</var>, <var>0</var>,</td></tr>
<tr><th id="242">242</th><td>			   <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;conversion to `%s&apos; is not supported&quot;, 5)" data-ref="_M/_">_</a>(<q>"conversion to `%s' is not supported"</q>),</td></tr>
<tr><th id="243">243</th><td>			   <a class="local col7 ref" href="#37to_pretty" title='to_pretty' data-ref="37to_pretty" data-ref-filename="37to_pretty">to_pretty</a>);</td></tr>
<tr><th id="244">244</th><td>		  <b>else</b></td></tr>
<tr><th id="245">245</th><td>		    <a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<var>0</var>, <var>0</var>,</td></tr>
<tr><th id="246">246</th><td>			   <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;conversion from `%s&apos; to `%s&apos; is not supported&quot;, 5)" data-ref="_M/_">_</a>(<q>"conversion from `%s' to `%s' is not supported"</q>),</td></tr>
<tr><th id="247">247</th><td>			   <a class="local col6 ref" href="#36from_pretty" title='from_pretty' data-ref="36from_pretty" data-ref-filename="36from_pretty">from_pretty</a>, <a class="local col7 ref" href="#37to_pretty" title='to_pretty' data-ref="37to_pretty" data-ref-filename="37to_pretty">to_pretty</a>);</td></tr>
<tr><th id="248">248</th><td>		}</td></tr>
<tr><th id="249">249</th><td></td></tr>
<tr><th id="250">250</th><td>	      <a class="ref fn" href="../argp/argp.h.html#argp_help" title='argp_help' data-ref="argp_help" data-ref-filename="argp_help">argp_help</a> (&amp;<a class="tu ref" href="#argp" title='argp' data-use='a' data-ref="argp" data-ref-filename="argp">argp</a>, <a class="macro" href="../libio/stdio.h.html#143" title="stderr" data-ref="_M/stderr">stderr</a>, <a class="macro" href="../argp/argp.h.html#411" title="0x04" data-ref="_M/ARGP_HELP_SEE">ARGP_HELP_SEE</a>,</td></tr>
<tr><th id="251">251</th><td>			 <a class="ref" href="../stdlib/errno.h.html#program_invocation_short_name" title='program_invocation_short_name' data-ref="program_invocation_short_name" data-ref-filename="program_invocation_short_name">program_invocation_short_name</a>);</td></tr>
<tr><th id="252">252</th><td>	      <a class="ref fn" href="../stdlib/stdlib.h.html#exit" title='exit' data-ref="exit" data-ref-filename="exit">exit</a> (<var>1</var>);</td></tr>
<tr><th id="253">253</th><td>	    }</td></tr>
<tr><th id="254">254</th><td>	  <b>else</b></td></tr>
<tr><th id="255">255</th><td>	    <a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<a class="macro" href="../stdlib/stdlib.h.html#91" title="1" data-ref="_M/EXIT_FAILURE">EXIT_FAILURE</a>, <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a>,</td></tr>
<tr><th id="256">256</th><td>		   <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;failed to start conversion processing&quot;, 5)" data-ref="_M/_">_</a>(<q>"failed to start conversion processing"</q>));</td></tr>
<tr><th id="257">257</th><td>	}</td></tr>
<tr><th id="258">258</th><td></td></tr>
<tr><th id="259">259</th><td>      <i>/* The output file.  Will be opened when we are ready to produce</i></td></tr>
<tr><th id="260">260</th><td><i>	 output.  */</i></td></tr>
<tr><th id="261">261</th><td>      <a class="typedef" href="../libio/bits/types/FILE.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> *<dfn class="local col8 decl" id="38output" title='output' data-type='FILE *' data-ref="38output" data-ref-filename="38output">output</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="262">262</th><td></td></tr>
<tr><th id="263">263</th><td>      <i>/* Now process the remaining files.  Write them to stdout or the file</i></td></tr>
<tr><th id="264">264</th><td><i>	 specified with the `-o' parameter.  If we have no file given as</i></td></tr>
<tr><th id="265">265</th><td><i>	 the parameter process all from stdin.  */</i></td></tr>
<tr><th id="266">266</th><td>      <b>if</b> (<a class="local col5 ref" href="#25remaining" title='remaining' data-ref="25remaining" data-ref-filename="25remaining">remaining</a> == <a class="local col2 ref" href="#22argc" title='argc' data-ref="22argc" data-ref-filename="22argc">argc</a>)</td></tr>
<tr><th id="267">267</th><td>	{</td></tr>
<tr><th id="268">268</th><td>	  <b>if</b> (<a class="tu ref fn" href="#process_file" title='process_file' data-use='c' data-ref="process_file" data-ref-filename="process_file">process_file</a> (<a class="local col6 ref" href="#26cd" title='cd' data-ref="26cd" data-ref-filename="26cd">cd</a>, <a class="macro" href="../libio/stdio.h.html#141" title="stdin" data-ref="_M/stdin">stdin</a>, &amp;<a class="local col8 ref" href="#38output" title='output' data-ref="38output" data-ref-filename="38output">output</a>, <a class="tu ref" href="#output_file" title='output_file' data-use='r' data-ref="output_file" data-ref-filename="output_file">output_file</a>) != <var>0</var>)</td></tr>
<tr><th id="269">269</th><td>	    <a class="local col4 ref" href="#24status" title='status' data-ref="24status" data-ref-filename="24status">status</a> = <a class="macro" href="../stdlib/stdlib.h.html#91" title="1" data-ref="_M/EXIT_FAILURE">EXIT_FAILURE</a>;</td></tr>
<tr><th id="270">270</th><td>	}</td></tr>
<tr><th id="271">271</th><td>      <b>else</b></td></tr>
<tr><th id="272">272</th><td>	<b>do</b></td></tr>
<tr><th id="273">273</th><td>	  {</td></tr>
<tr><th id="274">274</th><td><u>#<span data-ppcond="274">ifdef</span> <a class="macro" href="../sysdeps/unix/sysv/linux/bits/posix_opt.h.html#38" data-ref="_M/_POSIX_MAPPED_FILES">_POSIX_MAPPED_FILES</a></u></td></tr>
<tr><th id="275">275</th><td>	    <b>struct</b> <a class="type" href="../sysdeps/unix/sysv/linux/x86/bits/stat.h.html#stat64" title='stat64' data-ref="stat64" data-ref-filename="stat64">stat64</a> <dfn class="local col9 decl" id="39st" title='st' data-type='struct stat64' data-ref="39st" data-ref-filename="39st">st</dfn>;</td></tr>
<tr><th id="276">276</th><td>	    <em>char</em> *<dfn class="local col0 decl" id="40addr" title='addr' data-type='char *' data-ref="40addr" data-ref-filename="40addr">addr</dfn>;</td></tr>
<tr><th id="277">277</th><td><u>#<span data-ppcond="274">endif</span></u></td></tr>
<tr><th id="278">278</th><td>	    <em>int</em> <dfn class="local col1 decl" id="41fd" title='fd' data-type='int' data-ref="41fd" data-ref-filename="41fd">fd</dfn>, <dfn class="local col2 decl" id="42ret" title='ret' data-type='int' data-ref="42ret" data-ref-filename="42ret">ret</dfn>;</td></tr>
<tr><th id="279">279</th><td></td></tr>
<tr><th id="280">280</th><td>	    <b>if</b> (<a class="ref" href="../locale/programs/record-status.h.html#verbose" title='verbose' data-ref="verbose" data-ref-filename="verbose">verbose</a>)</td></tr>
<tr><th id="281">281</th><td>	      <a class="ref fn" href="../libio/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a> (<a class="macro" href="../libio/stdio.h.html#143" title="stderr" data-ref="_M/stderr">stderr</a>, <q>"%s:\n"</q>, <a class="local col3 ref" href="#23argv" title='argv' data-ref="23argv" data-ref-filename="23argv">argv</a>[<a class="local col5 ref" href="#25remaining" title='remaining' data-ref="25remaining" data-ref-filename="25remaining">remaining</a>]);</td></tr>
<tr><th id="282">282</th><td>	    <b>if</b> (<a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="local col3 ref" href="#23argv" title='argv' data-ref="23argv" data-ref-filename="23argv">argv</a>[<a class="local col5 ref" href="#25remaining" title='remaining' data-ref="25remaining" data-ref-filename="25remaining">remaining</a>], <q>"-"</q>) == <var>0</var>)</td></tr>
<tr><th id="283">283</th><td>	      <a class="local col1 ref" href="#41fd" title='fd' data-ref="41fd" data-ref-filename="41fd">fd</a> = <var>0</var>;</td></tr>
<tr><th id="284">284</th><td>	    <b>else</b></td></tr>
<tr><th id="285">285</th><td>	      {</td></tr>
<tr><th id="286">286</th><td>		<a class="local col1 ref" href="#41fd" title='fd' data-ref="41fd" data-ref-filename="41fd">fd</a> = <a class="ref fn" href="../io/fcntl.h.html#open" title='open' data-ref="open" data-ref-filename="open">open</a> (<a class="local col3 ref" href="#23argv" title='argv' data-ref="23argv" data-ref-filename="23argv">argv</a>[<a class="local col5 ref" href="#25remaining" title='remaining' data-ref="25remaining" data-ref-filename="25remaining">remaining</a>], <a class="macro" href="../sysdeps/unix/sysv/linux/bits/fcntl-linux.h.html#43" title="00" data-ref="_M/O_RDONLY">O_RDONLY</a>);</td></tr>
<tr><th id="287">287</th><td></td></tr>
<tr><th id="288">288</th><td>		<b>if</b> (<a class="local col1 ref" href="#41fd" title='fd' data-ref="41fd" data-ref-filename="41fd">fd</a> == -<var>1</var>)</td></tr>
<tr><th id="289">289</th><td>		  {</td></tr>
<tr><th id="290">290</th><td>		    <a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<var>0</var>, <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a>, <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;cannot open input file `%s&apos;&quot;, 5)" data-ref="_M/_">_</a>(<q>"cannot open input file `%s'"</q>),</td></tr>
<tr><th id="291">291</th><td>			   <a class="local col3 ref" href="#23argv" title='argv' data-ref="23argv" data-ref-filename="23argv">argv</a>[<a class="local col5 ref" href="#25remaining" title='remaining' data-ref="25remaining" data-ref-filename="25remaining">remaining</a>]);</td></tr>
<tr><th id="292">292</th><td>		    <a class="local col4 ref" href="#24status" title='status' data-ref="24status" data-ref-filename="24status">status</a> = <a class="macro" href="../stdlib/stdlib.h.html#91" title="1" data-ref="_M/EXIT_FAILURE">EXIT_FAILURE</a>;</td></tr>
<tr><th id="293">293</th><td>		    <b>continue</b>;</td></tr>
<tr><th id="294">294</th><td>		  }</td></tr>
<tr><th id="295">295</th><td>	      }</td></tr>
<tr><th id="296">296</th><td></td></tr>
<tr><th id="297">297</th><td><u>#<span data-ppcond="297">ifdef</span> <a class="macro" href="../sysdeps/unix/sysv/linux/bits/posix_opt.h.html#38" data-ref="_M/_POSIX_MAPPED_FILES">_POSIX_MAPPED_FILES</a></u></td></tr>
<tr><th id="298">298</th><td>	    <i>/* We have possibilities for reading the input file.  First try</i></td></tr>
<tr><th id="299">299</th><td><i>	       to mmap() it since this will provide the fastest solution.  */</i></td></tr>
<tr><th id="300">300</th><td>	    <b>if</b> (<a class="macro" href="../include/sys/stat.h.html#55" title="__fxstat64 (1, fd, &amp;st)" data-ref="_M/fstat64">fstat64</a> (<a class="local col1 ref" href="#41fd" title='fd' data-ref="41fd" data-ref-filename="41fd">fd</a>, &amp;<a class="local col9 ref" href="#39st" title='st' data-ref="39st" data-ref-filename="39st">st</a>) == <var>0</var></td></tr>
<tr><th id="301">301</th><td>		&amp;&amp; ((<a class="local col0 ref" href="#40addr" title='addr' data-ref="40addr" data-ref-filename="40addr">addr</a> = <a class="ref fn" href="../misc/sys/mman.h.html#mmap" title='mmap' data-ref="mmap" data-ref-filename="mmap">mmap</a> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="local col9 ref" href="#39st" title='st' data-ref="39st" data-ref-filename="39st">st</a>.<a class="ref field" href="../sysdeps/unix/sysv/linux/x86/bits/stat.h.html#stat64::st_size" title='stat64::st_size' data-ref="stat64::st_size" data-ref-filename="stat64..st_size">st_size</a>, <a class="macro" href="../sysdeps/unix/sysv/linux/bits/mman-linux.h.html#32" title="0x1" data-ref="_M/PROT_READ">PROT_READ</a>, <a class="macro" href="../sysdeps/unix/sysv/linux/bits/mman-linux.h.html#43" title="0x02" data-ref="_M/MAP_PRIVATE">MAP_PRIVATE</a>,</td></tr>
<tr><th id="302">302</th><td>				  <a class="local col1 ref" href="#41fd" title='fd' data-ref="41fd" data-ref-filename="41fd">fd</a>, <var>0</var>)) != <a class="macro" href="../misc/sys/mman.h.html#44" title="((void *) -1)" data-ref="_M/MAP_FAILED">MAP_FAILED</a>))</td></tr>
<tr><th id="303">303</th><td>	      {</td></tr>
<tr><th id="304">304</th><td>		<i>/* Yes, we can use mmap().  The descriptor is not needed</i></td></tr>
<tr><th id="305">305</th><td><i>		   anymore.  */</i></td></tr>
<tr><th id="306">306</th><td>		<b>if</b> (<a class="ref fn" href="../posix/unistd.h.html#close" title='close' data-ref="close" data-ref-filename="close">close</a> (<a class="local col1 ref" href="#41fd" title='fd' data-ref="41fd" data-ref-filename="41fd">fd</a>) != <var>0</var>)</td></tr>
<tr><th id="307">307</th><td>		  <a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<a class="macro" href="../stdlib/stdlib.h.html#91" title="1" data-ref="_M/EXIT_FAILURE">EXIT_FAILURE</a>, <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a>,</td></tr>
<tr><th id="308">308</th><td>			 <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;error while closing input `%s&apos;&quot;, 5)" data-ref="_M/_">_</a>(<q>"error while closing input `%s'"</q>),</td></tr>
<tr><th id="309">309</th><td>			 <a class="local col3 ref" href="#23argv" title='argv' data-ref="23argv" data-ref-filename="23argv">argv</a>[<a class="local col5 ref" href="#25remaining" title='remaining' data-ref="25remaining" data-ref-filename="25remaining">remaining</a>]);</td></tr>
<tr><th id="310">310</th><td></td></tr>
<tr><th id="311">311</th><td>		<a class="local col2 ref" href="#42ret" title='ret' data-ref="42ret" data-ref-filename="42ret">ret</a> = <a class="tu ref fn" href="#process_block" title='process_block' data-use='c' data-ref="process_block" data-ref-filename="process_block">process_block</a> (<a class="local col6 ref" href="#26cd" title='cd' data-ref="26cd" data-ref-filename="26cd">cd</a>, <a class="local col0 ref" href="#40addr" title='addr' data-ref="40addr" data-ref-filename="40addr">addr</a>, <a class="local col9 ref" href="#39st" title='st' data-ref="39st" data-ref-filename="39st">st</a>.<a class="ref field" href="../sysdeps/unix/sysv/linux/x86/bits/stat.h.html#stat64::st_size" title='stat64::st_size' data-ref="stat64::st_size" data-ref-filename="stat64..st_size">st_size</a>, &amp;<a class="local col8 ref" href="#38output" title='output' data-ref="38output" data-ref-filename="38output">output</a>,</td></tr>
<tr><th id="312">312</th><td>				     <a class="tu ref" href="#output_file" title='output_file' data-use='r' data-ref="output_file" data-ref-filename="output_file">output_file</a>);</td></tr>
<tr><th id="313">313</th><td></td></tr>
<tr><th id="314">314</th><td>		<i>/* We don't need the input data anymore.  */</i></td></tr>
<tr><th id="315">315</th><td>		<a class="ref fn" href="../misc/sys/mman.h.html#munmap" title='munmap' data-ref="munmap" data-ref-filename="munmap">munmap</a> ((<em>void</em> *) <a class="local col0 ref" href="#40addr" title='addr' data-ref="40addr" data-ref-filename="40addr">addr</a>, <a class="local col9 ref" href="#39st" title='st' data-ref="39st" data-ref-filename="39st">st</a>.<a class="ref field" href="../sysdeps/unix/sysv/linux/x86/bits/stat.h.html#stat64::st_size" title='stat64::st_size' data-ref="stat64::st_size" data-ref-filename="stat64..st_size">st_size</a>);</td></tr>
<tr><th id="316">316</th><td></td></tr>
<tr><th id="317">317</th><td>		<b>if</b> (<a class="local col2 ref" href="#42ret" title='ret' data-ref="42ret" data-ref-filename="42ret">ret</a> != <var>0</var>)</td></tr>
<tr><th id="318">318</th><td>		  {</td></tr>
<tr><th id="319">319</th><td>		    <a class="local col4 ref" href="#24status" title='status' data-ref="24status" data-ref-filename="24status">status</a> = <a class="macro" href="../stdlib/stdlib.h.html#91" title="1" data-ref="_M/EXIT_FAILURE">EXIT_FAILURE</a>;</td></tr>
<tr><th id="320">320</th><td></td></tr>
<tr><th id="321">321</th><td>		    <b>if</b> (<a class="local col2 ref" href="#42ret" title='ret' data-ref="42ret" data-ref-filename="42ret">ret</a> &lt; <var>0</var>)</td></tr>
<tr><th id="322">322</th><td>		      <i>/* We cannot go on with producing output since it might</i></td></tr>
<tr><th id="323">323</th><td><i>			 lead to problem because the last output might leave</i></td></tr>
<tr><th id="324">324</th><td><i>			 the output stream in an undefined state.  */</i></td></tr>
<tr><th id="325">325</th><td>		      <b>break</b>;</td></tr>
<tr><th id="326">326</th><td>		  }</td></tr>
<tr><th id="327">327</th><td>	      }</td></tr>
<tr><th id="328">328</th><td>	    <b>else</b></td></tr>
<tr><th id="329">329</th><td><u>#<span data-ppcond="297">endif</span>	/* _POSIX_MAPPED_FILES */</u></td></tr>
<tr><th id="330">330</th><td>	      {</td></tr>
<tr><th id="331">331</th><td>		<i>/* Read the file in pieces.  */</i></td></tr>
<tr><th id="332">332</th><td>		<a class="local col2 ref" href="#42ret" title='ret' data-ref="42ret" data-ref-filename="42ret">ret</a> = <a class="tu ref fn" href="#process_fd" title='process_fd' data-use='c' data-ref="process_fd" data-ref-filename="process_fd">process_fd</a> (<a class="local col6 ref" href="#26cd" title='cd' data-ref="26cd" data-ref-filename="26cd">cd</a>, <a class="local col1 ref" href="#41fd" title='fd' data-ref="41fd" data-ref-filename="41fd">fd</a>, &amp;<a class="local col8 ref" href="#38output" title='output' data-ref="38output" data-ref-filename="38output">output</a>, <a class="tu ref" href="#output_file" title='output_file' data-use='r' data-ref="output_file" data-ref-filename="output_file">output_file</a>);</td></tr>
<tr><th id="333">333</th><td></td></tr>
<tr><th id="334">334</th><td>		<i>/* Now close the file.  */</i></td></tr>
<tr><th id="335">335</th><td>		<a class="ref fn" href="../posix/unistd.h.html#close" title='close' data-ref="close" data-ref-filename="close">close</a> (<a class="local col1 ref" href="#41fd" title='fd' data-ref="41fd" data-ref-filename="41fd">fd</a>);</td></tr>
<tr><th id="336">336</th><td></td></tr>
<tr><th id="337">337</th><td>		<b>if</b> (<a class="local col2 ref" href="#42ret" title='ret' data-ref="42ret" data-ref-filename="42ret">ret</a> != <var>0</var>)</td></tr>
<tr><th id="338">338</th><td>		  {</td></tr>
<tr><th id="339">339</th><td>		    <i>/* Something went wrong.  */</i></td></tr>
<tr><th id="340">340</th><td>		    <a class="local col4 ref" href="#24status" title='status' data-ref="24status" data-ref-filename="24status">status</a> = <a class="macro" href="../stdlib/stdlib.h.html#91" title="1" data-ref="_M/EXIT_FAILURE">EXIT_FAILURE</a>;</td></tr>
<tr><th id="341">341</th><td></td></tr>
<tr><th id="342">342</th><td>		    <b>if</b> (<a class="local col2 ref" href="#42ret" title='ret' data-ref="42ret" data-ref-filename="42ret">ret</a> &lt; <var>0</var>)</td></tr>
<tr><th id="343">343</th><td>		      <i>/* We cannot go on with producing output since it might</i></td></tr>
<tr><th id="344">344</th><td><i>			 lead to problem because the last output might leave</i></td></tr>
<tr><th id="345">345</th><td><i>			 the output stream in an undefined state.  */</i></td></tr>
<tr><th id="346">346</th><td>		      <b>break</b>;</td></tr>
<tr><th id="347">347</th><td>		  }</td></tr>
<tr><th id="348">348</th><td>	      }</td></tr>
<tr><th id="349">349</th><td>	  }</td></tr>
<tr><th id="350">350</th><td>	<b>while</b> (++<a class="local col5 ref" href="#25remaining" title='remaining' data-ref="25remaining" data-ref-filename="25remaining">remaining</a> &lt; <a class="local col2 ref" href="#22argc" title='argc' data-ref="22argc" data-ref-filename="22argc">argc</a>);</td></tr>
<tr><th id="351">351</th><td></td></tr>
<tr><th id="352">352</th><td>      <i>/* Close the output file now.  */</i></td></tr>
<tr><th id="353">353</th><td>      <b>if</b> (<a class="local col8 ref" href="#38output" title='output' data-ref="38output" data-ref-filename="38output">output</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp; <a class="ref fn" href="../libio/stdio.h.html#fclose" title='fclose' data-ref="fclose" data-ref-filename="fclose">fclose</a> (<a class="local col8 ref" href="#38output" title='output' data-ref="38output" data-ref-filename="38output">output</a>))</td></tr>
<tr><th id="354">354</th><td>	<a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<a class="macro" href="../stdlib/stdlib.h.html#91" title="1" data-ref="_M/EXIT_FAILURE">EXIT_FAILURE</a>, <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a>, <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;error while closing output file&quot;, 5)" data-ref="_M/_">_</a>(<q>"error while closing output file"</q>));</td></tr>
<tr><th id="355">355</th><td>    }</td></tr>
<tr><th id="356">356</th><td></td></tr>
<tr><th id="357">357</th><td>  <b>return</b> <a class="local col4 ref" href="#24status" title='status' data-ref="24status" data-ref-filename="24status">status</a>;</td></tr>
<tr><th id="358">358</th><td>}</td></tr>
<tr><th id="359">359</th><td></td></tr>
<tr><th id="360">360</th><td></td></tr>
<tr><th id="361">361</th><td><i  data-doc="parse_opt">/* Handle program arguments.  */</i></td></tr>
<tr><th id="362">362</th><td><em>static</em> <a class="typedef" href="../bits/types/error_t.h.html#error_t" title='error_t' data-type='int' data-ref="error_t" data-ref-filename="error_t">error_t</a></td></tr>
<tr><th id="363">363</th><td><dfn class="tu decl def fn" id="parse_opt" title='parse_opt' data-type='error_t parse_opt(int key, char * arg, struct argp_state * state)' data-ref="parse_opt" data-ref-filename="parse_opt">parse_opt</dfn> (<em>int</em> <dfn class="local col3 decl" id="43key" title='key' data-type='int' data-ref="43key" data-ref-filename="43key">key</dfn>, <em>char</em> *<dfn class="local col4 decl" id="44arg" title='arg' data-type='char *' data-ref="44arg" data-ref-filename="44arg">arg</dfn>, <b>struct</b> <a class="type" href="../argp/argp.h.html#argp_state" title='argp_state' data-ref="argp_state" data-ref-filename="argp_state">argp_state</a> *<dfn class="local col5 decl" id="45state" title='state' data-type='struct argp_state *' data-ref="45state" data-ref-filename="45state">state</dfn>)</td></tr>
<tr><th id="364">364</th><td>{</td></tr>
<tr><th id="365">365</th><td>  <b>switch</b> (<a class="local col3 ref" href="#43key" title='key' data-ref="43key" data-ref-filename="43key">key</a>)</td></tr>
<tr><th id="366">366</th><td>    {</td></tr>
<tr><th id="367">367</th><td>    <b>case</b> <kbd>'f'</kbd>:</td></tr>
<tr><th id="368">368</th><td>      <a class="tu ref" href="#from_code" title='from_code' data-use='w' data-ref="from_code" data-ref-filename="from_code">from_code</a> = <a class="local col4 ref" href="#44arg" title='arg' data-ref="44arg" data-ref-filename="44arg">arg</a>;</td></tr>
<tr><th id="369">369</th><td>      <b>break</b>;</td></tr>
<tr><th id="370">370</th><td>    <b>case</b> <kbd>'t'</kbd>:</td></tr>
<tr><th id="371">371</th><td>      <a class="tu ref" href="#to_code" title='to_code' data-use='w' data-ref="to_code" data-ref-filename="to_code">to_code</a> = <a class="local col4 ref" href="#44arg" title='arg' data-ref="44arg" data-ref-filename="44arg">arg</a>;</td></tr>
<tr><th id="372">372</th><td>      <b>break</b>;</td></tr>
<tr><th id="373">373</th><td>    <b>case</b> <kbd>'o'</kbd>:</td></tr>
<tr><th id="374">374</th><td>      <a class="tu ref" href="#output_file" title='output_file' data-use='w' data-ref="output_file" data-ref-filename="output_file">output_file</a> = <a class="local col4 ref" href="#44arg" title='arg' data-ref="44arg" data-ref-filename="44arg">arg</a>;</td></tr>
<tr><th id="375">375</th><td>      <b>break</b>;</td></tr>
<tr><th id="376">376</th><td>    <b>case</b> <kbd>'s'</kbd>:</td></tr>
<tr><th id="377">377</th><td>      <i>/* Nothing, for now at least.  We are not giving out any information</i></td></tr>
<tr><th id="378">378</th><td><i>	 about missing character or so.  */</i></td></tr>
<tr><th id="379">379</th><td>      <b>break</b>;</td></tr>
<tr><th id="380">380</th><td>    <b>case</b> <kbd>'c'</kbd>:</td></tr>
<tr><th id="381">381</th><td>      <i>/* Omit invalid characters from output.  */</i></td></tr>
<tr><th id="382">382</th><td>      <a class="ref" href="iconv_prog.h.html#omit_invalid" title='omit_invalid' data-ref="omit_invalid" data-ref-filename="omit_invalid">omit_invalid</a> = <var>1</var>;</td></tr>
<tr><th id="383">383</th><td>      <b>break</b>;</td></tr>
<tr><th id="384">384</th><td>    <b>case</b> <a class="macro" href="#53" title="1000" data-ref="_M/OPT_VERBOSE">OPT_VERBOSE</a>:</td></tr>
<tr><th id="385">385</th><td>      <a class="ref" href="../locale/programs/record-status.h.html#verbose" title='verbose' data-ref="verbose" data-ref-filename="verbose">verbose</a> = <var>1</var>;</td></tr>
<tr><th id="386">386</th><td>      <b>break</b>;</td></tr>
<tr><th id="387">387</th><td>    <b>case</b> <a class="macro" href="#54" title="&apos;l&apos;" data-ref="_M/OPT_LIST">OPT_LIST</a>:</td></tr>
<tr><th id="388">388</th><td>      <a class="tu ref" href="#list" title='list' data-use='w' data-ref="list" data-ref-filename="list">list</a> = <var>1</var>;</td></tr>
<tr><th id="389">389</th><td>      <b>break</b>;</td></tr>
<tr><th id="390">390</th><td>    <b>default</b>:</td></tr>
<tr><th id="391">391</th><td>      <b>return</b> <a class="macro" href="../argp/argp.h.html#121" title="7" data-ref="_M/ARGP_ERR_UNKNOWN">ARGP_ERR_UNKNOWN</a>;</td></tr>
<tr><th id="392">392</th><td>    }</td></tr>
<tr><th id="393">393</th><td>  <b>return</b> <var>0</var>;</td></tr>
<tr><th id="394">394</th><td>}</td></tr>
<tr><th id="395">395</th><td></td></tr>
<tr><th id="396">396</th><td></td></tr>
<tr><th id="397">397</th><td><em>static</em> <em>char</em> *</td></tr>
<tr><th id="398">398</th><td><dfn class="tu decl def fn" id="more_help" title='more_help' data-type='char * more_help(int key, const char * text, void * input)' data-ref="more_help" data-ref-filename="more_help">more_help</dfn> (<em>int</em> <dfn class="local col6 decl" id="46key" title='key' data-type='int' data-ref="46key" data-ref-filename="46key">key</dfn>, <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="47text" title='text' data-type='const char *' data-ref="47text" data-ref-filename="47text">text</dfn>, <em>void</em> *<dfn class="local col8 decl" id="48input" title='input' data-type='void *' data-ref="48input" data-ref-filename="48input">input</dfn>)</td></tr>
<tr><th id="399">399</th><td>{</td></tr>
<tr><th id="400">400</th><td>  <em>char</em> *<dfn class="local col9 decl" id="49tp" title='tp' data-type='char *' data-ref="49tp" data-ref-filename="49tp">tp</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="401">401</th><td>  <b>switch</b> (<a class="local col6 ref" href="#46key" title='key' data-ref="46key" data-ref-filename="46key">key</a>)</td></tr>
<tr><th id="402">402</th><td>    {</td></tr>
<tr><th id="403">403</th><td>    <b>case</b> <a class="macro" href="../argp/argp.h.html#239" title="0x2000004" data-ref="_M/ARGP_KEY_HELP_EXTRA">ARGP_KEY_HELP_EXTRA</a>:</td></tr>
<tr><th id="404">404</th><td>      <i>/* We print some extra information.  */</i></td></tr>
<tr><th id="405">405</th><td>      <b>if</b> (<a class="ref fn" href="../libio/stdio.h.html#asprintf" title='asprintf' data-ref="asprintf" data-ref-filename="asprintf">asprintf</a> (&amp;<a class="local col9 ref" href="#49tp" title='tp' data-ref="49tp" data-ref-filename="49tp">tp</a>, <a class="macro" href="../intl/libintl.h.html#109" title="dcgettext (((void*)0), &quot;For bug reporting instructions, please see:\n%s.\n&quot;, 5)" data-ref="_M/gettext">gettext</a> (<q>"\</q></td></tr>
<tr><th id="406">406</th><td><q>For bug reporting instructions, please see:\n\</q></td></tr>
<tr><th id="407">407</th><td><q>%s.\n"</q>), <span class="macro" title="&quot;&lt;http://www.gnu.org/software/libc/bugs.html&gt;&quot;" data-ref="_M/REPORT_BUGS_TO">REPORT_BUGS_TO</span>) &lt; <var>0</var>)</td></tr>
<tr><th id="408">408</th><td>	<b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="409">409</th><td>      <b>return</b> <a class="local col9 ref" href="#49tp" title='tp' data-ref="49tp" data-ref-filename="49tp">tp</a>;</td></tr>
<tr><th id="410">410</th><td>    <b>default</b>:</td></tr>
<tr><th id="411">411</th><td>      <b>break</b>;</td></tr>
<tr><th id="412">412</th><td>    }</td></tr>
<tr><th id="413">413</th><td>  <b>return</b> (<em>char</em> *) <a class="local col7 ref" href="#47text" title='text' data-ref="47text" data-ref-filename="47text">text</a>;</td></tr>
<tr><th id="414">414</th><td>}</td></tr>
<tr><th id="415">415</th><td></td></tr>
<tr><th id="416">416</th><td></td></tr>
<tr><th id="417">417</th><td><i  data-doc="print_version">/* Print the version information.  */</i></td></tr>
<tr><th id="418">418</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="419">419</th><td><dfn class="tu decl def fn" id="print_version" title='print_version' data-type='void print_version(FILE * stream, struct argp_state * state)' data-ref="print_version" data-ref-filename="print_version">print_version</dfn> (<a class="typedef" href="../libio/bits/types/FILE.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> *<dfn class="local col0 decl" id="50stream" title='stream' data-type='FILE *' data-ref="50stream" data-ref-filename="50stream">stream</dfn>, <b>struct</b> <a class="type" href="../argp/argp.h.html#argp_state" title='argp_state' data-ref="argp_state" data-ref-filename="argp_state">argp_state</a> *<dfn class="local col1 decl" id="51state" title='state' data-type='struct argp_state *' data-ref="51state" data-ref-filename="51state">state</dfn>)</td></tr>
<tr><th id="420">420</th><td>{</td></tr>
<tr><th id="421">421</th><td>  <a class="ref fn" href="../libio/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a> (<a class="local col0 ref" href="#50stream" title='stream' data-ref="50stream" data-ref-filename="50stream">stream</a>, <q>"iconv %s%s\n"</q>, <span class="macro" title="&quot;(GNU libc) &quot;" data-ref="_M/PKGVERSION">PKGVERSION</span>, <a class="macro" href="../version.h.html#4" title="&quot;2.28&quot;" data-ref="_M/VERSION">VERSION</a>);</td></tr>
<tr><th id="422">422</th><td>  <a class="ref fn" href="../libio/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a> (<a class="local col0 ref" href="#50stream" title='stream' data-ref="50stream" data-ref-filename="50stream">stream</a>, <a class="macro" href="../intl/libintl.h.html#109" title="dcgettext (((void*)0), &quot;Copyright (C) %s Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n&quot;, 5)" data-ref="_M/gettext">gettext</a> (<q>"\</q></td></tr>
<tr><th id="423">423</th><td><q>Copyright (C) %s Free Software Foundation, Inc.\n\</q></td></tr>
<tr><th id="424">424</th><td><q>This is free software; see the source for copying conditions.  There is NO\n\</q></td></tr>
<tr><th id="425">425</th><td><q>warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\</q></td></tr>
<tr><th id="426">426</th><td><q>"</q>), <q>"2018"</q>);</td></tr>
<tr><th id="427">427</th><td>  <a class="ref fn" href="../libio/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a> (<a class="local col0 ref" href="#50stream" title='stream' data-ref="50stream" data-ref-filename="50stream">stream</a>, <a class="macro" href="../intl/libintl.h.html#109" title="dcgettext (((void*)0), &quot;Written by %s.\n&quot;, 5)" data-ref="_M/gettext">gettext</a> (<q>"Written by %s.\n"</q>), <q>"Ulrich Drepper"</q>);</td></tr>
<tr><th id="428">428</th><td>}</td></tr>
<tr><th id="429">429</th><td></td></tr>
<tr><th id="430">430</th><td></td></tr>
<tr><th id="431">431</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="432">432</th><td><dfn class="tu decl def fn" id="write_output" title='write_output' data-type='int write_output(const char * outbuf, const char * outptr, FILE ** output, const char * output_file)' data-ref="write_output" data-ref-filename="write_output">write_output</dfn> (<em>const</em> <em>char</em> *<dfn class="local col2 decl" id="52outbuf" title='outbuf' data-type='const char *' data-ref="52outbuf" data-ref-filename="52outbuf">outbuf</dfn>, <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="53outptr" title='outptr' data-type='const char *' data-ref="53outptr" data-ref-filename="53outptr">outptr</dfn>, <a class="typedef" href="../libio/bits/types/FILE.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> **<dfn class="local col4 decl" id="54output" title='output' data-type='FILE **' data-ref="54output" data-ref-filename="54output">output</dfn>,</td></tr>
<tr><th id="433">433</th><td>	      <em>const</em> <em>char</em> *<dfn class="local col5 decl" id="55output_file" title='output_file' data-type='const char *' data-ref="55output_file" data-ref-filename="55output_file">output_file</dfn>)</td></tr>
<tr><th id="434">434</th><td>{</td></tr>
<tr><th id="435">435</th><td>  <i>/* We have something to write out.  */</i></td></tr>
<tr><th id="436">436</th><td>  <em>int</em> <dfn class="local col6 decl" id="56errno_save" title='errno_save' data-type='int' data-ref="56errno_save" data-ref-filename="56errno_save">errno_save</dfn> = <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a>;</td></tr>
<tr><th id="437">437</th><td></td></tr>
<tr><th id="438">438</th><td>  <b>if</b> (*<a class="local col4 ref" href="#54output" title='output' data-ref="54output" data-ref-filename="54output">output</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="439">439</th><td>    {</td></tr>
<tr><th id="440">440</th><td>      <i>/* Determine output file.  */</i></td></tr>
<tr><th id="441">441</th><td>      <b>if</b> (<a class="local col5 ref" href="#55output_file" title='output_file' data-ref="55output_file" data-ref-filename="55output_file">output_file</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp; <a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="local col5 ref" href="#55output_file" title='output_file' data-ref="55output_file" data-ref-filename="55output_file">output_file</a>, <q>"-"</q>) != <var>0</var>)</td></tr>
<tr><th id="442">442</th><td>	{</td></tr>
<tr><th id="443">443</th><td>	  *<a class="local col4 ref" href="#54output" title='output' data-ref="54output" data-ref-filename="54output">output</a> = <a class="ref fn" href="../libio/stdio.h.html#fopen" title='fopen' data-ref="fopen" data-ref-filename="fopen">fopen</a> (<a class="local col5 ref" href="#55output_file" title='output_file' data-ref="55output_file" data-ref-filename="55output_file">output_file</a>, <q>"w"</q>);</td></tr>
<tr><th id="444">444</th><td>	  <b>if</b> (*<a class="local col4 ref" href="#54output" title='output' data-ref="54output" data-ref-filename="54output">output</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="445">445</th><td>	    <a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<a class="macro" href="../stdlib/stdlib.h.html#91" title="1" data-ref="_M/EXIT_FAILURE">EXIT_FAILURE</a>, <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a>, <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;cannot open output file&quot;, 5)" data-ref="_M/_">_</a>(<q>"cannot open output file"</q>));</td></tr>
<tr><th id="446">446</th><td>	}</td></tr>
<tr><th id="447">447</th><td>      <b>else</b></td></tr>
<tr><th id="448">448</th><td>	*<a class="local col4 ref" href="#54output" title='output' data-ref="54output" data-ref-filename="54output">output</a> = <a class="macro" href="../libio/stdio.h.html#142" title="stdout" data-ref="_M/stdout">stdout</a>;</td></tr>
<tr><th id="449">449</th><td>    }</td></tr>
<tr><th id="450">450</th><td></td></tr>
<tr><th id="451">451</th><td>  <b>if</b> (<a class="ref fn" href="../libio/stdio.h.html#fwrite" title='fwrite' data-ref="fwrite" data-ref-filename="fwrite">fwrite</a> (<a class="local col2 ref" href="#52outbuf" title='outbuf' data-ref="52outbuf" data-ref-filename="52outbuf">outbuf</a>, <var>1</var>, <a class="local col3 ref" href="#53outptr" title='outptr' data-ref="53outptr" data-ref-filename="53outptr">outptr</a> - <a class="local col2 ref" href="#52outbuf" title='outbuf' data-ref="52outbuf" data-ref-filename="52outbuf">outbuf</a>, *<a class="local col4 ref" href="#54output" title='output' data-ref="54output" data-ref-filename="54output">output</a>) &lt; (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span>) (<a class="local col3 ref" href="#53outptr" title='outptr' data-ref="53outptr" data-ref-filename="53outptr">outptr</a> - <a class="local col2 ref" href="#52outbuf" title='outbuf' data-ref="52outbuf" data-ref-filename="52outbuf">outbuf</a>)</td></tr>
<tr><th id="452">452</th><td>      || <a class="ref fn" href="../libio/stdio.h.html#ferror" title='ferror' data-ref="ferror" data-ref-filename="ferror">ferror</a> (*<a class="local col4 ref" href="#54output" title='output' data-ref="54output" data-ref-filename="54output">output</a>))</td></tr>
<tr><th id="453">453</th><td>    {</td></tr>
<tr><th id="454">454</th><td>      <i>/* Error occurred while printing the result.  */</i></td></tr>
<tr><th id="455">455</th><td>      <a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<var>0</var>, <var>0</var>, <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;conversion stopped due to problem in writing the output&quot;, 5)" data-ref="_M/_">_</a>(<q>"\</q></td></tr>
<tr><th id="456">456</th><td><q>conversion stopped due to problem in writing the output"</q>));</td></tr>
<tr><th id="457">457</th><td>      <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="458">458</th><td>    }</td></tr>
<tr><th id="459">459</th><td></td></tr>
<tr><th id="460">460</th><td>  <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="local col6 ref" href="#56errno_save" title='errno_save' data-ref="56errno_save" data-ref-filename="56errno_save">errno_save</a>;</td></tr>
<tr><th id="461">461</th><td></td></tr>
<tr><th id="462">462</th><td>  <b>return</b> <var>0</var>;</td></tr>
<tr><th id="463">463</th><td>}</td></tr>
<tr><th id="464">464</th><td></td></tr>
<tr><th id="465">465</th><td></td></tr>
<tr><th id="466">466</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="467">467</th><td><dfn class="tu decl def fn" id="process_block" title='process_block' data-type='int process_block(iconv_t cd, char * addr, size_t len, FILE ** output, const char * output_file)' data-ref="process_block" data-ref-filename="process_block">process_block</dfn> (<a class="typedef" href="iconv.h.html#iconv_t" title='iconv_t' data-type='void *' data-ref="iconv_t" data-ref-filename="iconv_t">iconv_t</a> <dfn class="local col7 decl" id="57cd" title='cd' data-type='iconv_t' data-ref="57cd" data-ref-filename="57cd">cd</dfn>, <em>char</em> *<dfn class="local col8 decl" id="58addr" title='addr' data-type='char *' data-ref="58addr" data-ref-filename="58addr">addr</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col9 decl" id="59len" title='len' data-type='size_t' data-ref="59len" data-ref-filename="59len">len</dfn>, <a class="typedef" href="../libio/bits/types/FILE.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> **<dfn class="local col0 decl" id="60output" title='output' data-type='FILE **' data-ref="60output" data-ref-filename="60output">output</dfn>,</td></tr>
<tr><th id="468">468</th><td>	       <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="61output_file" title='output_file' data-type='const char *' data-ref="61output_file" data-ref-filename="61output_file">output_file</dfn>)</td></tr>
<tr><th id="469">469</th><td>{</td></tr>
<tr><th id="470">470</th><td><u>#define <dfn class="macro" id="_M/OUTBUF_SIZE" data-ref="_M/OUTBUF_SIZE">OUTBUF_SIZE</dfn>	32768</u></td></tr>
<tr><th id="471">471</th><td>  <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="62start" title='start' data-type='const char *' data-ref="62start" data-ref-filename="62start">start</dfn> = <a class="local col8 ref" href="#58addr" title='addr' data-ref="58addr" data-ref-filename="58addr">addr</a>;</td></tr>
<tr><th id="472">472</th><td>  <em>char</em> <dfn class="local col3 decl" id="63outbuf" title='outbuf' data-type='char [32768]' data-ref="63outbuf" data-ref-filename="63outbuf">outbuf</dfn>[<a class="macro" href="#470" title="32768" data-ref="_M/OUTBUF_SIZE">OUTBUF_SIZE</a>];</td></tr>
<tr><th id="473">473</th><td>  <em>char</em> *<dfn class="local col4 decl" id="64outptr" title='outptr' data-type='char *' data-ref="64outptr" data-ref-filename="64outptr">outptr</dfn>;</td></tr>
<tr><th id="474">474</th><td>  <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col5 decl" id="65outlen" title='outlen' data-type='size_t' data-ref="65outlen" data-ref-filename="65outlen">outlen</dfn>;</td></tr>
<tr><th id="475">475</th><td>  <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col6 decl" id="66n" title='n' data-type='size_t' data-ref="66n" data-ref-filename="66n">n</dfn>;</td></tr>
<tr><th id="476">476</th><td>  <em>int</em> <dfn class="local col7 decl" id="67ret" title='ret' data-type='int' data-ref="67ret" data-ref-filename="67ret">ret</dfn> = <var>0</var>;</td></tr>
<tr><th id="477">477</th><td></td></tr>
<tr><th id="478">478</th><td>  <b>while</b> (<a class="local col9 ref" href="#59len" title='len' data-ref="59len" data-ref-filename="59len">len</a> &gt; <var>0</var>)</td></tr>
<tr><th id="479">479</th><td>    {</td></tr>
<tr><th id="480">480</th><td>      <a class="local col4 ref" href="#64outptr" title='outptr' data-ref="64outptr" data-ref-filename="64outptr">outptr</a> = <a class="local col3 ref" href="#63outbuf" title='outbuf' data-ref="63outbuf" data-ref-filename="63outbuf">outbuf</a>;</td></tr>
<tr><th id="481">481</th><td>      <a class="local col5 ref" href="#65outlen" title='outlen' data-ref="65outlen" data-ref-filename="65outlen">outlen</a> = <a class="macro" href="#470" title="32768" data-ref="_M/OUTBUF_SIZE">OUTBUF_SIZE</a>;</td></tr>
<tr><th id="482">482</th><td>      <a class="local col6 ref" href="#66n" title='n' data-ref="66n" data-ref-filename="66n">n</a> = <a class="ref fn" href="iconv.h.html#iconv" title='iconv' data-ref="iconv" data-ref-filename="iconv">iconv</a> (<a class="local col7 ref" href="#57cd" title='cd' data-ref="57cd" data-ref-filename="57cd">cd</a>, &amp;<a class="local col8 ref" href="#58addr" title='addr' data-ref="58addr" data-ref-filename="58addr">addr</a>, &amp;<a class="local col9 ref" href="#59len" title='len' data-ref="59len" data-ref-filename="59len">len</a>, &amp;<a class="local col4 ref" href="#64outptr" title='outptr' data-ref="64outptr" data-ref-filename="64outptr">outptr</a>, &amp;<a class="local col5 ref" href="#65outlen" title='outlen' data-ref="65outlen" data-ref-filename="65outlen">outlen</a>);</td></tr>
<tr><th id="483">483</th><td></td></tr>
<tr><th id="484">484</th><td>      <b>if</b> (<a class="local col6 ref" href="#66n" title='n' data-ref="66n" data-ref-filename="66n">n</a> == (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span>) -<var>1</var> &amp;&amp; <a class="ref" href="iconv_prog.h.html#omit_invalid" title='omit_invalid' data-ref="omit_invalid" data-ref-filename="omit_invalid">omit_invalid</a> &amp;&amp; <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a> == <a class="macro" href="../../include/asm-generic/errno.h.html#67" title="84" data-ref="_M/EILSEQ">EILSEQ</a>)</td></tr>
<tr><th id="485">485</th><td>	{</td></tr>
<tr><th id="486">486</th><td>	  <a class="local col7 ref" href="#67ret" title='ret' data-ref="67ret" data-ref-filename="67ret">ret</a> = <var>1</var>;</td></tr>
<tr><th id="487">487</th><td>	  <b>if</b> (<a class="local col9 ref" href="#59len" title='len' data-ref="59len" data-ref-filename="59len">len</a> == <var>0</var>)</td></tr>
<tr><th id="488">488</th><td>	    <a class="local col6 ref" href="#66n" title='n' data-ref="66n" data-ref-filename="66n">n</a> = <var>0</var>;</td></tr>
<tr><th id="489">489</th><td>	  <b>else</b></td></tr>
<tr><th id="490">490</th><td>	    <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#11" title="7" data-ref="_M/E2BIG">E2BIG</a>;</td></tr>
<tr><th id="491">491</th><td>	}</td></tr>
<tr><th id="492">492</th><td></td></tr>
<tr><th id="493">493</th><td>      <b>if</b> (<a class="local col4 ref" href="#64outptr" title='outptr' data-ref="64outptr" data-ref-filename="64outptr">outptr</a> != <a class="local col3 ref" href="#63outbuf" title='outbuf' data-ref="63outbuf" data-ref-filename="63outbuf">outbuf</a>)</td></tr>
<tr><th id="494">494</th><td>	{</td></tr>
<tr><th id="495">495</th><td>	  <a class="local col7 ref" href="#67ret" title='ret' data-ref="67ret" data-ref-filename="67ret">ret</a> = <a class="tu ref fn" href="#write_output" title='write_output' data-use='c' data-ref="write_output" data-ref-filename="write_output">write_output</a> (<a class="local col3 ref" href="#63outbuf" title='outbuf' data-ref="63outbuf" data-ref-filename="63outbuf">outbuf</a>, <a class="local col4 ref" href="#64outptr" title='outptr' data-ref="64outptr" data-ref-filename="64outptr">outptr</a>, <a class="local col0 ref" href="#60output" title='output' data-ref="60output" data-ref-filename="60output">output</a>, <a class="local col1 ref" href="#61output_file" title='output_file' data-ref="61output_file" data-ref-filename="61output_file">output_file</a>);</td></tr>
<tr><th id="496">496</th><td>	  <b>if</b> (<a class="local col7 ref" href="#67ret" title='ret' data-ref="67ret" data-ref-filename="67ret">ret</a> != <var>0</var>)</td></tr>
<tr><th id="497">497</th><td>	    <b>break</b>;</td></tr>
<tr><th id="498">498</th><td>	}</td></tr>
<tr><th id="499">499</th><td></td></tr>
<tr><th id="500">500</th><td>      <b>if</b> (<a class="local col6 ref" href="#66n" title='n' data-ref="66n" data-ref-filename="66n">n</a> != (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span>) -<var>1</var>)</td></tr>
<tr><th id="501">501</th><td>	{</td></tr>
<tr><th id="502">502</th><td>	  <i>/* All the input test is processed.  For state-dependent</i></td></tr>
<tr><th id="503">503</th><td><i>	     character sets we have to flush the state now.  */</i></td></tr>
<tr><th id="504">504</th><td>	  <a class="local col4 ref" href="#64outptr" title='outptr' data-ref="64outptr" data-ref-filename="64outptr">outptr</a> = <a class="local col3 ref" href="#63outbuf" title='outbuf' data-ref="63outbuf" data-ref-filename="63outbuf">outbuf</a>;</td></tr>
<tr><th id="505">505</th><td>	  <a class="local col5 ref" href="#65outlen" title='outlen' data-ref="65outlen" data-ref-filename="65outlen">outlen</a> = <a class="macro" href="#470" title="32768" data-ref="_M/OUTBUF_SIZE">OUTBUF_SIZE</a>;</td></tr>
<tr><th id="506">506</th><td>	  <a class="local col6 ref" href="#66n" title='n' data-ref="66n" data-ref-filename="66n">n</a> = <a class="ref fn" href="iconv.h.html#iconv" title='iconv' data-ref="iconv" data-ref-filename="iconv">iconv</a> (<a class="local col7 ref" href="#57cd" title='cd' data-ref="57cd" data-ref-filename="57cd">cd</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, &amp;<a class="local col4 ref" href="#64outptr" title='outptr' data-ref="64outptr" data-ref-filename="64outptr">outptr</a>, &amp;<a class="local col5 ref" href="#65outlen" title='outlen' data-ref="65outlen" data-ref-filename="65outlen">outlen</a>);</td></tr>
<tr><th id="507">507</th><td></td></tr>
<tr><th id="508">508</th><td>	  <b>if</b> (<a class="local col4 ref" href="#64outptr" title='outptr' data-ref="64outptr" data-ref-filename="64outptr">outptr</a> != <a class="local col3 ref" href="#63outbuf" title='outbuf' data-ref="63outbuf" data-ref-filename="63outbuf">outbuf</a>)</td></tr>
<tr><th id="509">509</th><td>	    {</td></tr>
<tr><th id="510">510</th><td>	      <a class="local col7 ref" href="#67ret" title='ret' data-ref="67ret" data-ref-filename="67ret">ret</a> = <a class="tu ref fn" href="#write_output" title='write_output' data-use='c' data-ref="write_output" data-ref-filename="write_output">write_output</a> (<a class="local col3 ref" href="#63outbuf" title='outbuf' data-ref="63outbuf" data-ref-filename="63outbuf">outbuf</a>, <a class="local col4 ref" href="#64outptr" title='outptr' data-ref="64outptr" data-ref-filename="64outptr">outptr</a>, <a class="local col0 ref" href="#60output" title='output' data-ref="60output" data-ref-filename="60output">output</a>, <a class="local col1 ref" href="#61output_file" title='output_file' data-ref="61output_file" data-ref-filename="61output_file">output_file</a>);</td></tr>
<tr><th id="511">511</th><td>	      <b>if</b> (<a class="local col7 ref" href="#67ret" title='ret' data-ref="67ret" data-ref-filename="67ret">ret</a> != <var>0</var>)</td></tr>
<tr><th id="512">512</th><td>		<b>break</b>;</td></tr>
<tr><th id="513">513</th><td>	    }</td></tr>
<tr><th id="514">514</th><td></td></tr>
<tr><th id="515">515</th><td>	  <b>if</b> (<a class="local col6 ref" href="#66n" title='n' data-ref="66n" data-ref-filename="66n">n</a> != (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span>) -<var>1</var>)</td></tr>
<tr><th id="516">516</th><td>	    <b>break</b>;</td></tr>
<tr><th id="517">517</th><td></td></tr>
<tr><th id="518">518</th><td>	  <b>if</b> (<a class="ref" href="iconv_prog.h.html#omit_invalid" title='omit_invalid' data-ref="omit_invalid" data-ref-filename="omit_invalid">omit_invalid</a> &amp;&amp; <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a> == <a class="macro" href="../../include/asm-generic/errno.h.html#67" title="84" data-ref="_M/EILSEQ">EILSEQ</a>)</td></tr>
<tr><th id="519">519</th><td>	    {</td></tr>
<tr><th id="520">520</th><td>	      <a class="local col7 ref" href="#67ret" title='ret' data-ref="67ret" data-ref-filename="67ret">ret</a> = <var>1</var>;</td></tr>
<tr><th id="521">521</th><td>	      <b>break</b>;</td></tr>
<tr><th id="522">522</th><td>	    }</td></tr>
<tr><th id="523">523</th><td>	}</td></tr>
<tr><th id="524">524</th><td></td></tr>
<tr><th id="525">525</th><td>      <b>if</b> (<a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a> != <a class="macro" href="../../include/asm-generic/errno-base.h.html#11" title="7" data-ref="_M/E2BIG">E2BIG</a>)</td></tr>
<tr><th id="526">526</th><td>	{</td></tr>
<tr><th id="527">527</th><td>	  <i>/* iconv() ran into a problem.  */</i></td></tr>
<tr><th id="528">528</th><td>	  <b>switch</b> (<a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a>)</td></tr>
<tr><th id="529">529</th><td>	    {</td></tr>
<tr><th id="530">530</th><td>	    <b>case</b> <a class="macro" href="../../include/asm-generic/errno.h.html#67" title="84" data-ref="_M/EILSEQ">EILSEQ</a>:</td></tr>
<tr><th id="531">531</th><td>	      <b>if</b> (! <a class="ref" href="iconv_prog.h.html#omit_invalid" title='omit_invalid' data-ref="omit_invalid" data-ref-filename="omit_invalid">omit_invalid</a>)</td></tr>
<tr><th id="532">532</th><td>		<a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<var>0</var>, <var>0</var>, <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;illegal input sequence at position %ld&quot;, 5)" data-ref="_M/_">_</a>(<q>"illegal input sequence at position %ld"</q>),</td></tr>
<tr><th id="533">533</th><td>		       (<em>long</em> <em>int</em>) (<a class="local col8 ref" href="#58addr" title='addr' data-ref="58addr" data-ref-filename="58addr">addr</a> - <a class="local col2 ref" href="#62start" title='start' data-ref="62start" data-ref-filename="62start">start</a>));</td></tr>
<tr><th id="534">534</th><td>	      <b>break</b>;</td></tr>
<tr><th id="535">535</th><td>	    <b>case</b> <a class="macro" href="../../include/asm-generic/errno-base.h.html#26" title="22" data-ref="_M/EINVAL">EINVAL</a>:</td></tr>
<tr><th id="536">536</th><td>	      <a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<var>0</var>, <var>0</var>, <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;incomplete character or shift sequence at end of buffer&quot;, 5)" data-ref="_M/_">_</a>(<q>"\</q></td></tr>
<tr><th id="537">537</th><td><q>incomplete character or shift sequence at end of buffer"</q>));</td></tr>
<tr><th id="538">538</th><td>	      <b>break</b>;</td></tr>
<tr><th id="539">539</th><td>	    <b>case</b> <a class="macro" href="../../include/asm-generic/errno-base.h.html#13" title="9" data-ref="_M/EBADF">EBADF</a>:</td></tr>
<tr><th id="540">540</th><td>	      <a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<var>0</var>, <var>0</var>, <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;internal error (illegal descriptor)&quot;, 5)" data-ref="_M/_">_</a>(<q>"internal error (illegal descriptor)"</q>));</td></tr>
<tr><th id="541">541</th><td>	      <b>break</b>;</td></tr>
<tr><th id="542">542</th><td>	    <b>default</b>:</td></tr>
<tr><th id="543">543</th><td>	      <a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<var>0</var>, <var>0</var>, <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;unknown iconv() error %d&quot;, 5)" data-ref="_M/_">_</a>(<q>"unknown iconv() error %d"</q>), <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a>);</td></tr>
<tr><th id="544">544</th><td>	      <b>break</b>;</td></tr>
<tr><th id="545">545</th><td>	    }</td></tr>
<tr><th id="546">546</th><td></td></tr>
<tr><th id="547">547</th><td>	  <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="548">548</th><td>	}</td></tr>
<tr><th id="549">549</th><td>    }</td></tr>
<tr><th id="550">550</th><td></td></tr>
<tr><th id="551">551</th><td>  <b>return</b> <a class="local col7 ref" href="#67ret" title='ret' data-ref="67ret" data-ref-filename="67ret">ret</a>;</td></tr>
<tr><th id="552">552</th><td>}</td></tr>
<tr><th id="553">553</th><td></td></tr>
<tr><th id="554">554</th><td></td></tr>
<tr><th id="555">555</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="556">556</th><td><dfn class="tu decl def fn" id="process_fd" title='process_fd' data-type='int process_fd(iconv_t cd, int fd, FILE ** output, const char * output_file)' data-ref="process_fd" data-ref-filename="process_fd">process_fd</dfn> (<a class="typedef" href="iconv.h.html#iconv_t" title='iconv_t' data-type='void *' data-ref="iconv_t" data-ref-filename="iconv_t">iconv_t</a> <dfn class="local col8 decl" id="68cd" title='cd' data-type='iconv_t' data-ref="68cd" data-ref-filename="68cd">cd</dfn>, <em>int</em> <dfn class="local col9 decl" id="69fd" title='fd' data-type='int' data-ref="69fd" data-ref-filename="69fd">fd</dfn>, <a class="typedef" href="../libio/bits/types/FILE.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> **<dfn class="local col0 decl" id="70output" title='output' data-type='FILE **' data-ref="70output" data-ref-filename="70output">output</dfn>, <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="71output_file" title='output_file' data-type='const char *' data-ref="71output_file" data-ref-filename="71output_file">output_file</dfn>)</td></tr>
<tr><th id="557">557</th><td>{</td></tr>
<tr><th id="558">558</th><td>  <i>/* we have a problem with reading from a desriptor since we must not</i></td></tr>
<tr><th id="559">559</th><td><i>     provide the iconv() function an incomplete character or shift</i></td></tr>
<tr><th id="560">560</th><td><i>     sequence at the end of the buffer.  Since we have to deal with</i></td></tr>
<tr><th id="561">561</th><td><i>     arbitrary encodings we must read the whole text in a buffer and</i></td></tr>
<tr><th id="562">562</th><td><i>     process it in one step.  */</i></td></tr>
<tr><th id="563">563</th><td>  <em>static</em> <em>char</em> *<dfn class="local col2 decl" id="72inbuf" title='inbuf' data-type='char *' data-ref="72inbuf" data-ref-filename="72inbuf">inbuf</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="564">564</th><td>  <em>static</em> <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col3 decl" id="73maxlen" title='maxlen' data-type='size_t' data-ref="73maxlen" data-ref-filename="73maxlen">maxlen</dfn> = <var>0</var>;</td></tr>
<tr><th id="565">565</th><td>  <em>char</em> *<dfn class="local col4 decl" id="74inptr" title='inptr' data-type='char *' data-ref="74inptr" data-ref-filename="74inptr">inptr</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="566">566</th><td>  <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col5 decl" id="75actlen" title='actlen' data-type='size_t' data-ref="75actlen" data-ref-filename="75actlen">actlen</dfn> = <var>0</var>;</td></tr>
<tr><th id="567">567</th><td></td></tr>
<tr><th id="568">568</th><td>  <b>while</b> (<a class="local col5 ref" href="#75actlen" title='actlen' data-ref="75actlen" data-ref-filename="75actlen">actlen</a> &lt; <a class="local col3 ref" href="#73maxlen" title='maxlen' data-ref="73maxlen" data-ref-filename="73maxlen">maxlen</a>)</td></tr>
<tr><th id="569">569</th><td>    {</td></tr>
<tr><th id="570">570</th><td>      <a class="typedef" href="../libio/stdio.h.html#ssize_t" title='ssize_t' data-type='__ssize_t' data-ref="ssize_t" data-ref-filename="ssize_t">ssize_t</a> <dfn class="local col6 decl" id="76n" title='n' data-type='ssize_t' data-ref="76n" data-ref-filename="76n">n</dfn> = <a class="ref fn" href="../posix/unistd.h.html#read" title='read' data-ref="read" data-ref-filename="read">read</a> (<a class="local col9 ref" href="#69fd" title='fd' data-ref="69fd" data-ref-filename="69fd">fd</a>, <a class="local col4 ref" href="#74inptr" title='inptr' data-ref="74inptr" data-ref-filename="74inptr">inptr</a>, <a class="local col3 ref" href="#73maxlen" title='maxlen' data-ref="73maxlen" data-ref-filename="73maxlen">maxlen</a> - <a class="local col5 ref" href="#75actlen" title='actlen' data-ref="75actlen" data-ref-filename="75actlen">actlen</a>);</td></tr>
<tr><th id="571">571</th><td></td></tr>
<tr><th id="572">572</th><td>      <b>if</b> (<a class="local col6 ref" href="#76n" title='n' data-ref="76n" data-ref-filename="76n">n</a> == <var>0</var>)</td></tr>
<tr><th id="573">573</th><td>	<i>/* No more text to read.  */</i></td></tr>
<tr><th id="574">574</th><td>	<b>break</b>;</td></tr>
<tr><th id="575">575</th><td></td></tr>
<tr><th id="576">576</th><td>      <b>if</b> (<a class="local col6 ref" href="#76n" title='n' data-ref="76n" data-ref-filename="76n">n</a> == -<var>1</var>)</td></tr>
<tr><th id="577">577</th><td>	{</td></tr>
<tr><th id="578">578</th><td>	  <i>/* Error while reading.  */</i></td></tr>
<tr><th id="579">579</th><td>	  <a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<var>0</var>, <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a>, <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;error while reading the input&quot;, 5)" data-ref="_M/_">_</a>(<q>"error while reading the input"</q>));</td></tr>
<tr><th id="580">580</th><td>	  <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="581">581</th><td>	}</td></tr>
<tr><th id="582">582</th><td></td></tr>
<tr><th id="583">583</th><td>      <a class="local col4 ref" href="#74inptr" title='inptr' data-ref="74inptr" data-ref-filename="74inptr">inptr</a> += <a class="local col6 ref" href="#76n" title='n' data-ref="76n" data-ref-filename="76n">n</a>;</td></tr>
<tr><th id="584">584</th><td>      <a class="local col5 ref" href="#75actlen" title='actlen' data-ref="75actlen" data-ref-filename="75actlen">actlen</a> += <a class="local col6 ref" href="#76n" title='n' data-ref="76n" data-ref-filename="76n">n</a>;</td></tr>
<tr><th id="585">585</th><td>    }</td></tr>
<tr><th id="586">586</th><td></td></tr>
<tr><th id="587">587</th><td>  <b>if</b> (<a class="local col5 ref" href="#75actlen" title='actlen' data-ref="75actlen" data-ref-filename="75actlen">actlen</a> == <a class="local col3 ref" href="#73maxlen" title='maxlen' data-ref="73maxlen" data-ref-filename="73maxlen">maxlen</a>)</td></tr>
<tr><th id="588">588</th><td>    <b>while</b> (<var>1</var>)</td></tr>
<tr><th id="589">589</th><td>      {</td></tr>
<tr><th id="590">590</th><td>	<a class="typedef" href="../libio/stdio.h.html#ssize_t" title='ssize_t' data-type='__ssize_t' data-ref="ssize_t" data-ref-filename="ssize_t">ssize_t</a> <dfn class="local col7 decl" id="77n" title='n' data-type='ssize_t' data-ref="77n" data-ref-filename="77n">n</dfn>;</td></tr>
<tr><th id="591">591</th><td>	<em>char</em> *<dfn class="local col8 decl" id="78new_inbuf" title='new_inbuf' data-type='char *' data-ref="78new_inbuf" data-ref-filename="78new_inbuf">new_inbuf</dfn>;</td></tr>
<tr><th id="592">592</th><td></td></tr>
<tr><th id="593">593</th><td>	<i>/* Increase the buffer.  */</i></td></tr>
<tr><th id="594">594</th><td>	<a class="local col8 ref" href="#78new_inbuf" title='new_inbuf' data-ref="78new_inbuf" data-ref-filename="78new_inbuf">new_inbuf</a> = (<em>char</em> *) <a class="ref fn" href="../stdlib/stdlib.h.html#realloc" title='realloc' data-ref="realloc" data-ref-filename="realloc">realloc</a> (<a class="local col2 ref" href="#72inbuf" title='inbuf' data-ref="72inbuf" data-ref-filename="72inbuf">inbuf</a>, <a class="local col3 ref" href="#73maxlen" title='maxlen' data-ref="73maxlen" data-ref-filename="73maxlen">maxlen</a> + <var>32768</var>);</td></tr>
<tr><th id="595">595</th><td>	<b>if</b> (<a class="local col8 ref" href="#78new_inbuf" title='new_inbuf' data-ref="78new_inbuf" data-ref-filename="78new_inbuf">new_inbuf</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="596">596</th><td>	  {</td></tr>
<tr><th id="597">597</th><td>	    <a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<var>0</var>, <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a>, <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;unable to allocate buffer for input&quot;, 5)" data-ref="_M/_">_</a>(<q>"unable to allocate buffer for input"</q>));</td></tr>
<tr><th id="598">598</th><td>	    <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="599">599</th><td>	  }</td></tr>
<tr><th id="600">600</th><td>	<a class="local col2 ref" href="#72inbuf" title='inbuf' data-ref="72inbuf" data-ref-filename="72inbuf">inbuf</a> = <a class="local col8 ref" href="#78new_inbuf" title='new_inbuf' data-ref="78new_inbuf" data-ref-filename="78new_inbuf">new_inbuf</a>;</td></tr>
<tr><th id="601">601</th><td>	<a class="local col3 ref" href="#73maxlen" title='maxlen' data-ref="73maxlen" data-ref-filename="73maxlen">maxlen</a> += <var>32768</var>;</td></tr>
<tr><th id="602">602</th><td>	<a class="local col4 ref" href="#74inptr" title='inptr' data-ref="74inptr" data-ref-filename="74inptr">inptr</a> = <a class="local col2 ref" href="#72inbuf" title='inbuf' data-ref="72inbuf" data-ref-filename="72inbuf">inbuf</a> + <a class="local col5 ref" href="#75actlen" title='actlen' data-ref="75actlen" data-ref-filename="75actlen">actlen</a>;</td></tr>
<tr><th id="603">603</th><td></td></tr>
<tr><th id="604">604</th><td>	<b>do</b></td></tr>
<tr><th id="605">605</th><td>	  {</td></tr>
<tr><th id="606">606</th><td>	    <a class="local col7 ref" href="#77n" title='n' data-ref="77n" data-ref-filename="77n">n</a> = <a class="ref fn" href="../posix/unistd.h.html#read" title='read' data-ref="read" data-ref-filename="read">read</a> (<a class="local col9 ref" href="#69fd" title='fd' data-ref="69fd" data-ref-filename="69fd">fd</a>, <a class="local col4 ref" href="#74inptr" title='inptr' data-ref="74inptr" data-ref-filename="74inptr">inptr</a>, <a class="local col3 ref" href="#73maxlen" title='maxlen' data-ref="73maxlen" data-ref-filename="73maxlen">maxlen</a> - <a class="local col5 ref" href="#75actlen" title='actlen' data-ref="75actlen" data-ref-filename="75actlen">actlen</a>);</td></tr>
<tr><th id="607">607</th><td></td></tr>
<tr><th id="608">608</th><td>	    <b>if</b> (<a class="local col7 ref" href="#77n" title='n' data-ref="77n" data-ref-filename="77n">n</a> == <var>0</var>)</td></tr>
<tr><th id="609">609</th><td>	      <i>/* No more text to read.  */</i></td></tr>
<tr><th id="610">610</th><td>	      <b>break</b>;</td></tr>
<tr><th id="611">611</th><td></td></tr>
<tr><th id="612">612</th><td>	    <b>if</b> (<a class="local col7 ref" href="#77n" title='n' data-ref="77n" data-ref-filename="77n">n</a> == -<var>1</var>)</td></tr>
<tr><th id="613">613</th><td>	      {</td></tr>
<tr><th id="614">614</th><td>		<i>/* Error while reading.  */</i></td></tr>
<tr><th id="615">615</th><td>		<a class="ref fn" href="../misc/error.h.html#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<var>0</var>, <a class="macro" href="../stdlib/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a>, <a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;error while reading the input&quot;, 5)" data-ref="_M/_">_</a>(<q>"error while reading the input"</q>));</td></tr>
<tr><th id="616">616</th><td>		<b>return</b> -<var>1</var>;</td></tr>
<tr><th id="617">617</th><td>	      }</td></tr>
<tr><th id="618">618</th><td></td></tr>
<tr><th id="619">619</th><td>	    <a class="local col4 ref" href="#74inptr" title='inptr' data-ref="74inptr" data-ref-filename="74inptr">inptr</a> += <a class="local col7 ref" href="#77n" title='n' data-ref="77n" data-ref-filename="77n">n</a>;</td></tr>
<tr><th id="620">620</th><td>	    <a class="local col5 ref" href="#75actlen" title='actlen' data-ref="75actlen" data-ref-filename="75actlen">actlen</a> += <a class="local col7 ref" href="#77n" title='n' data-ref="77n" data-ref-filename="77n">n</a>;</td></tr>
<tr><th id="621">621</th><td>	  }</td></tr>
<tr><th id="622">622</th><td>	<b>while</b> (<a class="local col5 ref" href="#75actlen" title='actlen' data-ref="75actlen" data-ref-filename="75actlen">actlen</a> &lt; <a class="local col3 ref" href="#73maxlen" title='maxlen' data-ref="73maxlen" data-ref-filename="73maxlen">maxlen</a>);</td></tr>
<tr><th id="623">623</th><td></td></tr>
<tr><th id="624">624</th><td>	<b>if</b> (<a class="local col7 ref" href="#77n" title='n' data-ref="77n" data-ref-filename="77n">n</a> == <var>0</var>)</td></tr>
<tr><th id="625">625</th><td>	  <i>/* Break again so we leave both loops.  */</i></td></tr>
<tr><th id="626">626</th><td>	  <b>break</b>;</td></tr>
<tr><th id="627">627</th><td>      }</td></tr>
<tr><th id="628">628</th><td></td></tr>
<tr><th id="629">629</th><td>  <i>/* Now we have all the input in the buffer.  Process it in one run.  */</i></td></tr>
<tr><th id="630">630</th><td>  <b>return</b> <a class="tu ref fn" href="#process_block" title='process_block' data-use='c' data-ref="process_block" data-ref-filename="process_block">process_block</a> (<a class="local col8 ref" href="#68cd" title='cd' data-ref="68cd" data-ref-filename="68cd">cd</a>, <a class="local col2 ref" href="#72inbuf" title='inbuf' data-ref="72inbuf" data-ref-filename="72inbuf">inbuf</a>, <a class="local col5 ref" href="#75actlen" title='actlen' data-ref="75actlen" data-ref-filename="75actlen">actlen</a>, <a class="local col0 ref" href="#70output" title='output' data-ref="70output" data-ref-filename="70output">output</a>, <a class="local col1 ref" href="#71output_file" title='output_file' data-ref="71output_file" data-ref-filename="71output_file">output_file</a>);</td></tr>
<tr><th id="631">631</th><td>}</td></tr>
<tr><th id="632">632</th><td></td></tr>
<tr><th id="633">633</th><td></td></tr>
<tr><th id="634">634</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="635">635</th><td><dfn class="tu decl def fn" id="process_file" title='process_file' data-type='int process_file(iconv_t cd, FILE * input, FILE ** output, const char * output_file)' data-ref="process_file" data-ref-filename="process_file">process_file</dfn> (<a class="typedef" href="iconv.h.html#iconv_t" title='iconv_t' data-type='void *' data-ref="iconv_t" data-ref-filename="iconv_t">iconv_t</a> <dfn class="local col9 decl" id="79cd" title='cd' data-type='iconv_t' data-ref="79cd" data-ref-filename="79cd">cd</dfn>, <a class="typedef" href="../libio/bits/types/FILE.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> *<dfn class="local col0 decl" id="80input" title='input' data-type='FILE *' data-ref="80input" data-ref-filename="80input">input</dfn>, <a class="typedef" href="../libio/bits/types/FILE.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> **<dfn class="local col1 decl" id="81output" title='output' data-type='FILE **' data-ref="81output" data-ref-filename="81output">output</dfn>, <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="82output_file" title='output_file' data-type='const char *' data-ref="82output_file" data-ref-filename="82output_file">output_file</dfn>)</td></tr>
<tr><th id="636">636</th><td>{</td></tr>
<tr><th id="637">637</th><td>  <i>/* This should be safe since we use this function only for `stdin' and</i></td></tr>
<tr><th id="638">638</th><td><i>     we haven't read anything so far.  */</i></td></tr>
<tr><th id="639">639</th><td>  <b>return</b> <a class="tu ref fn" href="#process_fd" title='process_fd' data-use='c' data-ref="process_fd" data-ref-filename="process_fd">process_fd</a> (<a class="local col9 ref" href="#79cd" title='cd' data-ref="79cd" data-ref-filename="79cd">cd</a>, <a class="ref fn" href="../libio/stdio.h.html#fileno" title='fileno' data-ref="fileno" data-ref-filename="fileno">fileno</a> (<a class="local col0 ref" href="#80input" title='input' data-ref="80input" data-ref-filename="80input">input</a>), <a class="local col1 ref" href="#81output" title='output' data-ref="81output" data-ref-filename="81output">output</a>, <a class="local col2 ref" href="#82output_file" title='output_file' data-ref="82output_file" data-ref-filename="82output_file">output_file</a>);</td></tr>
<tr><th id="640">640</th><td>}</td></tr>
<tr><th id="641">641</th><td></td></tr>
<tr><th id="642">642</th><td></td></tr>
<tr><th id="643">643</th><td><i  data-doc="printlist">/* Print all known character sets/encodings.  */</i></td></tr>
<tr><th id="644">644</th><td><em>static</em> <em>void</em> *<dfn class="tu decl def" id="printlist" title='printlist' data-type='void *' data-ref="printlist" data-ref-filename="printlist">printlist</dfn>;</td></tr>
<tr><th id="645">645</th><td><em>static</em> <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="tu decl def" id="column" title='column' data-type='size_t' data-ref="column" data-ref-filename="column">column</dfn>;</td></tr>
<tr><th id="646">646</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="not_first" title='not_first' data-type='int' data-ref="not_first" data-ref-filename="not_first">not_first</dfn>;</td></tr>
<tr><th id="647">647</th><td></td></tr>
<tr><th id="648">648</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="649">649</th><td><dfn class="tu decl def fn" id="insert_print_list" title='insert_print_list' data-type='void insert_print_list(const void * nodep, VISIT value, int level)' data-ref="insert_print_list" data-ref-filename="insert_print_list">insert_print_list</dfn> (<em>const</em> <em>void</em> *<dfn class="local col3 decl" id="83nodep" title='nodep' data-type='const void *' data-ref="83nodep" data-ref-filename="83nodep">nodep</dfn>, <a class="typedef" href="../misc/search.h.html#VISIT" title='VISIT' data-type='enum VISIT' data-ref="VISIT" data-ref-filename="VISIT">VISIT</a> <dfn class="local col4 decl" id="84value" title='value' data-type='VISIT' data-ref="84value" data-ref-filename="84value">value</dfn>, <em>int</em> <dfn class="local col5 decl" id="85level" title='level' data-type='int' data-ref="85level" data-ref-filename="85level">level</dfn>)</td></tr>
<tr><th id="650">650</th><td>{</td></tr>
<tr><th id="651">651</th><td>  <b>if</b> (<a class="local col4 ref" href="#84value" title='value' data-ref="84value" data-ref-filename="84value">value</a> == <a class="enum" href="../misc/search.h.html#leaf" title='leaf' data-ref="leaf" data-ref-filename="leaf">leaf</a> || <a class="local col4 ref" href="#84value" title='value' data-ref="84value" data-ref-filename="84value">value</a> == <a class="enum" href="../misc/search.h.html#postorder" title='postorder' data-ref="postorder" data-ref-filename="postorder">postorder</a>)</td></tr>
<tr><th id="652">652</th><td>    {</td></tr>
<tr><th id="653">653</th><td>      <em>const</em> <b>struct</b> <a class="type" href="gconv_int.h.html#gconv_alias" title='gconv_alias' data-ref="gconv_alias" data-ref-filename="gconv_alias">gconv_alias</a> *<dfn class="local col6 decl" id="86s" title='s' data-type='const struct gconv_alias *' data-ref="86s" data-ref-filename="86s">s</dfn> = *(<em>const</em> <b>struct</b> <a class="type" href="gconv_int.h.html#gconv_alias" title='gconv_alias' data-ref="gconv_alias" data-ref-filename="gconv_alias">gconv_alias</a> **) <a class="local col3 ref" href="#83nodep" title='nodep' data-ref="83nodep" data-ref-filename="83nodep">nodep</a>;</td></tr>
<tr><th id="654">654</th><td>      <a class="ref fn" href="../misc/search.h.html#tsearch" title='tsearch' data-ref="tsearch" data-ref-filename="tsearch">tsearch</a> (<a class="local col6 ref" href="#86s" title='s' data-ref="86s" data-ref-filename="86s">s</a>-&gt;<a class="ref field" href="gconv_int.h.html#gconv_alias::fromname" title='gconv_alias::fromname' data-ref="gconv_alias::fromname" data-ref-filename="gconv_alias..fromname">fromname</a>, &amp;<a class="tu ref" href="#printlist" title='printlist' data-use='a' data-ref="printlist" data-ref-filename="printlist">printlist</a>, (<a class="typedef" href="../misc/search.h.html#__compar_fn_t" title='__compar_fn_t' data-type='int (*)(const void *, const void *)' data-ref="__compar_fn_t" data-ref-filename="__compar_fn_t">__compar_fn_t</a>) <a class="ref fn" href="../string/string.h.html#strverscmp" title='strverscmp' data-ref="strverscmp" data-ref-filename="strverscmp">strverscmp</a>);</td></tr>
<tr><th id="655">655</th><td>    }</td></tr>
<tr><th id="656">656</th><td>}</td></tr>
<tr><th id="657">657</th><td></td></tr>
<tr><th id="658">658</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="659">659</th><td><dfn class="tu decl def fn" id="do_print_human" title='do_print_human' data-type='void do_print_human(const void * nodep, VISIT value, int level)' data-ref="do_print_human" data-ref-filename="do_print_human">do_print_human</dfn>  (<em>const</em> <em>void</em> *<dfn class="local col7 decl" id="87nodep" title='nodep' data-type='const void *' data-ref="87nodep" data-ref-filename="87nodep">nodep</dfn>, <a class="typedef" href="../misc/search.h.html#VISIT" title='VISIT' data-type='enum VISIT' data-ref="VISIT" data-ref-filename="VISIT">VISIT</a> <dfn class="local col8 decl" id="88value" title='value' data-type='VISIT' data-ref="88value" data-ref-filename="88value">value</dfn>, <em>int</em> <dfn class="local col9 decl" id="89level" title='level' data-type='int' data-ref="89level" data-ref-filename="89level">level</dfn>)</td></tr>
<tr><th id="660">660</th><td>{</td></tr>
<tr><th id="661">661</th><td>  <b>if</b> (<a class="local col8 ref" href="#88value" title='value' data-ref="88value" data-ref-filename="88value">value</a> == <a class="enum" href="../misc/search.h.html#leaf" title='leaf' data-ref="leaf" data-ref-filename="leaf">leaf</a> || <a class="local col8 ref" href="#88value" title='value' data-ref="88value" data-ref-filename="88value">value</a> == <a class="enum" href="../misc/search.h.html#postorder" title='postorder' data-ref="postorder" data-ref-filename="postorder">postorder</a>)</td></tr>
<tr><th id="662">662</th><td>    {</td></tr>
<tr><th id="663">663</th><td>      <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="90s" title='s' data-type='const char *' data-ref="90s" data-ref-filename="90s">s</dfn> = *(<em>const</em> <em>char</em> **) <a class="local col7 ref" href="#87nodep" title='nodep' data-ref="87nodep" data-ref-filename="87nodep">nodep</a>;</td></tr>
<tr><th id="664">664</th><td>      <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col1 decl" id="91len" title='len' data-type='size_t' data-ref="91len" data-ref-filename="91len">len</dfn> = <a class="ref fn" href="../string/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<a class="local col0 ref" href="#90s" title='s' data-ref="90s" data-ref-filename="90s">s</a>);</td></tr>
<tr><th id="665">665</th><td>      <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col2 decl" id="92cnt" title='cnt' data-type='size_t' data-ref="92cnt" data-ref-filename="92cnt">cnt</dfn>;</td></tr>
<tr><th id="666">666</th><td></td></tr>
<tr><th id="667">667</th><td>      <b>while</b> (<a class="local col1 ref" href="#91len" title='len' data-ref="91len" data-ref-filename="91len">len</a> &gt; <var>0</var> &amp;&amp; <a class="local col0 ref" href="#90s" title='s' data-ref="90s" data-ref-filename="90s">s</a>[<a class="local col1 ref" href="#91len" title='len' data-ref="91len" data-ref-filename="91len">len</a> - <var>1</var>] == <kbd>'/'</kbd>)</td></tr>
<tr><th id="668">668</th><td>	--<a class="local col1 ref" href="#91len" title='len' data-ref="91len" data-ref-filename="91len">len</a>;</td></tr>
<tr><th id="669">669</th><td></td></tr>
<tr><th id="670">670</th><td>      <b>for</b> (<a class="local col2 ref" href="#92cnt" title='cnt' data-ref="92cnt" data-ref-filename="92cnt">cnt</a> = <var>0</var>; <a class="local col2 ref" href="#92cnt" title='cnt' data-ref="92cnt" data-ref-filename="92cnt">cnt</a> &lt; <a class="local col1 ref" href="#91len" title='len' data-ref="91len" data-ref-filename="91len">len</a>; ++<a class="local col2 ref" href="#92cnt" title='cnt' data-ref="92cnt" data-ref-filename="92cnt">cnt</a>)</td></tr>
<tr><th id="671">671</th><td>	<b>if</b> (<a class="macro" href="../ctype/ctype.h.html#189" title="((*__ctype_b_loc ())[(int) ((s[cnt]))] &amp; (unsigned short int) _ISalnum)" data-ref="_M/isalnum">isalnum</a> (<a class="local col0 ref" href="#90s" title='s' data-ref="90s" data-ref-filename="90s">s</a>[<a class="local col2 ref" href="#92cnt" title='cnt' data-ref="92cnt" data-ref-filename="92cnt">cnt</a>]))</td></tr>
<tr><th id="672">672</th><td>	  <b>break</b>;</td></tr>
<tr><th id="673">673</th><td>      <b>if</b> (<a class="local col2 ref" href="#92cnt" title='cnt' data-ref="92cnt" data-ref-filename="92cnt">cnt</a> == <a class="local col1 ref" href="#91len" title='len' data-ref="91len" data-ref-filename="91len">len</a>)</td></tr>
<tr><th id="674">674</th><td>	<b>return</b>;</td></tr>
<tr><th id="675">675</th><td></td></tr>
<tr><th id="676">676</th><td>      <b>if</b> (<a class="tu ref" href="#not_first" title='not_first' data-use='r' data-ref="not_first" data-ref-filename="not_first">not_first</a>)</td></tr>
<tr><th id="677">677</th><td>	{</td></tr>
<tr><th id="678">678</th><td>	  <a class="ref fn" href="../libio/stdio.h.html#putchar" title='putchar' data-ref="putchar" data-ref-filename="putchar">putchar</a> (<kbd>','</kbd>);</td></tr>
<tr><th id="679">679</th><td>	  ++<a class="tu ref" href="#column" title='column' data-use='w' data-ref="column" data-ref-filename="column">column</a>;</td></tr>
<tr><th id="680">680</th><td></td></tr>
<tr><th id="681">681</th><td>	  <b>if</b> (<a class="tu ref" href="#column" title='column' data-use='r' data-ref="column" data-ref-filename="column">column</a> &gt; <var>2</var> &amp;&amp; <a class="tu ref" href="#column" title='column' data-use='r' data-ref="column" data-ref-filename="column">column</a> + <a class="local col1 ref" href="#91len" title='len' data-ref="91len" data-ref-filename="91len">len</a> &gt; <var>77</var>)</td></tr>
<tr><th id="682">682</th><td>	    {</td></tr>
<tr><th id="683">683</th><td>	      <a class="ref fn" href="../libio/stdio.h.html#fputs" title='fputs' data-ref="fputs" data-ref-filename="fputs">fputs</a> (<q>"\n  "</q>, <a class="macro" href="../libio/stdio.h.html#142" title="stdout" data-ref="_M/stdout">stdout</a>);</td></tr>
<tr><th id="684">684</th><td>	      <a class="tu ref" href="#column" title='column' data-use='w' data-ref="column" data-ref-filename="column">column</a> = <var>2</var>;</td></tr>
<tr><th id="685">685</th><td>	    }</td></tr>
<tr><th id="686">686</th><td>	  <b>else</b></td></tr>
<tr><th id="687">687</th><td>	    {</td></tr>
<tr><th id="688">688</th><td>	      <a class="ref fn" href="../libio/stdio.h.html#putchar" title='putchar' data-ref="putchar" data-ref-filename="putchar">putchar</a> (<kbd>' '</kbd>);</td></tr>
<tr><th id="689">689</th><td>	      ++<a class="tu ref" href="#column" title='column' data-use='w' data-ref="column" data-ref-filename="column">column</a>;</td></tr>
<tr><th id="690">690</th><td>	    }</td></tr>
<tr><th id="691">691</th><td>	}</td></tr>
<tr><th id="692">692</th><td>      <b>else</b></td></tr>
<tr><th id="693">693</th><td>	<a class="tu ref" href="#not_first" title='not_first' data-use='w' data-ref="not_first" data-ref-filename="not_first">not_first</a> = <var>1</var>;</td></tr>
<tr><th id="694">694</th><td></td></tr>
<tr><th id="695">695</th><td>      <a class="ref fn" href="../libio/stdio.h.html#fwrite" title='fwrite' data-ref="fwrite" data-ref-filename="fwrite">fwrite</a> (<a class="local col0 ref" href="#90s" title='s' data-ref="90s" data-ref-filename="90s">s</a>, <a class="local col1 ref" href="#91len" title='len' data-ref="91len" data-ref-filename="91len">len</a>, <var>1</var>, <a class="macro" href="../libio/stdio.h.html#142" title="stdout" data-ref="_M/stdout">stdout</a>);</td></tr>
<tr><th id="696">696</th><td>      <a class="tu ref" href="#column" title='column' data-use='w' data-ref="column" data-ref-filename="column">column</a> += <a class="local col1 ref" href="#91len" title='len' data-ref="91len" data-ref-filename="91len">len</a>;</td></tr>
<tr><th id="697">697</th><td>    }</td></tr>
<tr><th id="698">698</th><td>}</td></tr>
<tr><th id="699">699</th><td></td></tr>
<tr><th id="700">700</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="701">701</th><td><dfn class="tu decl def fn" id="do_print" title='do_print' data-type='void do_print(const void * nodep, VISIT value, int level)' data-ref="do_print" data-ref-filename="do_print">do_print</dfn>  (<em>const</em> <em>void</em> *<dfn class="local col3 decl" id="93nodep" title='nodep' data-type='const void *' data-ref="93nodep" data-ref-filename="93nodep">nodep</dfn>, <a class="typedef" href="../misc/search.h.html#VISIT" title='VISIT' data-type='enum VISIT' data-ref="VISIT" data-ref-filename="VISIT">VISIT</a> <dfn class="local col4 decl" id="94value" title='value' data-type='VISIT' data-ref="94value" data-ref-filename="94value">value</dfn>, <em>int</em> <dfn class="local col5 decl" id="95level" title='level' data-type='int' data-ref="95level" data-ref-filename="95level">level</dfn>)</td></tr>
<tr><th id="702">702</th><td>{</td></tr>
<tr><th id="703">703</th><td>  <b>if</b> (<a class="local col4 ref" href="#94value" title='value' data-ref="94value" data-ref-filename="94value">value</a> == <a class="enum" href="../misc/search.h.html#leaf" title='leaf' data-ref="leaf" data-ref-filename="leaf">leaf</a> || <a class="local col4 ref" href="#94value" title='value' data-ref="94value" data-ref-filename="94value">value</a> == <a class="enum" href="../misc/search.h.html#postorder" title='postorder' data-ref="postorder" data-ref-filename="postorder">postorder</a>)</td></tr>
<tr><th id="704">704</th><td>    {</td></tr>
<tr><th id="705">705</th><td>      <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="96s" title='s' data-type='const char *' data-ref="96s" data-ref-filename="96s">s</dfn> = *(<em>const</em> <em>char</em> **) <a class="local col3 ref" href="#93nodep" title='nodep' data-ref="93nodep" data-ref-filename="93nodep">nodep</a>;</td></tr>
<tr><th id="706">706</th><td></td></tr>
<tr><th id="707">707</th><td>      <a class="ref fn" href="../libio/stdio.h.html#puts" title='puts' data-ref="puts" data-ref-filename="puts">puts</a> (<a class="local col6 ref" href="#96s" title='s' data-ref="96s" data-ref-filename="96s">s</a>);</td></tr>
<tr><th id="708">708</th><td>    }</td></tr>
<tr><th id="709">709</th><td>}</td></tr>
<tr><th id="710">710</th><td></td></tr>
<tr><th id="711">711</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="712">712</th><td><dfn class="tu decl def fn" id="add_known_names" title='add_known_names' data-type='void add_known_names(struct gconv_module * node)' data-ref="add_known_names" data-ref-filename="add_known_names">add_known_names</dfn> (<b>struct</b> <a class="type" href="gconv_int.h.html#gconv_module" title='gconv_module' data-ref="gconv_module" data-ref-filename="gconv_module">gconv_module</a> *<dfn class="local col7 decl" id="97node" title='node' data-type='struct gconv_module *' data-ref="97node" data-ref-filename="97node">node</dfn>)</td></tr>
<tr><th id="713">713</th><td>{</td></tr>
<tr><th id="714">714</th><td>  <b>if</b> (<a class="local col7 ref" href="#97node" title='node' data-ref="97node" data-ref-filename="97node">node</a>-&gt;<a class="ref field" href="gconv_int.h.html#gconv_module::left" title='gconv_module::left' data-ref="gconv_module::left" data-ref-filename="gconv_module..left">left</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="715">715</th><td>    <a class="tu ref fn" href="#add_known_names" title='add_known_names' data-use='c' data-ref="add_known_names" data-ref-filename="add_known_names">add_known_names</a> (<a class="local col7 ref" href="#97node" title='node' data-ref="97node" data-ref-filename="97node">node</a>-&gt;<a class="ref field" href="gconv_int.h.html#gconv_module::left" title='gconv_module::left' data-ref="gconv_module::left" data-ref-filename="gconv_module..left">left</a>);</td></tr>
<tr><th id="716">716</th><td>  <b>if</b> (<a class="local col7 ref" href="#97node" title='node' data-ref="97node" data-ref-filename="97node">node</a>-&gt;<a class="ref field" href="gconv_int.h.html#gconv_module::right" title='gconv_module::right' data-ref="gconv_module::right" data-ref-filename="gconv_module..right">right</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="717">717</th><td>    <a class="tu ref fn" href="#add_known_names" title='add_known_names' data-use='c' data-ref="add_known_names" data-ref-filename="add_known_names">add_known_names</a> (<a class="local col7 ref" href="#97node" title='node' data-ref="97node" data-ref-filename="97node">node</a>-&gt;<a class="ref field" href="gconv_int.h.html#gconv_module::right" title='gconv_module::right' data-ref="gconv_module::right" data-ref-filename="gconv_module..right">right</a>);</td></tr>
<tr><th id="718">718</th><td>  <b>do</b></td></tr>
<tr><th id="719">719</th><td>    {</td></tr>
<tr><th id="720">720</th><td>      <b>if</b> (<a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="local col7 ref" href="#97node" title='node' data-ref="97node" data-ref-filename="97node">node</a>-&gt;<a class="ref field" href="gconv_int.h.html#gconv_module::from_string" title='gconv_module::from_string' data-ref="gconv_module::from_string" data-ref-filename="gconv_module..from_string">from_string</a>, <q>"INTERNAL"</q>) != <var>0</var>)</td></tr>
<tr><th id="721">721</th><td>	<a class="ref fn" href="../misc/search.h.html#tsearch" title='tsearch' data-ref="tsearch" data-ref-filename="tsearch">tsearch</a> (<a class="local col7 ref" href="#97node" title='node' data-ref="97node" data-ref-filename="97node">node</a>-&gt;<a class="ref field" href="gconv_int.h.html#gconv_module::from_string" title='gconv_module::from_string' data-ref="gconv_module::from_string" data-ref-filename="gconv_module..from_string">from_string</a>, &amp;<a class="tu ref" href="#printlist" title='printlist' data-use='a' data-ref="printlist" data-ref-filename="printlist">printlist</a>, (<a class="typedef" href="../misc/search.h.html#__compar_fn_t" title='__compar_fn_t' data-type='int (*)(const void *, const void *)' data-ref="__compar_fn_t" data-ref-filename="__compar_fn_t">__compar_fn_t</a>) <a class="ref fn" href="../string/string.h.html#strverscmp" title='strverscmp' data-ref="strverscmp" data-ref-filename="strverscmp">strverscmp</a>);</td></tr>
<tr><th id="722">722</th><td>      <b>if</b> (<a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="local col7 ref" href="#97node" title='node' data-ref="97node" data-ref-filename="97node">node</a>-&gt;<a class="ref field" href="gconv_int.h.html#gconv_module::to_string" title='gconv_module::to_string' data-ref="gconv_module::to_string" data-ref-filename="gconv_module..to_string">to_string</a>, <q>"INTERNAL"</q>) != <var>0</var>)</td></tr>
<tr><th id="723">723</th><td>	<a class="ref fn" href="../misc/search.h.html#tsearch" title='tsearch' data-ref="tsearch" data-ref-filename="tsearch">tsearch</a> (<a class="local col7 ref" href="#97node" title='node' data-ref="97node" data-ref-filename="97node">node</a>-&gt;<a class="ref field" href="gconv_int.h.html#gconv_module::to_string" title='gconv_module::to_string' data-ref="gconv_module::to_string" data-ref-filename="gconv_module..to_string">to_string</a>, &amp;<a class="tu ref" href="#printlist" title='printlist' data-use='a' data-ref="printlist" data-ref-filename="printlist">printlist</a>, (<a class="typedef" href="../misc/search.h.html#__compar_fn_t" title='__compar_fn_t' data-type='int (*)(const void *, const void *)' data-ref="__compar_fn_t" data-ref-filename="__compar_fn_t">__compar_fn_t</a>) <a class="ref fn" href="../string/string.h.html#strverscmp" title='strverscmp' data-ref="strverscmp" data-ref-filename="strverscmp">strverscmp</a>);</td></tr>
<tr><th id="724">724</th><td></td></tr>
<tr><th id="725">725</th><td>      <a class="local col7 ref" href="#97node" title='node' data-ref="97node" data-ref-filename="97node">node</a> = <a class="local col7 ref" href="#97node" title='node' data-ref="97node" data-ref-filename="97node">node</a>-&gt;<a class="ref field" href="gconv_int.h.html#gconv_module::same" title='gconv_module::same' data-ref="gconv_module::same" data-ref-filename="gconv_module..same">same</a>;</td></tr>
<tr><th id="726">726</th><td>    }</td></tr>
<tr><th id="727">727</th><td>  <b>while</b> (<a class="local col7 ref" href="#97node" title='node' data-ref="97node" data-ref-filename="97node">node</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="728">728</th><td>}</td></tr>
<tr><th id="729">729</th><td></td></tr>
<tr><th id="730">730</th><td></td></tr>
<tr><th id="731">731</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="732">732</th><td><dfn class="tu decl def fn" id="insert_cache" title='insert_cache' data-type='void insert_cache()' data-ref="insert_cache" data-ref-filename="insert_cache">insert_cache</dfn> (<em>void</em>)</td></tr>
<tr><th id="733">733</th><td>{</td></tr>
<tr><th id="734">734</th><td>  <em>const</em> <b>struct</b> <a class="type" href="iconvconfig.h.html#gconvcache_header" title='gconvcache_header' data-ref="gconvcache_header" data-ref-filename="gconvcache_header">gconvcache_header</a> *<dfn class="local col8 decl" id="98header" title='header' data-type='const struct gconvcache_header *' data-ref="98header" data-ref-filename="98header">header</dfn>;</td></tr>
<tr><th id="735">735</th><td>  <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="99strtab" title='strtab' data-type='const char *' data-ref="99strtab" data-ref-filename="99strtab">strtab</dfn>;</td></tr>
<tr><th id="736">736</th><td>  <em>const</em> <b>struct</b> <a class="type" href="iconvconfig.h.html#hash_entry" title='hash_entry' data-ref="hash_entry" data-ref-filename="hash_entry">hash_entry</a> *<dfn class="local col0 decl" id="100hashtab" title='hashtab' data-type='const struct hash_entry *' data-ref="100hashtab" data-ref-filename="100hashtab">hashtab</dfn>;</td></tr>
<tr><th id="737">737</th><td>  <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col1 decl" id="101cnt" title='cnt' data-type='size_t' data-ref="101cnt" data-ref-filename="101cnt">cnt</dfn>;</td></tr>
<tr><th id="738">738</th><td></td></tr>
<tr><th id="739">739</th><td>  <a class="local col8 ref" href="#98header" title='header' data-ref="98header" data-ref-filename="98header">header</a> = (<em>const</em> <b>struct</b> <a class="type" href="iconvconfig.h.html#gconvcache_header" title='gconvcache_header' data-ref="gconvcache_header" data-ref-filename="gconvcache_header">gconvcache_header</a> *) <a class="ref fn" href="gconv_int.h.html#__gconv_get_cache" title='__gconv_get_cache' data-ref="__gconv_get_cache" data-ref-filename="__gconv_get_cache">__gconv_get_cache</a> ();</td></tr>
<tr><th id="740">740</th><td>  <a class="local col9 ref" href="#99strtab" title='strtab' data-ref="99strtab" data-ref-filename="99strtab">strtab</a> = (<em>char</em> *) <a class="local col8 ref" href="#98header" title='header' data-ref="98header" data-ref-filename="98header">header</a> + <a class="local col8 ref" href="#98header" title='header' data-ref="98header" data-ref-filename="98header">header</a>-&gt;<a class="ref field" href="iconvconfig.h.html#gconvcache_header::string_offset" title='gconvcache_header::string_offset' data-ref="gconvcache_header::string_offset" data-ref-filename="gconvcache_header..string_offset">string_offset</a>;</td></tr>
<tr><th id="741">741</th><td>  <a class="local col0 ref" href="#100hashtab" title='hashtab' data-ref="100hashtab" data-ref-filename="100hashtab">hashtab</a> = (<b>struct</b> <a class="type" href="iconvconfig.h.html#hash_entry" title='hash_entry' data-ref="hash_entry" data-ref-filename="hash_entry">hash_entry</a> *) ((<em>char</em> *) <a class="local col8 ref" href="#98header" title='header' data-ref="98header" data-ref-filename="98header">header</a> + <a class="local col8 ref" href="#98header" title='header' data-ref="98header" data-ref-filename="98header">header</a>-&gt;<a class="ref field" href="iconvconfig.h.html#gconvcache_header::hash_offset" title='gconvcache_header::hash_offset' data-ref="gconvcache_header::hash_offset" data-ref-filename="gconvcache_header..hash_offset">hash_offset</a>);</td></tr>
<tr><th id="742">742</th><td></td></tr>
<tr><th id="743">743</th><td>  <b>for</b> (<a class="local col1 ref" href="#101cnt" title='cnt' data-ref="101cnt" data-ref-filename="101cnt">cnt</a> = <var>0</var>; <a class="local col1 ref" href="#101cnt" title='cnt' data-ref="101cnt" data-ref-filename="101cnt">cnt</a> &lt; <a class="local col8 ref" href="#98header" title='header' data-ref="98header" data-ref-filename="98header">header</a>-&gt;<a class="ref field" href="iconvconfig.h.html#gconvcache_header::hash_size" title='gconvcache_header::hash_size' data-ref="gconvcache_header::hash_size" data-ref-filename="gconvcache_header..hash_size">hash_size</a>; ++<a class="local col1 ref" href="#101cnt" title='cnt' data-ref="101cnt" data-ref-filename="101cnt">cnt</a>)</td></tr>
<tr><th id="744">744</th><td>    <b>if</b> (<a class="local col0 ref" href="#100hashtab" title='hashtab' data-ref="100hashtab" data-ref-filename="100hashtab">hashtab</a>[<a class="local col1 ref" href="#101cnt" title='cnt' data-ref="101cnt" data-ref-filename="101cnt">cnt</a>].<a class="ref field" href="iconvconfig.h.html#hash_entry::string_offset" title='hash_entry::string_offset' data-ref="hash_entry::string_offset" data-ref-filename="hash_entry..string_offset">string_offset</a> != <var>0</var>)</td></tr>
<tr><th id="745">745</th><td>      {</td></tr>
<tr><th id="746">746</th><td>	<em>const</em> <em>char</em> *<dfn class="local col2 decl" id="102str" title='str' data-type='const char *' data-ref="102str" data-ref-filename="102str">str</dfn> = <a class="local col9 ref" href="#99strtab" title='strtab' data-ref="99strtab" data-ref-filename="99strtab">strtab</a> + <a class="local col0 ref" href="#100hashtab" title='hashtab' data-ref="100hashtab" data-ref-filename="100hashtab">hashtab</a>[<a class="local col1 ref" href="#101cnt" title='cnt' data-ref="101cnt" data-ref-filename="101cnt">cnt</a>].<a class="ref field" href="iconvconfig.h.html#hash_entry::string_offset" title='hash_entry::string_offset' data-ref="hash_entry::string_offset" data-ref-filename="hash_entry..string_offset">string_offset</a>;</td></tr>
<tr><th id="747">747</th><td></td></tr>
<tr><th id="748">748</th><td>	<b>if</b> (<a class="ref fn" href="../string/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="local col2 ref" href="#102str" title='str' data-ref="102str" data-ref-filename="102str">str</a>, <q>"INTERNAL"</q>) != <var>0</var>)</td></tr>
<tr><th id="749">749</th><td>	  <a class="ref fn" href="../misc/search.h.html#tsearch" title='tsearch' data-ref="tsearch" data-ref-filename="tsearch">tsearch</a> (<a class="local col2 ref" href="#102str" title='str' data-ref="102str" data-ref-filename="102str">str</a>, &amp;<a class="tu ref" href="#printlist" title='printlist' data-use='a' data-ref="printlist" data-ref-filename="printlist">printlist</a>, (<a class="typedef" href="../misc/search.h.html#__compar_fn_t" title='__compar_fn_t' data-type='int (*)(const void *, const void *)' data-ref="__compar_fn_t" data-ref-filename="__compar_fn_t">__compar_fn_t</a>) <a class="ref fn" href="../string/string.h.html#strverscmp" title='strverscmp' data-ref="strverscmp" data-ref-filename="strverscmp">strverscmp</a>);</td></tr>
<tr><th id="750">750</th><td>      }</td></tr>
<tr><th id="751">751</th><td>}</td></tr>
<tr><th id="752">752</th><td></td></tr>
<tr><th id="753">753</th><td></td></tr>
<tr><th id="754">754</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="755">755</th><td><dfn class="tu decl def fn" id="print_known_names" title='print_known_names' data-type='void print_known_names()' data-ref="print_known_names" data-ref-filename="print_known_names">print_known_names</dfn> (<em>void</em>)</td></tr>
<tr><th id="756">756</th><td>{</td></tr>
<tr><th id="757">757</th><td>  <a class="typedef" href="iconv.h.html#iconv_t" title='iconv_t' data-type='void *' data-ref="iconv_t" data-ref-filename="iconv_t">iconv_t</a> <dfn class="local col3 decl" id="103h" title='h' data-type='iconv_t' data-ref="103h" data-ref-filename="103h">h</dfn>;</td></tr>
<tr><th id="758">758</th><td>  <em>void</em> *<dfn class="local col4 decl" id="104cache" title='cache' data-type='void *' data-ref="104cache" data-ref-filename="104cache">cache</dfn>;</td></tr>
<tr><th id="759">759</th><td></td></tr>
<tr><th id="760">760</th><td>  <i>/* We must initialize the internal databases first.  */</i></td></tr>
<tr><th id="761">761</th><td>  <a class="local col3 ref" href="#103h" title='h' data-ref="103h" data-ref-filename="103h">h</a> = <a class="ref fn" href="iconv.h.html#iconv_open" title='iconv_open' data-ref="iconv_open" data-ref-filename="iconv_open">iconv_open</a> (<q>"L1"</q>, <q>"L1"</q>);</td></tr>
<tr><th id="762">762</th><td>  <a class="ref fn" href="iconv.h.html#iconv_close" title='iconv_close' data-ref="iconv_close" data-ref-filename="iconv_close">iconv_close</a> (<a class="local col3 ref" href="#103h" title='h' data-ref="103h" data-ref-filename="103h">h</a>);</td></tr>
<tr><th id="763">763</th><td></td></tr>
<tr><th id="764">764</th><td>  <i>/* See whether we have a cache.  */</i></td></tr>
<tr><th id="765">765</th><td>  <a class="local col4 ref" href="#104cache" title='cache' data-ref="104cache" data-ref-filename="104cache">cache</a> = <a class="ref fn" href="gconv_int.h.html#__gconv_get_cache" title='__gconv_get_cache' data-ref="__gconv_get_cache" data-ref-filename="__gconv_get_cache">__gconv_get_cache</a> ();</td></tr>
<tr><th id="766">766</th><td>  <b>if</b> (<a class="local col4 ref" href="#104cache" title='cache' data-ref="104cache" data-ref-filename="104cache">cache</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="767">767</th><td>    <i>/* Yep, use only this information.  */</i></td></tr>
<tr><th id="768">768</th><td>    <a class="tu ref fn" href="#insert_cache" title='insert_cache' data-use='c' data-ref="insert_cache" data-ref-filename="insert_cache">insert_cache</a> ();</td></tr>
<tr><th id="769">769</th><td>  <b>else</b></td></tr>
<tr><th id="770">770</th><td>    {</td></tr>
<tr><th id="771">771</th><td>      <b>struct</b> <a class="type" href="gconv_int.h.html#gconv_module" title='gconv_module' data-ref="gconv_module" data-ref-filename="gconv_module">gconv_module</a> *<dfn class="local col5 decl" id="105modules" title='modules' data-type='struct gconv_module *' data-ref="105modules" data-ref-filename="105modules">modules</dfn>;</td></tr>
<tr><th id="772">772</th><td></td></tr>
<tr><th id="773">773</th><td>      <i>/* No, then use the information read from the gconv-modules file.</i></td></tr>
<tr><th id="774">774</th><td><i>	 First add the aliases.  */</i></td></tr>
<tr><th id="775">775</th><td>      <a class="ref fn" href="../misc/search.h.html#twalk" title='twalk' data-ref="twalk" data-ref-filename="twalk">twalk</a> (<a class="ref fn" href="gconv_int.h.html#__gconv_get_alias_db" title='__gconv_get_alias_db' data-ref="__gconv_get_alias_db" data-ref-filename="__gconv_get_alias_db">__gconv_get_alias_db</a> (), <a class="tu ref fn" href="#insert_print_list" title='insert_print_list' data-use='r' data-ref="insert_print_list" data-ref-filename="insert_print_list">insert_print_list</a>);</td></tr>
<tr><th id="776">776</th><td></td></tr>
<tr><th id="777">777</th><td>      <i>/* Add the from- and to-names from the known modules.  */</i></td></tr>
<tr><th id="778">778</th><td>      <a class="local col5 ref" href="#105modules" title='modules' data-ref="105modules" data-ref-filename="105modules">modules</a> = <a class="ref fn" href="gconv_int.h.html#__gconv_get_modules_db" title='__gconv_get_modules_db' data-ref="__gconv_get_modules_db" data-ref-filename="__gconv_get_modules_db">__gconv_get_modules_db</a> ();</td></tr>
<tr><th id="779">779</th><td>      <b>if</b> (<a class="local col5 ref" href="#105modules" title='modules' data-ref="105modules" data-ref-filename="105modules">modules</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="780">780</th><td>	<a class="tu ref fn" href="#add_known_names" title='add_known_names' data-use='c' data-ref="add_known_names" data-ref-filename="add_known_names">add_known_names</a> (<a class="local col5 ref" href="#105modules" title='modules' data-ref="105modules" data-ref-filename="105modules">modules</a>);</td></tr>
<tr><th id="781">781</th><td>    }</td></tr>
<tr><th id="782">782</th><td></td></tr>
<tr><th id="783">783</th><td>  <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col6 decl" id="106human_readable" title='human_readable' data-type='_Bool' data-ref="106human_readable" data-ref-filename="106human_readable">human_readable</dfn> = <a class="ref fn" href="../posix/unistd.h.html#isatty" title='isatty' data-ref="isatty" data-ref-filename="isatty">isatty</a> (<a class="ref fn" href="../libio/stdio.h.html#fileno" title='fileno' data-ref="fileno" data-ref-filename="fileno">fileno</a> (<a class="macro" href="../libio/stdio.h.html#142" title="stdout" data-ref="_M/stdout">stdout</a>));</td></tr>
<tr><th id="784">784</th><td></td></tr>
<tr><th id="785">785</th><td>  <b>if</b> (<a class="local col6 ref" href="#106human_readable" title='human_readable' data-ref="106human_readable" data-ref-filename="106human_readable">human_readable</a>)</td></tr>
<tr><th id="786">786</th><td>    <a class="ref fn" href="../libio/stdio.h.html#fputs" title='fputs' data-ref="fputs" data-ref-filename="fputs">fputs</a> (<a class="macro" href="../include/libintl.h.html#49" title="__dcgettext (_libc_intl_domainname, &quot;The following list contains all the coded character sets known.  This does\nnot necessarily mean that all combinations of these names can be used for\nthe FROM and TO command line parameters.  One coded character set can be\nlisted with several different names (aliases).\n\n  &quot;, 5)" data-ref="_M/_">_</a>(<q>"\</q></td></tr>
<tr><th id="787">787</th><td><q>The following list contains all the coded character sets known.  This does\n\</q></td></tr>
<tr><th id="788">788</th><td><q>not necessarily mean that all combinations of these names can be used for\n\</q></td></tr>
<tr><th id="789">789</th><td><q>the FROM and TO command line parameters.  One coded character set can be\n\</q></td></tr>
<tr><th id="790">790</th><td><q>listed with several different names (aliases).\n\n  "</q>), <a class="macro" href="../libio/stdio.h.html#142" title="stdout" data-ref="_M/stdout">stdout</a>);</td></tr>
<tr><th id="791">791</th><td></td></tr>
<tr><th id="792">792</th><td>  <i>/* Now print the collected names.  */</i></td></tr>
<tr><th id="793">793</th><td>  <a class="tu ref" href="#column" title='column' data-use='w' data-ref="column" data-ref-filename="column">column</a> = <var>2</var>;</td></tr>
<tr><th id="794">794</th><td>  <a class="ref fn" href="../misc/search.h.html#twalk" title='twalk' data-ref="twalk" data-ref-filename="twalk">twalk</a> (<a class="tu ref" href="#printlist" title='printlist' data-use='r' data-ref="printlist" data-ref-filename="printlist">printlist</a>, <a class="local col6 ref" href="#106human_readable" title='human_readable' data-ref="106human_readable" data-ref-filename="106human_readable">human_readable</a> ? <a class="tu ref fn" href="#do_print_human" title='do_print_human' data-use='r' data-ref="do_print_human" data-ref-filename="do_print_human">do_print_human</a> : <a class="tu ref fn" href="#do_print" title='do_print' data-use='r' data-ref="do_print" data-ref-filename="do_print">do_print</a>);</td></tr>
<tr><th id="795">795</th><td></td></tr>
<tr><th id="796">796</th><td>  <b>if</b> (<a class="local col6 ref" href="#106human_readable" title='human_readable' data-ref="106human_readable" data-ref-filename="106human_readable">human_readable</a> &amp;&amp; <a class="tu ref" href="#column" title='column' data-use='r' data-ref="column" data-ref-filename="column">column</a> != <var>0</var>)</td></tr>
<tr><th id="797">797</th><td>    <a class="ref fn" href="../libio/stdio.h.html#puts" title='puts' data-ref="puts" data-ref-filename="puts">puts</a> (<q>""</q>);</td></tr>
<tr><th id="798">798</th><td>}</td></tr>
<tr><th id="799">799</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2020-Feb-26</em> from project glibc_src_2.28 revision <em>2.28</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
