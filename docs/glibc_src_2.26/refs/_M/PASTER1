<dec f='glibc_src_2.26/sysdeps/x86/init-arch.h' l='52'/>
<doc f='glibc_src_2.26/sysdeps/x86/init-arch.h' l='24'>/* These macros are used to implement ifunc selection in C.  To implement
   an ifunc function, foo, which returns the address of __foo_sse2 or
   __foo_avx2:

   #define foo __redirect_foo
   #define __foo __redirect___foo
   #include &lt;foo.h&gt;
   #undef foo
   #undef __foo
   #define SYMBOL_NAME foo
   #include &lt;init-arch.h&gt;

   extern __typeof (REDIRECT_NAME) OPTIMIZE (sse2) attribute_hidden;
   extern __typeof (REDIRECT_NAME) OPTIMIZE (avx2) attribute_hidden;

   static inline void *
   foo_selector (void)
   {
     if (use AVX2)
      return OPTIMIZE (avx2);

     return OPTIMIZE (sse2);
   }

   libc_ifunc_redirected (__redirect_foo, foo, foo_selector ());

*/</doc>
